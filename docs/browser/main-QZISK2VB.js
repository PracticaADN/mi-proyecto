import{a as dw,b as dm,c as _d,d as Ha,e as um,f as vd,g as bd,h as uw,i as hm,j as Rt,k as Ri,l as qi,m as yd,n as Ur,o as wd,p as hw,q as Di,r as Te}from"./chunk-6L4WP2HM.js";import{$ as xi,$a as rd,$b as hd,A as gi,Aa as wt,Ab as qe,Ac as pd,B as kt,Ba as et,Bb as Ho,Bc as gd,C as Zf,Ca as Fr,Cb as _t,Cc as ow,D as Fn,Da as ht,Db as yt,Dc as zi,E as Vn,Ea as nm,Eb as _i,Ec as sw,F as No,Fa as x0,Fb as ae,Fc as aw,G as Jf,Ga as jo,Gb as Ai,Gc as jr,H as Re,Ha as T0,Hb as de,Hc as lw,I as _0,Ia as Xe,Ib as Pt,Ic as cw,J as Mr,Ja as De,Jb as Mt,K as Or,Ka as qa,Kb as z0,L as ji,La as Uo,Lb as q0,Lc as Wa,M as tm,Ma as Bo,Mb as Bn,Mc as Ka,N as v0,Na as A0,Nb as ot,O as Ua,Oa as S0,Ob as $e,Oc as Br,P as Fo,Pa as R0,Pb as Vr,Pc as Ed,Q as b0,Qa as D0,Qb as ld,Qc as Ko,R as Vo,Ra as k0,Rb as we,Rc as fw,S as id,Sa as P0,Sb as Jt,Sc as mw,T as xe,Ta as M0,Tb as $0,U as Lt,Ua as li,Ub as Wo,V as em,Va as $a,Vb as G0,W as Ft,Wa as J,Wb as cd,X as y0,Xa as R,Xb as H0,Y as Ht,Ya as zo,Yb as dd,Z as jt,Za as qo,Zb as ud,_ as Ln,_a as O0,_b as sm,a as Ue,aa as q,ab as od,ac as am,b as h0,ba as nt,bb as $o,bc as W0,c as Be,ca as w0,cb as ln,cc as Ga,d as Yf,da as B,db as N0,dc as fd,e as Zc,ea as im,eb as rm,ec as K0,f as it,fa as I,fb as Go,fc as lm,g as ni,ga as z,gb as F0,gc as Ee,h as f0,ha as jn,hb as Yt,hc as Q0,i as Jc,ia as Ba,ib as ze,ic as Y0,j as m0,ja as za,jb as V0,jc as Dt,k as On,ka as St,kb as om,kc as cn,l as Nn,la as rt,lb as vt,lc as dn,m as Mo,ma as dt,mb as sd,mc as Si,n as Nt,na as nd,nb as Bi,nc as X0,o as K,oa as E0,ob as Ut,oc as Z0,p as Pr,pa as Un,pb as ft,pc as Lr,q as ja,qa as Ui,qb as qt,qc as J0,r as p0,ra as Ye,rb as ad,rc as tw,s as Y,sa as re,sb as L0,sc as ct,t as Oo,ta as oe,tb as $t,tc as ew,u as ai,ua as Nr,ub as j0,uc as cm,v as Xf,va as I0,vb as U0,vc as iw,w as td,wa as Ti,wb as B0,wc as nw,x as an,xa as Lo,xb as V,xc as un,y as ed,ya as se,yb as U,yc as rw,z as g0,za as C0,zb as pt,zc as md}from"./chunk-UTYKSIRM.js";import{a as N,b as bt,e as Qf,f as P}from"./chunk-2F6QYXKT.js";var mm=class{};var Qo=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var pm=class{encodeKey(t){return pw(t)}encodeValue(t){return pw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function XR(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var ZR=/%(\d[a-f0-9])/gi,JR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pw(n){return encodeURIComponent(n).replace(ZR,(t,e)=>JR[e]??t)}function Id(n){return`${n}`}var zn=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new pm,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=XR(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(Id):[Id(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Id(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Id(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var gm=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function tD(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function gw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _w(n){return typeof Blob<"u"&&n instanceof Blob}function vw(n){return typeof FormData<"u"&&n instanceof FormData}function eD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Qa=class n{constructor(t,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(tD(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Qo,this.context??=new gm,!this.params)this.params=new zn,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||gw(this.body)||_w(this.body)||vw(this.body)||eD(this.body)?this.body:this.body instanceof zn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vw(this.body)?null:_w(this.body)?this.body.type||null:gw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof zn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,d=t.headers||this.headers,h=t.params||this.params,m=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((g,v)=>g.set(v,t.setHeaders[v]),d)),t.setParams&&(h=Object.keys(t.setParams).reduce((g,v)=>g.set(v,t.setParams[v]),h)),new n(e,i,s,{params:h,headers:d,context:m,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},bw=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(bw||{}),_m=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new Qo,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var vm=class n extends _m{constructor(t={}){super(t),this.type=bw.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};function fm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var yw=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Qa)o=e;else{let c;r.headers instanceof Qo?c=r.headers:c=new Qo(r.headers);let d;r.params&&(r.params instanceof zn?d=r.params:d=new zn({fromObject:r.params})),o=new Qa(e,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=K(o).pipe(Vn(c=>this.handler.handle(c)));if(e instanceof Qa||r.observe==="events")return s;let a=s.pipe(kt(c=>c instanceof vm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Y(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Y(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new zn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,fm(r,i))}post(e,i,r={}){return this.request("POST",e,fm(r,i))}put(e,i,r={}){return this.request("PUT",e,fm(r,i))}static{this.\u0275fac=function(i){return new(i||n)(I(mm))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();var wm=class extends tw{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Em=class n extends wm{static makeCurrent(){J0(new n)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=rD();return e==null?null:oD(e)}resetBaseElement(){Ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return rw(document.cookie,t)}},Ya=null;function rD(){return Ya=Ya||document.querySelector("base"),Ya?Ya.getAttribute("href"):null}function oD(n){return new URL(n,document.baseURI).pathname}var Im=class{addToWindow(t){Ln.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new jt(5103,!1);return o},Ln.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ln.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let r=Ln.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Ln.frameworkStabilizers||(Ln.frameworkStabilizers=[]),Ln.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let r=t.getTestability(e);return r??(i?Lr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},sD=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Cm=new B(""),Iw=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new jt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(I(Cm),I(et))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Cd=class{constructor(t){this._doc=t}},bm="ng-app-id",Cw=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jr(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${bm}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(bm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(bm,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(I(ct),I(jo),I(qa,8),I(Xe))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),ym={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Tm=/%COMP%/g,xw="%COMP%",aD=`_nghost-${xw}`,lD=`_ngcontent-${xw}`,cD=!0,dD=new B("",{providedIn:"root",factory:()=>cD});function uD(n){return lD.replace(Tm,n)}function hD(n){return aD.replace(Tm,n)}function Tw(n,t){return t.map(e=>e.replace(Tm,n))}var xd=(()=>{class n{constructor(e,i,r,o,s,a,c,d=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=jr(a),this.defaultRenderer=new Xa(e,s,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===za.ShadowDom&&(i=bt(N({},i),{encapsulation:za.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Td?r.applyToHost(e):r instanceof Za&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case za.Emulated:o=new Td(c,d,i,this.appId,h,s,a,m);break;case za.ShadowDom:return new xm(c,d,e,i,s,a,this.nonce,m);default:o=new Za(c,d,i,h,s,a,m);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(I(Iw),I(Cw),I(jo),I(dD),I(ct),I(Xe),I(et),I(qa))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Xa=class{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ym[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(ww(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ww(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new jt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=ym[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=ym[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&($a.DashCase|$a.Important)?t.style.setProperty(e,i,r&$a.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&$a.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=Lr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function ww(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var xm=class extends Xa{constructor(t,e,i,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=Tw(r.id,r.styles);for(let h of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Za=class extends Xa{constructor(t,e,i,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?Tw(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Td=class extends Za{constructor(t,e,i,r,o,s,a,c){let d=r+"-"+i.id;super(t,e,i,o,s,a,c,d),this.contentAttr=uD(d),this.hostAttr=hD(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},fD=(()=>{class n extends Cd{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(I(ct))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Ew=["alt","control","meta","shift"],mD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pD={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},gD=(()=>{class n extends Cd{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lr().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Ew.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=mD[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ew.forEach(s=>{if(s!==r){let a=pD[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(I(ct))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function _D(){Em.makeCurrent()}function vD(){return new Fr}function bD(){return x0(document),document}var yD=[{provide:Xe,useValue:sw},{provide:T0,useValue:_D,multi:!0},{provide:ct,useFactory:bD,deps:[]}],Aw=K0(Q0,"browser",yD),wD=new B(""),ED=[{provide:dd,useClass:Im,deps:[]},{provide:H0,useClass:ud,deps:[et,sm,dd]},{provide:ud,useClass:ud,deps:[et,sm,dd]}],ID=[{provide:E0,useValue:"root"},{provide:Fr,useFactory:vD,deps:[]},{provide:Cm,useClass:fD,multi:!0,deps:[ct,et,Xe]},{provide:Cm,useClass:gD,multi:!0,deps:[ct]},xd,Cw,Iw,{provide:od,useExisting:xd},{provide:cw,useClass:sD,deps:[]},[]],Sw=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:jo,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(I(wD,12))}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[...ID,...ED],imports:[zi,Y0]})}}return n})();var Rw=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(I(ct))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Am=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=I(CD),r},providedIn:"root"})}}return n})(),CD=(()=>{class n extends Am{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case li.NONE:return i;case li.HTML:return Bo(i,"HTML")?Uo(i):M0(this._doc,String(i)).toString();case li.STYLE:return Bo(i,"Style")?Uo(i):i;case li.SCRIPT:if(Bo(i,"Script"))return Uo(i);throw new jt(5200,!1);case li.URL:return Bo(i,"URL")?Uo(i):P0(String(i));case li.RESOURCE_URL:if(Bo(i,"ResourceURL"))return Uo(i);throw new jt(5201,!1);default:throw new jt(5202,!1)}}bypassSecurityTrustHtml(e){return A0(e)}bypassSecurityTrustStyle(e){return S0(e)}bypassSecurityTrustScript(e){return R0(e)}bypassSecurityTrustUrl(e){return D0(e)}bypassSecurityTrustResourceUrl(e){return k0(e)}static{this.\u0275fac=function(i){return new(i||n)(I(ct))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gt="primary",fl=Symbol("RouteTitle"),Mm=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function es(n){return new Mm(n)}function xD(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function TD(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!$i(n[e],t[e]))return!1;return!0}function $i(n,t){let e=n?Om(n):void 0,i=t?Om(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Uw(n[r],t[r]))return!1;return!0}function Om(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Uw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function Bw(n){return n.length>0?n[n.length-1]:null}function Gn(n){return ja(n)?n:hd(n)?Nt(Promise.resolve(n)):K(n)}var AD={exact:qw,subset:$w},zw={exact:SD,subset:RD,ignored:()=>!0};function Dw(n,t,e){return AD[e.paths](n.root,t.root,e.matrixParams)&&zw[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function SD(n,t){return $i(n,t)}function qw(n,t,e){if(!qr(n.segments,t.segments)||!Rd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!qw(n.children[i],t.children[i],e))return!1;return!0}function RD(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Uw(n[e],t[e]))}function $w(n,t,e){return Gw(n,t,t.segments,e)}function Gw(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!qr(r,e)||t.hasChildren()||!Rd(r,e,i))}else if(n.segments.length===e.length){if(!qr(n.segments,e)||!Rd(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!$w(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!qr(n.segments,r)||!Rd(n.segments,r,i)||!n.children[gt]?!1:Gw(n.children[gt],t,o,i)}}function Rd(n,t,e){return t.every((i,r)=>zw[e](n[r].parameters,i.parameters))}var fn=class{constructor(t=new Ot([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=es(this.queryParams),this._queryParamMap}toString(){return PD.serialize(this)}},Ot=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dd(this)}},zr=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=es(this.parameters),this._parameterMap}toString(){return Ww(this)}};function DD(n,t){return qr(n,t)&&n.every((e,i)=>$i(e.parameters,t[i].parameters))}function qr(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function kD(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===gt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==gt&&(e=e.concat(t(r,i)))}),e}var ml=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>new is,providedIn:"root"})}}return n})(),is=class{parse(t){let e=new Fm(t);return new fn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ja(t.root,!0)}`,i=ND(t.queryParams),r=typeof t.fragment=="string"?`#${MD(t.fragment)}`:"";return`${e}${i}${r}`}},PD=new is;function Dd(n){return n.segments.map(t=>Ww(t)).join("/")}function Ja(n,t){if(!n.hasChildren())return Dd(n);if(t){let e=n.children[gt]?Ja(n.children[gt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==gt&&i.push(`${r}:${Ja(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=kD(n,(i,r)=>r===gt?[Ja(n.children[gt],!1)]:[`${r}:${Ja(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[gt]!=null?`${Dd(n)}/${e[0]}`:`${Dd(n)}/(${e.join("//")})`}}function Hw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ad(n){return Hw(n).replace(/%3B/gi,";")}function MD(n){return encodeURI(n)}function Nm(n){return Hw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kd(n){return decodeURIComponent(n)}function kw(n){return kd(n.replace(/\+/g,"%20"))}function Ww(n){return`${Nm(n.path)}${OD(n.parameters)}`}function OD(n){return Object.entries(n).map(([t,e])=>`;${Nm(t)}=${Nm(e)}`).join("")}function ND(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Ad(e)}=${Ad(r)}`).join("&"):`${Ad(e)}=${Ad(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var FD=/^[^\/()?;#]+/;function Rm(n){let t=n.match(FD);return t?t[0]:""}var VD=/^[^\/()?;=#]+/;function LD(n){let t=n.match(VD);return t?t[0]:""}var jD=/^[^=?&#]+/;function UD(n){let t=n.match(jD);return t?t[0]:""}var BD=/^[^&#]+/;function zD(n){let t=n.match(BD);return t?t[0]:""}var Fm=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[gt]=new Ot(t,e)),i}parseSegment(){let t=Rm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new jt(4009,!1);return this.capture(t),new zr(kd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=LD(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Rm(this.remaining);r&&(i=r,this.capture(i))}t[kd(e)]=kd(i)}parseQueryParam(t){let e=UD(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=zD(this.remaining);s&&(i=s,this.capture(i))}let r=kw(e),o=kw(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Rm(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new jt(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=gt);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[gt]:new Ot([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new jt(4011,!1)}};function Kw(n){return n.segments.length>0?new Ot([],{[gt]:n}):n}function Qw(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=Qw(r);if(i===gt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new Ot(n.segments,t);return qD(e)}function qD(n){if(n.numberOfChildren===1&&n.children[gt]){let t=n.children[gt];return new Ot(n.segments.concat(t.segments),t.children)}return n}function ol(n){return n instanceof fn}function $D(n,t,e=null,i=null){let r=Yw(n);return Xw(r,t,e,i)}function Yw(n){let t;function e(o){let s={};for(let c of o.children){let d=e(c);s[c.outlet]=d}let a=new Ot(o.url,s);return o===n&&(t=a),a}let i=e(n.root),r=Kw(i);return t??r}function Xw(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return Dm(r,r,r,e,i);let o=GD(t);if(o.toRoot())return Dm(r,r,new Ot([],{}),e,i);let s=HD(o,r,n),a=s.processChildren?il(s.segmentGroup,s.index,o.commands):Jw(s.segmentGroup,s.index,o.commands);return Dm(r,s.segmentGroup,a,e,i)}function Pd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function sl(n){return typeof n=="object"&&n!=null&&n.outlets}function Dm(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;n===t?s=e:s=Zw(n,t,e);let a=Kw(Qw(s));return new fn(a,o,r)}function Zw(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=Zw(o,t,e)}),new Ot(n.segments,i)}var Md=class{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Pd(i[0]))throw new jt(4003,!1);let r=i.find(sl);if(r&&r!==Bw(i))throw new jt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GD(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Md(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Md(e,t,i)}var Zo=class{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function HD(n,t,e){if(n.isAbsolute)return new Zo(t,!0,0);if(!e)return new Zo(t,!1,NaN);if(e.parent===null)return new Zo(e,!0,0);let i=Pd(n.commands[0])?0:1,r=e.segments.length-1+i;return WD(e,r,n.numberOfDoubleDots)}function WD(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new jt(4005,!1);r=i.segments.length}return new Zo(i,!1,r-o)}function KD(n){return sl(n[0])?n[0].outlets:{[gt]:n}}function Jw(n,t,e){if(n??=new Ot([],{}),n.segments.length===0&&n.hasChildren())return il(n,t,e);let i=QD(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Ot(n.segments.slice(0,i.pathIndex),{});return o.children[gt]=new Ot(n.segments.slice(i.pathIndex),n.children),il(o,0,r)}else return i.match&&r.length===0?new Ot(n.segments,{}):i.match&&!n.hasChildren()?Vm(n,t,e):i.match?il(n,0,r):Vm(n,t,e)}function il(n,t,e){if(e.length===0)return new Ot(n.segments,{});{let i=KD(e),r={};if(Object.keys(i).some(o=>o!==gt)&&n.children[gt]&&n.numberOfChildren===1&&n.children[gt].segments.length===0){let o=il(n.children[gt],t,e);return new Ot(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Jw(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ot(n.segments,r)}}function QD(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let s=n.segments[r],a=e[i];if(sl(a))break;let c=`${a}`,d=i<e.length-1?e[i+1]:null;if(r>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!Mw(c,d,s))return o;i+=2}else{if(!Mw(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Vm(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(sl(o)){let c=YD(o.outlets);return new Ot(i,c)}if(r===0&&Pd(e[0])){let c=n.segments[t];i.push(new zr(c.path,Pw(e[0]))),r++;continue}let s=sl(o)?o.outlets[gt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Pd(a)?(i.push(new zr(s,Pw(a))),r+=2):(i.push(new zr(s,{})),r++)}return new Ot(i,{})}function YD(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Vm(new Ot([],{}),0,i))}),t}function Pw(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Mw(n,t,e){return n==e.path&&$i(t,e.parameters)}var nl="imperative",Ae=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ae||{}),vi=class{constructor(t,e){this.id=t,this.url=e}},ns=class extends vi{constructor(t,e,i="imperative",r=null){super(t,e),this.type=Ae.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mn=class extends vi{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=Ae.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},di=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(di||{}),Od=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Od||{}),hn=class extends vi{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Ae.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qn=class extends vi{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Ae.NavigationSkipped}},al=class extends vi{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=Ae.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nd=class extends vi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Ae.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lm=class extends vi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Ae.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jm=class extends vi{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ae.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Um=class extends vi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Ae.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bm=class extends vi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Ae.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zm=class{constructor(t){this.route=t,this.type=Ae.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qm=class{constructor(t){this.route=t,this.type=Ae.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$m=class{constructor(t){this.snapshot=t,this.type=Ae.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gm=class{constructor(t){this.snapshot=t,this.type=Ae.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hm=class{constructor(t){this.snapshot=t,this.type=Ae.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wm=class{constructor(t){this.snapshot=t,this.type=Ae.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fd=class{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=Ae.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ll=class{},rs=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function XD(n,t){return n.providers&&!n._injector&&(n._injector=om(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ki(n){return n.outlet||gt}function ZD(n,t){let e=n.filter(i=>ki(i)===t);return e.push(...n.filter(i=>ki(i)!==t)),e}function pl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Km=class{get injector(){return pl(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new gl(this.rootInjector),this.attachRef=null}},gl=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Km(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)(I(Un))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vd=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Qm(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Qm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Ym(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ym(t,this._root).map(e=>e.value)}};function Qm(n,t){if(n===t.value)return t;for(let e of t.children){let i=Qm(n,e);if(i)return i}return null}function Ym(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Ym(n,e);if(i.length)return i.unshift(t),i}return[]}var ci=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Xo(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ld=class extends Vd{constructor(t,e){super(t),this.snapshot=e,op(this,t)}toString(){return this.snapshot.toString()}};function tE(n){let t=JD(n),e=new ni([new zr("",{})]),i=new ni({}),r=new ni({}),o=new ni({}),s=new ni(""),a=new $n(e,i,o,s,r,gt,n,t.root);return a.snapshot=t.root,new Ld(new ci(a,[]),t)}function JD(n){let t={},e={},i={},r="",o=new Jo([],t,i,r,e,gt,n,null,{});return new Ud("",new ci(o,[]))}var $n=class{constructor(t,e,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(d=>d[fl]))??K(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(t=>es(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(t=>es(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jd(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:N(N({},t.params),n.params),data:N(N({},t.data),n.data),resolve:N(N(N(N({},n.data),t.data),r?.data),n._resolvedData)}:i={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},r&&iE(r)&&(i.resolve[fl]=r.title),i}var Jo=class{get title(){return this.data?.[fl]}constructor(t,e,i,r,o,s,a,c,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=es(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=es(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ud=class extends Vd{constructor(t,e){super(e),this.url=t,op(this,e)}toString(){return eE(this._root)}};function op(n,t){t.value._routerState=n,t.children.forEach(e=>op(n,e))}function eE(n){let t=n.children.length>0?` { ${n.children.map(eE).join(", ")} } `:"";return`${n.value}${t}`}function km(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,$i(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),$i(t.params,e.params)||n.paramsSubject.next(e.params),TD(t.url,e.url)||n.urlSubject.next(e.url),$i(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Xm(n,t){let e=$i(n.params,t.params)&&DD(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||Xm(n.parent,t.parent))}function iE(n){return typeof n.title=="string"||n.title===null}var sp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new wt,this.deactivateEvents=new wt,this.attachEvents=new wt,this.detachEvents=new wt,this.parentContexts=z(gl),this.location=z(ln),this.changeDetector=z(Ee),this.inputBinder=z(Gd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new jt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new jt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new jt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new jt(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Zm(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=dt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ye]})}}return n})(),Zm=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===$n?this.route:t===gl?this.childContexts:this.parent.get(t,e)}},Gd=new B(""),Ow=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=Oo([i.queryParams,i.params,i.data]).pipe(Lt(([o,s,a],c)=>(a=N(N(N({},o),s),a),c===0?K(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=Z0(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function tk(n,t,e){let i=cl(n,t._root,e?e._root:void 0);return new Ld(i,t)}function cl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=ek(n,t,e);return new ci(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>cl(n,a)),s}}let i=ik(t.value),r=t.children.map(o=>cl(n,o));return new ci(i,r)}}function ek(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cl(n,i,r);return cl(n,i)})}function ik(n){return new $n(new ni(n.url),new ni(n.params),new ni(n.queryParams),new ni(n.fragment),new ni(n.data),n.outlet,n.component,n)}var dl=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},nE="ngNavigationCancelingError";function Bd(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=ol(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=rE(!1,di.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function rE(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[nE]=!0,e.cancellationCode=t,e}function nk(n){return oE(n)&&ol(n.url)}function oE(n){return!!n&&n[nE]}var rk=(n,t,e,i)=>Y(r=>(new Jm(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),Jm=class{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),km(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Xo(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Xo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Xo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Xo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Wm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Gm(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(km(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),km(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},zd=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ts=class{constructor(t,e){this.component=t,this.route=e}};function ok(n,t,e){let i=n._root,r=t?t._root:null;return tl(i,r,e,[i.value])}function sk(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ss(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!w0(n)?n:t.get(n):i}function tl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Xo(t);return n.children.forEach(s=>{ak(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rl(a,e.getContext(s),r)),r}function ak(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=lk(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new zd(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?tl(n,t,a?a.children:null,i,r):tl(n,t,e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ts(a.outlet.component,s))}else s&&rl(t,a,r),r.canActivateChecks.push(new zd(i)),o.component?tl(n,null,a?a.children:null,i,r):tl(n,null,e,i,r);return r}function lk(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!qr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!qr(n.url,t.url)||!$i(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xm(n,t)||!$i(n.queryParams,t.queryParams);case"paramsChange":default:return!Xm(n,t)}}function rl(n,t,e){let i=Xo(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?t?rl(s,t.children.getContext(o),e):rl(s,null,e):rl(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ts(t.outlet.component,r)):e.canDeactivateChecks.push(new ts(null,r)):e.canDeactivateChecks.push(new ts(null,r))}function _l(n){return typeof n=="function"}function ck(n){return typeof n=="boolean"}function dk(n){return n&&_l(n.canLoad)}function uk(n){return n&&_l(n.canActivate)}function hk(n){return n&&_l(n.canActivateChild)}function fk(n){return n&&_l(n.canDeactivate)}function mk(n){return n&&_l(n.canMatch)}function sE(n){return n instanceof p0||n?.name==="EmptyError"}var Sd=Symbol("INITIAL_VALUE");function os(){return Lt(n=>Oo(n.map(t=>t.pipe(Re(1),xe(Sd)))).pipe(Y(t=>{for(let e of t)if(e!==!0){if(e===Sd)return Sd;if(e===!1||pk(e))return e}return!0}),kt(t=>t!==Sd),Re(1)))}function pk(n){return ol(n)||n instanceof dl}function gk(n,t){return ai(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?K(bt(N({},e),{guardsResult:!0})):_k(s,i,r,n).pipe(ai(a=>a&&ck(a)?vk(i,o,n,t):K(a)),Y(a=>bt(N({},e),{guardsResult:a})))})}function _k(n,t,e,i){return Nt(n).pipe(ai(r=>Ik(r.component,r.route,e,t,i)),ji(r=>r!==!0,!0))}function vk(n,t,e,i){return Nt(t).pipe(Vn(r=>td(yk(r.route.parent,i),bk(r.route,i),Ek(n,r.path,e),wk(n,r.route,e))),ji(r=>r!==!0,!0))}function bk(n,t){return n!==null&&t&&t(new Hm(n)),K(!0)}function yk(n,t){return n!==null&&t&&t(new $m(n)),K(!0)}function wk(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return K(!0);let r=i.map(o=>an(()=>{let s=pl(t)??e,a=ss(o,s),c=uk(a)?a.canActivate(t,n):Ui(s,()=>a(t,n));return Gn(c).pipe(ji())}));return K(r).pipe(os())}function Ek(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>sk(s)).filter(s=>s!==null).map(s=>an(()=>{let a=s.guards.map(c=>{let d=pl(s.node)??e,h=ss(c,d),m=hk(h)?h.canActivateChild(i,n):Ui(d,()=>h(i,n));return Gn(m).pipe(ji())});return K(a).pipe(os())}));return K(o).pipe(os())}function Ik(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let c=pl(t)??r,d=ss(a,c),h=fk(d)?d.canDeactivate(n,t,e,i):Ui(c,()=>d(n,t,e,i));return Gn(h).pipe(ji())});return K(s).pipe(os())}function Ck(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return K(!0);let o=r.map(s=>{let a=ss(s,n),c=dk(a)?a.canLoad(t,e):Ui(n,()=>a(t,e));return Gn(c)});return K(o).pipe(os(),aE(i))}function aE(n){return h0(Ht(t=>{if(typeof t!="boolean")throw Bd(n,t)}),Y(t=>t===!0))}function xk(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return K(!0);let o=r.map(s=>{let a=ss(s,n),c=mk(a)?a.canMatch(t,e):Ui(n,()=>a(t,e));return Gn(c)});return K(o).pipe(os(),aE(i))}var ul=class{constructor(t){this.segmentGroup=t||null}},hl=class extends Error{constructor(t){super(),this.urlTree=t}};function Yo(n){return Pr(new ul(n))}function Tk(n){return Pr(new jt(4e3,!1))}function Ak(n){return Pr(rE(!1,di.GuardRejected))}var tp=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return K(i);if(r.numberOfChildren>1||!r.children[gt])return Tk(`${t.redirectTo}`);r=r.children[gt]}}applyRedirectCommands(t,e,i,r,o){if(typeof e!="string"){let a=e,{queryParams:c,fragment:d,routeConfig:h,url:m,outlet:g,params:v,data:A,title:D}=r,T=Ui(o,()=>a({params:v,data:A,queryParams:c,fragment:d,routeConfig:h,url:m,outlet:g,title:D}));if(T instanceof fn)throw new hl(T);e=T}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new hl(s);return s}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new fn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new Ot(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new jt(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sk(n,t,e,i,r){let o=lE(n,t,e);return o.matched?(i=XD(t,i),xk(i,t,e,r).pipe(Y(s=>s===!0?o:N({},ep)))):K(o)}function lE(n,t,e){if(t.path==="**")return Rk(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?N({},ep):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||xD)(e,n,t);if(!r)return N({},ep);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?N(N({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Rk(n){return{matched:!0,parameters:n.length>0?Bw(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Nw(n,t,e,i){return e.length>0&&Pk(n,e,i)?{segmentGroup:new Ot(t,kk(i,new Ot(e,n.children))),slicedSegments:[]}:e.length===0&&Mk(n,e,i)?{segmentGroup:new Ot(n.segments,Dk(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Ot(n.segments,n.children),slicedSegments:e}}function Dk(n,t,e,i){let r={};for(let o of e)if(Hd(n,t,o)&&!i[ki(o)]){let s=new Ot([],{});r[ki(o)]=s}return N(N({},i),r)}function kk(n,t){let e={};e[gt]=t;for(let i of n)if(i.path===""&&ki(i)!==gt){let r=new Ot([],{});e[ki(i)]=r}return e}function Pk(n,t,e){return e.some(i=>Hd(n,t,i)&&ki(i)!==gt)}function Mk(n,t,e){return e.some(i=>Hd(n,t,i))}function Hd(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Ok(n,t,e){return t.length===0&&!n.children[e]}var ip=class{};function Nk(n,t,e,i,r,o,s="emptyOnly"){return new np(n,t,e,i,r,s,o).recognize()}var Fk=31,np=class{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new tp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new jt(4002,`'${t.segmentGroup}'`)}recognize(){let t=Nw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Y(({children:e,rootSnapshot:i})=>{let r=new ci(i,e),o=new Ud("",r),s=$D(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Jo([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),gt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,gt,e).pipe(Y(i=>({children:i,rootSnapshot:e})),Fn(i=>{if(i instanceof hl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ul?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(Y(s=>s instanceof ci?[s]:[]))}processChildren(t,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Nt(o).pipe(Vn(s=>{let a=i.children[s],c=ZD(e,s);return this.processSegmentGroup(t,c,a,s,r)}),Fo((s,a)=>(s.push(...a),s)),Jf(null),v0(),ai(s=>{if(s===null)return Yo(i);let a=cE(s);return Vk(a),K(a)}))}processSegment(t,e,i,r,o,s,a){return Nt(e).pipe(Vn(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,r,o,s,a).pipe(Fn(d=>{if(d instanceof ul)return K(null);throw d}))),ji(c=>!!c),Fn(c=>{if(sE(c))return Ok(i,r,o)?K(new ip):Yo(i);throw c}))}processSegmentAgainstRoute(t,e,i,r,o,s,a,c){return ki(i)!==s&&(s===gt||!Hd(r,o,i))?Yo(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,c):Yo(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,a){let{matched:c,parameters:d,consumedSegments:h,positionalParamSegments:m,remainingSegments:g}=lE(e,r,o);if(!c)return Yo(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Fk&&(this.allowRedirects=!1));let v=new Jo(o,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Fw(r),ki(r),r.component??r._loadedComponent??null,r,Vw(r)),A=jd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(A.params),v.data=Object.freeze(A.data);let D=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,m,v,t);return this.applyRedirects.lineralizeSegments(r,D).pipe(ai(T=>this.processSegment(t,i,e,T.concat(g),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a=Sk(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(Lt(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Lt(({routes:d})=>{let h=i._loadedInjector??t,{parameters:m,consumedSegments:g,remainingSegments:v}=c,A=new Jo(g,m,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Fw(i),ki(i),i.component??i._loadedComponent??null,i,Vw(i)),D=jd(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(D.params),A.data=Object.freeze(D.data);let{segmentGroup:T,slicedSegments:G}=Nw(e,g,v,d);if(G.length===0&&T.hasChildren())return this.processChildren(h,d,T,A).pipe(Y(j=>new ci(A,j)));if(d.length===0&&G.length===0)return K(new ci(A,[]));let Q=ki(i)===o;return this.processSegment(h,d,T,G,Q?gt:o,!0,A).pipe(Y(j=>new ci(A,j instanceof ci?[j]:[])))}))):Yo(e)))}getChildConfig(t,e,i){return e.children?K({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?K({routes:e._loadedRoutes,injector:e._loadedInjector}):Ck(t,e,i,this.urlSerializer).pipe(ai(r=>r?this.configLoader.loadChildren(t,e).pipe(Ht(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Ak(e))):K({routes:[],injector:t})}};function Vk(n){n.sort((t,e)=>t.value.outlet===gt?-1:e.value.outlet===gt?1:t.value.outlet.localeCompare(e.value.outlet))}function Lk(n){let t=n.value.routeConfig;return t&&t.path===""}function cE(n){let t=[],e=new Set;for(let i of n){if(!Lk(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=cE(i.children);t.push(new ci(i.value,r))}return t.filter(i=>!e.has(i))}function Fw(n){return n.data||{}}function Vw(n){return n.resolve||{}}function jk(n,t,e,i,r,o){return ai(s=>Nk(n,t,e,i,s.extractedUrl,r,o).pipe(Y(({state:a,tree:c})=>bt(N({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Uk(n,t){return ai(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return K(e);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let d of dE(c))s.add(d);let a=0;return Nt(s).pipe(Vn(c=>o.has(c)?Bk(c,i,n,t):(c.data=jd(c,c.parent,n).resolve,K(void 0))),Ht(()=>a++),tm(1),ai(c=>a===s.size?K(e):On))})}function dE(n){let t=n.children.map(e=>dE(e)).flat();return[n,...t]}function Bk(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!iE(r)&&(o[fl]=r.title),zk(o,n,t,i).pipe(Y(s=>(n._resolvedData=s,n.data=jd(n,n.parent,e).resolve,null)))}function zk(n,t,e,i){let r=Om(n);if(r.length===0)return K({});let o={};return Nt(r).pipe(ai(s=>qk(n[s],t,e,i).pipe(ji(),Ht(a=>{if(a instanceof dl)throw Bd(new is,a);o[s]=a}))),tm(1),_0(o),Fn(s=>sE(s)?On:Pr(s)))}function qk(n,t,e,i){let r=pl(t)??i,o=ss(n,r),s=o.resolve?o.resolve(t,e):Ui(r,()=>o(t,e));return Gn(s)}function Pm(n){return Lt(t=>{let e=n(t);return e?Nt(e).pipe(Y(()=>t)):K(t)})}var uE=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===gt);return i}getResolvedTitleForRoute(e){return e.data[fl]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>z($k),providedIn:"root"})}}return n})(),$k=(()=>{class n extends uE{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(I(Rw))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vl=new B("",{providedIn:"root",factory:()=>({})}),Gk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=St({type:n,selectors:[["ng-component"]],standalone:!0,features:[Jt],decls:1,vars:0,template:function(i,r){i&1&&pt(0,"router-outlet")},dependencies:[sp],encapsulation:2})}}return n})();function ap(n){let t=n.children&&n.children.map(ap),e=t?bt(N({},n),{children:t}):N({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==gt&&(e.component=Gk),e}var qd=new B(""),lp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(fd)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return K(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Gn(e.loadComponent()).pipe(Y(hE),Ht(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Or(()=>{this.componentLoaders.delete(e)})),r=new Zc(i,()=>new it).pipe(Yf());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Hk(i,this.compiler,e,this.onLoadEndListener).pipe(Or(()=>{this.childrenLoaders.delete(i)})),s=new Zc(o,()=>new it).pipe(Yf());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Hk(n,t,e,i){return Gn(n.loadChildren()).pipe(Y(hE),ai(r=>r instanceof V0||Array.isArray(r)?K(r):Nt(t.compileModuleAsync(r))),Y(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(qd,[],{optional:!0,self:!0}).flat()),{routes:s.map(ap),injector:o}}))}function Wk(n){return n&&typeof n=="object"&&"default"in n}function hE(n){return Wk(n)?n.default:n}var cp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>z(Kk),providedIn:"root"})}}return n})(),Kk=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fE=new B(""),mE=new B("");function Qk(n,t,e){let i=n.get(mE),r=n.get(ct);return n.get(et).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),Yk(n))),{onViewTransitionCreated:c}=i;return c&&Ui(n,()=>c({transition:a,from:t,to:e})),s})}function Yk(n){return new Promise(t=>{Bi({read:()=>setTimeout(t)},{injector:n})})}var Xk=new B(""),dp=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new it,this.transitionAbortSubject=new it,this.configLoader=z(lp),this.environmentInjector=z(Un),this.urlSerializer=z(ml),this.rootContexts=z(gl),this.location=z(un),this.inputBindingEnabled=z(Gd,{optional:!0})!==null,this.titleStrategy=z(uE),this.options=z(vl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=z(cp),this.createViewTransition=z(fE,{optional:!0}),this.navigationErrorHandler=z(Xk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let e=r=>this.events.next(new zm(r)),i=r=>this.events.next(new qm(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(bt(N(N({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new ni({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:nl,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kt(o=>o.id!==0),Y(o=>bt(N({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Lt(o=>{let s=!1,a=!1;return K(o).pipe(Lt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",di.SupersededByNewNavigation),On;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?bt(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&h!=="reload"){let m="";return this.events.next(new qn(c.id,this.urlSerializer.serialize(c.rawUrl),m,Od.IgnoredSameUrlNavigation)),c.resolve(!1),On}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return K(c).pipe(Lt(m=>{let g=this.transitions?.getValue();return this.events.next(new ns(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?On:Promise.resolve(m)}),jk(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ht(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=bt(N({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new Nd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:g,source:v,restoredState:A,extras:D}=c,T=new ns(m,this.urlSerializer.serialize(g),v,A);this.events.next(T);let G=tE(this.rootComponentType).snapshot;return this.currentTransition=o=bt(N({},c),{targetSnapshot:G,urlAfterRedirects:g,extras:bt(N({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,K(o)}else{let m="";return this.events.next(new qn(c.id,this.urlSerializer.serialize(c.extractedUrl),m,Od.IgnoredByUrlHandlingStrategy)),c.resolve(!1),On}}),Ht(c=>{let d=new Lm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Y(c=>(this.currentTransition=o=bt(N({},c),{guards:ok(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),gk(this.environmentInjector,c=>this.events.next(c)),Ht(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Bd(this.urlSerializer,c.guardsResult);let d=new jm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),kt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",di.GuardRejected),!1)),Pm(c=>{if(c.guards.canActivateChecks.length)return K(c).pipe(Ht(d=>{let h=new Um(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Lt(d=>{let h=!1;return K(d).pipe(Uk(this.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",di.NoDataFromResolver)}}))}),Ht(d=>{let h=new Bm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Pm(c=>{let d=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ht(g=>{h.component=g}),Y(()=>{})));for(let g of h.children)m.push(...d(g));return m};return Oo(d(c.targetSnapshot.root)).pipe(Jf(null),Re(1))}),Pm(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?Nt(h).pipe(Y(()=>o)):K(o)}),Y(c=>{let d=tk(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=bt(N({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Ht(()=>{this.events.next(new ll)}),rk(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Re(1),Ht({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ft(this.transitionAbortSubject.pipe(Ht(c=>{throw c}))),Or(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",di.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fn(c=>{if(a=!0,oE(c))this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),nk(c)?this.events.next(new rs(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let d=new al(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let h=Ui(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof dl){let{message:m,cancellationCode:g}=Bd(this.urlSerializer,h);this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),m,g)),this.events.next(new rs(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let m=e.errorHandler(c);o.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return On}))}))}cancelNavigationTransition(e,i,r){let o=new hn(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Zk(n){return n!==nl}var Jk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>z(tP),providedIn:"root"})}}return n})(),rp=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},tP=(()=>{class n extends rp{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(n)))(r||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:()=>z(eP),providedIn:"root"})}}return n})(),eP=(()=>{class n extends pE{constructor(){super(...arguments),this.location=z(un),this.urlSerializer=z(ml),this.options=z(vl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=z(cp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof ns)this.stateMemento=this.createStateMemento();else if(e instanceof qn)this.rawUrlTree=i.initialUrl;else if(e instanceof Nd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof ll?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof hn&&(e.code===di.GuardRejected||e.code===di.NoDataFromResolver)?this.restoreHistory(i):e instanceof al?this.restoreHistory(i,!0):e instanceof mn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof fn?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=N(N({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=N(N({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(n)))(r||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),el=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(el||{});function gE(n,t){n.events.pipe(kt(e=>e instanceof mn||e instanceof hn||e instanceof al||e instanceof qn),Y(e=>e instanceof mn||e instanceof qn?el.COMPLETE:(e instanceof hn?e.code===di.Redirect||e.code===di.SupersededByNewNavigation:!1)?el.REDIRECTING:el.FAILED),kt(e=>e!==el.REDIRECTING),Re(1)).subscribe(()=>{t()})}function iP(n){throw n}var nP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ui=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=z(cd),this.stateManager=z(pE),this.options=z(vl,{optional:!0})||{},this.pendingTasks=z(C0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=z(dp),this.urlSerializer=z(ml),this.location=z(un),this.urlHandlingStrategy=z(cp),this._events=new it,this.errorHandler=this.options.errorHandler||iP,this.navigated=!1,this.routeReuseStrategy=z(Jk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=z(qd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!z(Gd,{optional:!0}),this.eventsSubscription=new Ue,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof hn&&i.code!==di.Redirect&&i.code!==di.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof mn)this.navigated=!0;else if(i instanceof rs){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=N({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Zk(r.source)},s);this.scheduleNavigation(a,nl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}sP(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=N({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ap),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let g=r?r.snapshot:this.routerState.snapshot.root;m=Yw(g)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),m=this.currentUrlTree.root}return Xw(m,e,h,d??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=ol(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,nl,null,i)}navigate(e,i={skipLocationChange:!1}){return oP(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=N({},nP):i===!1?r=N({},rP):r=i,ol(e))return Dw(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Dw(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((m,g)=>{a=m,c=g});let h=this.pendingTasks.add();return gE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oP(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new jt(4008,!1)}function sP(n){return!(n instanceof ll)&&!(n instanceof rs)}var $d=class{};var aP=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(kt(e=>e instanceof mn),Vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=om(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Nt(r).pipe(Xf())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=K(null);let o=r.pipe(ai(s=>s===null?K(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Nt([o,s]).pipe(Xf())}else return o})}static{this.\u0275fac=function(i){return new(i||n)(I(ui),I(fd),I(Un),I($d),I(lp))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_E=new B(""),lP=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof mn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof qn&&e.code===Od.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Fd&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fd(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){zo()}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function cP(n){return n.routerState.root}function bl(n,t){return{\u0275kind:n,\u0275providers:t}}function dP(){let n=z(se);return t=>{let e=n.get(Ga);if(t!==e.components[0])return;let i=n.get(ui),r=n.get(vE);n.get(up)===1&&i.initialNavigation(),n.get(bE,null,im.Optional)?.setUpPreloading(),n.get(_E,null,im.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var vE=new B("",{factory:()=>new it}),up=new B("",{providedIn:"root",factory:()=>1});function uP(){return bl(2,[{provide:up,useValue:0},{provide:am,multi:!0,deps:[se],useFactory:t=>{let e=t.get(ew,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=t.get(ui),o=t.get(vE);gE(r,()=>{i(!0)}),t.get(dp).afterPreactivation=()=>(i(!0),o.closed?K(void 0):o),r.initialNavigation()}))}}])}function hP(){return bl(3,[{provide:am,multi:!0,useFactory:()=>{let t=z(ui);return()=>{t.setUpLocationChangeListener()}}},{provide:up,useValue:2}])}var bE=new B("");function fP(n){return bl(0,[{provide:bE,useExisting:aP},{provide:$d,useExisting:n}])}function mP(){return bl(8,[Ow,{provide:Gd,useExisting:Ow}])}function pP(n){let t=[{provide:fE,useValue:Qk},{provide:mE,useValue:N({skipNextTransition:!!n?.skipInitialTransition},n)}];return bl(9,t)}var Lw=new B("ROUTER_FORROOT_GUARD"),gP=[un,{provide:ml,useClass:is},ui,gl,{provide:$n,useFactory:cP,deps:[ui]},lp,[]],hp=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[gP,[],{provide:qd,multi:!0,useValue:e},{provide:Lw,useFactory:yP,deps:[[ui,new jn,new Ba]]},{provide:vl,useValue:i||{}},i?.useHash?vP():bP(),_P(),i?.preloadingStrategy?fP(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?wP(i):[],i?.bindToComponentInputs?mP().\u0275providers:[],i?.enableViewTransitions?pP().\u0275providers:[],EP()]}}static forChild(e){return{ngModule:n,providers:[{provide:qd,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(I(Lw,8))}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({})}}return n})();function _P(){return{provide:_E,useFactory:()=>{let n=z(lw),t=z(et),e=z(vl),i=z(dp),r=z(ml);return e.scrollOffset&&n.setOffset(e.scrollOffset),new lP(r,i,n,t,e)}}}function vP(){return{provide:cm,useClass:nw}}function bP(){return{provide:cm,useClass:iw}}function yP(n){return"guarded"}function wP(n){return[n.initialNavigation==="disabled"?hP().\u0275providers:[],n.initialNavigation==="enabledBlocking"?uP().\u0275providers:[]]}var jw=new B("");function EP(){return[{provide:jw,useFactory:dP},{provide:W0,multi:!0,useExisting:jw}]}var AE=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(R($o),R(ht))}}static{this.\u0275dir=dt({type:n})}}return n})(),vp=(()=>{class n extends AE{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(n)))(r||n)}})()}static{this.\u0275dir=dt({type:n,features:[Yt]})}}return n})(),xl=new B("");var IP={provide:xl,useExisting:xi(()=>Kn),multi:!0};function CP(){let n=Lr()?Lr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var xP=new B(""),Kn=(()=>{class n extends AE{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!CP())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(R($o),R(ht),R(xP,8))}}static{this.\u0275dir=dt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&_t("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[we([IP]),Yt]})}}return n})();function Hn(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function SE(n){return n!=null&&typeof n.length=="number"}var $r=new B(""),hs=new B(""),TP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ke=class{static min(t){return AP(t)}static max(t){return SP(t)}static required(t){return RE(t)}static requiredTrue(t){return RP(t)}static email(t){return DP(t)}static minLength(t){return kP(t)}static maxLength(t){return PP(t)}static pattern(t){return MP(t)}static nullValidator(t){return Qd(t)}static compose(t){return NE(t)}static composeAsync(t){return FE(t)}};function AP(n){return t=>{if(Hn(t.value)||Hn(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function SP(n){return t=>{if(Hn(t.value)||Hn(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function RE(n){return Hn(n.value)?{required:!0}:null}function RP(n){return n.value===!0?null:{required:!0}}function DP(n){return Hn(n.value)||TP.test(n.value)?null:{email:!0}}function kP(n){return t=>Hn(t.value)||!SE(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function PP(n){return t=>SE(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function MP(n){if(!n)return Qd;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Hn(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Qd(n){return null}function DE(n){return n!=null}function kE(n){return hd(n)?Nt(n):n}function PE(n){let t={};return n.forEach(e=>{t=e!=null?N(N({},t),e):t}),Object.keys(t).length===0?null:t}function ME(n,t){return t.map(e=>e(n))}function OP(n){return!n.validate}function OE(n){return n.map(t=>OP(t)?t:e=>t.validate(e))}function NE(n){if(!n)return null;let t=n.filter(DE);return t.length==0?null:function(e){return PE(ME(e,t))}}function bp(n){return n!=null?NE(OE(n)):null}function FE(n){if(!n)return null;let t=n.filter(DE);return t.length==0?null:function(e){let i=ME(e,t).map(kE);return ed(i).pipe(Y(PE))}}function yp(n){return n!=null?FE(OE(n)):null}function yE(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function VE(n){return n._rawValidators}function LE(n){return n._rawAsyncValidators}function fp(n){return n?Array.isArray(n)?n:[n]:[]}function Yd(n,t){return Array.isArray(n)?n.includes(t):n===t}function wE(n,t){let e=fp(t);return fp(n).forEach(r=>{Yd(e,r)||e.push(r)}),e}function EE(n,t){return fp(t).filter(e=>!Yd(n,e))}var Xd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=bp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},ri=class extends Xd{get formDirective(){return null}get path(){return null}},pn=class extends Xd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zd=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},NP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gj=bt(N({},NP),{"[class.ng-submitted]":"isSubmitted"}),fs=(()=>{class n extends Zd{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(R(pn,2))}}static{this.\u0275dir=dt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&qt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Yt]})}}return n})(),ru=(()=>{class n extends Zd{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(R(ri,10))}}static{this.\u0275dir=dt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&qt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Yt]})}}return n})();var yl="VALID",Kd="INVALID",as="PENDING",wl="DISABLED",Wn=class{},Jd=class extends Wn{constructor(t,e){super(),this.value=t,this.source=e}},Il=class extends Wn{constructor(t,e){super(),this.pristine=t,this.source=e}},Cl=class extends Wn{constructor(t,e){super(),this.touched=t,this.source=e}},ls=class extends Wn{constructor(t,e){super(),this.status=t,this.source=e}},mp=class extends Wn{constructor(t){super(),this.source=t}},pp=class extends Wn{constructor(t){super(),this.source=t}};function wp(n){return(ou(n)?n.validators:n)||null}function FP(n){return Array.isArray(n)?bp(n):n||null}function Ep(n,t){return(ou(t)?t.asyncValidators:n)||null}function VP(n){return Array.isArray(n)?yp(n):n||null}function ou(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function jE(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new jt(1e3,"");if(!i[e])throw new jt(1001,"")}function UE(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new jt(1002,"")})}var ds=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=dn(()=>this.statusReactive()),this.statusReactive=Go(void 0),this._pristine=dn(()=>this.pristineReactive()),this.pristineReactive=Go(!0),this._touched=dn(()=>this.touchedReactive()),this.touchedReactive=Go(!1),this._events=new it,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Si(this.statusReactive)}set status(t){Si(()=>this.statusReactive.set(t))}get valid(){return this.status===yl}get invalid(){return this.status===Kd}get pending(){return this.status==as}get disabled(){return this.status===wl}get enabled(){return this.status!==wl}get pristine(){return Si(this.pristineReactive)}set pristine(t){Si(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Si(this.touchedReactive)}set touched(t){Si(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(wE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(EE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(EE(t,this._rawAsyncValidators))}hasValidator(t){return Yd(this._rawValidators,t)}hasAsyncValidator(t){return Yd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(bt(N({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Cl(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Cl(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(bt(N({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Il(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Il(!0,i))}markAsPending(t={}){this.status=as;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ls(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(bt(N({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=wl,this.errors=null,this._forEachChild(r=>{r.disable(bt(N({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Jd(this.value,i)),this._events.next(new ls(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(bt(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=yl,this._forEachChild(i=>{i.enable(bt(N({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(bt(N({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yl||this.status===as)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Jd(this.value,e)),this._events.next(new ls(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(bt(N({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wl:yl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=as,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=kE(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new ls(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?wl:this.errors?Kd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(as)?as:this._anyControlsHaveStatus(Kd)?Kd:yl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Il(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Cl(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ou(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=FP(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=VP(this._rawAsyncValidators)}},us=class extends ds{constructor(t,e,i){super(wp(e),Ep(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){UE(this,!0,t),Object.keys(t).forEach(i=>{jE(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var gp=class extends us{};var Tl=new B("CallSetDisabledState",{providedIn:"root",factory:()=>su}),su="always";function Ip(n,t){return[...t.path,n]}function tu(n,t,e=su){Cp(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),jP(n,t),BP(n,t),UP(n,t),LP(n,t)}function eu(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),nu(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function iu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function LP(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Cp(n,t){let e=VE(n);t.validator!==null?n.setValidators(yE(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=LE(n);t.asyncValidator!==null?n.setAsyncValidators(yE(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();iu(t._rawValidators,r),iu(t._rawAsyncValidators,r)}function nu(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=VE(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=LE(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return iu(t._rawValidators,i),iu(t._rawAsyncValidators,i),e}function jP(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&BE(n,t)})}function UP(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&BE(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function BE(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function BP(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function zE(n,t){n==null,Cp(n,t)}function zP(n,t){return nu(n,t)}function qE(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function qP(n){return Object.getPrototypeOf(n.constructor)===vp}function $E(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function GE(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===Kn?e=o:qP(o)?i=o:r=o}),r||i||e||null}function $P(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var GP={provide:ri,useExisting:xi(()=>xp)},El=Promise.resolve(),xp=(()=>{class n extends ri{get submitted(){return Si(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=dn(()=>this.submittedReactive()),this.submittedReactive=Go(!1),this._directives=new Set,this.ngSubmit=new wt,this.form=new us({},bp(e),yp(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){El.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),tu(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){El.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){El.then(()=>{let i=this._findContainer(e.path),r=new us({});zE(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){El.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){El.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),$E(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(R($r,10),R(hs,10),R(Tl,8))}}static{this.\u0275dir=dt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&_t("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[we([GP]),Yt]})}}return n})();function IE(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function CE(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var cs=class extends ds{constructor(t=null,e,i){super(wp(e),Ep(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ou(e)&&(e.nonNullable||e.initialValueIsDefault)&&(CE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){IE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){IE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){CE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var HP=n=>n instanceof cs,WP=(()=>{class n extends ri{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ip(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(n)))(r||n)}})()}static{this.\u0275dir=dt({type:n,features:[Yt]})}}return n})();var au=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=dt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var Tp=new B(""),KP={provide:pn,useExisting:xi(()=>Ap)},Ap=(()=>{class n extends pn{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new wt,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=GE(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&eu(i,this,!1),tu(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}qE(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&eu(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||n)(R($r,10),R(hs,10),R(xl,10),R(Tp,8),R(Tl,8))}}static{this.\u0275dir=dt({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[we([KP]),Yt,Ye]})}}return n})(),QP={provide:ri,useExisting:xi(()=>Qn)},Qn=(()=>{class n extends ri{get submitted(){return Si(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=dn(()=>this._submittedReactive()),this._submittedReactive=Go(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new wt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return tu(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){eu(e.control||null,e,!1),$P(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),$E(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new mp(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new pp(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(eu(i||null,e),HP(r)&&(tu(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);zE(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&zP(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cp(this.form,this),this._oldForm&&nu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(R($r,10),R(hs,10),R(Tl,8))}}static{this.\u0275dir=dt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&_t("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[we([QP]),Yt,Ye]})}}return n})(),YP={provide:ri,useExisting:xi(()=>lu)},lu=(()=>{class n extends WP{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){HE(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(R(ri,13),R($r,10),R(hs,10))}}static{this.\u0275dir=dt({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[we([YP]),Yt]})}}return n})(),XP={provide:ri,useExisting:xi(()=>cu)},cu=(()=>{class n extends ri{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ip(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){HE(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(R(ri,13),R($r,10),R(hs,10))}}static{this.\u0275dir=dt({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[we([XP]),Yt]})}}return n})();function HE(n){return!(n instanceof lu)&&!(n instanceof Qn)&&!(n instanceof cu)}var ZP={provide:pn,useExisting:xi(()=>Al)},Al=(()=>{class n extends pn{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new wt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=GE(this,o)}ngOnChanges(e){this._added||this._setUpControl(),qE(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Ip(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(R(ri,13),R($r,10),R(hs,10),R(xl,10),R(Tp,8))}}static{this.\u0275dir=dt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[we([ZP]),Yt,Ye]})}}return n})(),JP={provide:xl,useExisting:xi(()=>du),multi:!0};function WE(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function tM(n){return n.split(":")[0]}var du=(()=>{class n extends vp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=WE(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=tM(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(n)))(r||n)}})()}static{this.\u0275dir=dt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&_t("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[we([JP]),Yt]})}}return n})(),KE=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(WE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R($o),R(du,9))}}static{this.\u0275dir=dt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),eM={provide:xl,useExisting:xi(()=>QE),multi:!0};function xE(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function iM(n){return n.split(":")[0]}var QE=(()=>{class n extends vp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],d=this._getOptionValue(c.value);r.push(d)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let d=this._getOptionValue(c.value);r.push(d)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=iM(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(n)))(r||n)}})()}static{this.\u0275dir=dt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&_t("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[we([eM]),Yt]})}}return n})(),YE=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(xE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(xE(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R($o),R(QE,9))}}static{this.\u0275dir=dt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var nM=(()=>{class n{constructor(){this._validator=Qd}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Qd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=dt({type:n,features:[Ye]})}}return n})();var rM={provide:$r,useExisting:xi(()=>Sp),multi:!0};var Sp=(()=>{class n extends nM{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Dt,this.createValidator=e=>RE}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ti(n)))(r||n)}})()}static{this.\u0275dir=dt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ut("required",r._enabled?"":null)},inputs:{required:"required"},features:[we([rM]),Yt]})}}return n})();var XE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({})}}return n})(),_p=class extends ds{constructor(t,e,i){super(wp(e),Ep(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){UE(this,!1,t),t.forEach((i,r)=>{jE(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function TE(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ms=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return TE(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new us(r,o)}record(e,i=null){let r=this._reduceControls(e);return new gp(r,i)}control(e,i,r){let o={};return this.useNonNullable?(TE(i)?o=i:(o.validators=i,o.asyncValidators=r),new cs(e,bt(N({},o),{nonNullable:!0}))):new cs(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new _p(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof cs)return e;if(e instanceof ds)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ZE=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Tl,useValue:e.callSetDisabledState??su}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[XE]})}}return n})(),JE=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Tp,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Tl,useValue:e.callSetDisabledState??su}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[XE]})}}return n})();var oM="firebase",sM="10.14.1";Di(oM,sM,"app");var Yn=new Wo("ANGULARFIRE2_VERSION");var aM=(n,t)=>{let e=t?[t]:hw(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},gn=class{constructor(){return aM(lM)}},lM="app-check";function Rp(){}var hu=class{zone;delegate;constructor(t,e=m0){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,e,i)}},Dp=class{zone;task=null;constructor(t){this.zone=t}call(t,e){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rp,{},Rp,Rp)),e.pipe(Ht({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ps=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new hu(Zone.current)),this.insideAngular=e.run(()=>new hu(Zone.current,Jc)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(I(et))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tI(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function kp(n){return n.pipe(Nn(tI().outsideAngular))}function Pe(n){return cM(tI())(n)}function cM(n){return function(e){return e=e.lift(new Dp(n.ngZone)),e.pipe(Mo(n.outsideAngular),Nn(n.insideAngular))}}var dM=new Map,uM={activated:!1,tokenObservers:[]},hM={initialized:!1,enabled:!1};function Pi(n){return dM.get(n)||Object.assign({},uM)}function aI(){return hM}var fM="https://content-firebaseappcheck.googleapis.com/v1";var mM="exchangeDebugToken",eI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},dU=24*60*60*1e3;var Op=class{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return P(this,null,function*(){this.stop();try{this.pending=new dm,this.pending.promise.catch(e=>{}),yield pM(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new dm,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function pM(n){return new Promise(t=>{setTimeout(t,n)})}var gM={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Xn=new uw("appCheck","AppCheck",gM);function lI(n){if(!Pi(n).activated)throw Xn.create("use-before-activation",{appName:n.name})}function cI(i,r){return P(this,arguments,function*({url:n,body:t},e){let o={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(n,a)}catch(v){throw Xn.create("fetch-network-error",{originalErrorMessage:v?.message})}if(c.status!==200)throw Xn.create("fetch-status-error",{httpStatus:c.status});let d;try{d=yield c.json()}catch(v){throw Xn.create("fetch-parse-error",{originalErrorMessage:v?.message})}let h=d.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Xn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let m=Number(h[1])*1e3,g=Date.now();return{token:d.token,expireTimeMillis:g+m,issuedAtTimeMillis:g}})}function dI(n,t){let{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${fM}/projects/${e}/apps/${i}:${mM}?key=${r}`,body:{debug_token:t}}}var _M="firebase-app-check-database",vM=1,Np="firebase-app-check-store";var fu=null;function bM(){return fu||(fu=new Promise((n,t)=>{try{let e=indexedDB.open(_M,vM);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Xn.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Np,{keyPath:"compositeKey"})}}}catch(e){t(Xn.create("storage-open",{originalErrorMessage:e?.message}))}}),fu)}function yM(n,t){return wM(EM(n),t)}function wM(n,t){return P(this,null,function*(){let i=(yield bM()).transaction(Np,"readwrite"),o=i.objectStore(Np).put({compositeKey:n,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var d;a(Xn.create("storage-set",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})})}function EM(n){return`${n.options.appId}-${n.name}`}var Fp=new yd("@firebase/app-check");function Mp(n,t){return vd()?yM(n,t).catch(e=>{Fp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function uI(){return aI().enabled}function hI(){return P(this,null,function*(){let n=aI();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var IM={error:"UNKNOWN_ERROR"};function CM(n){return dw.encodeString(JSON.stringify(n),!1)}function Vp(n,t=!1){return P(this,null,function*(){let e=n.app;lI(e);let i=Pi(e),r=i.token,o;if(r&&!Sl(r)&&(i.token=void 0,r=void 0),!r){let c=yield i.cachedTokenPromise;c&&(Sl(c)?r=c:yield Mp(e,void 0))}if(!t&&r&&Sl(r))return{token:r.token};let s=!1;if(uI()){i.exchangeTokenPromise||(i.exchangeTokenPromise=cI(dI(e,yield hI()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let c=yield i.exchangeTokenPromise;return yield Mp(e,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Pi(e).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Fp.warn(c.message):Fp.error(c),o=c}let a;return r?o?Sl(r)?a={token:r.token,internalError:o}:a=nI(o):(a={token:r.token},i.token=r,yield Mp(e,r)):a=nI(o),s&&SM(e,a),a})}function xM(n){return P(this,null,function*(){let t=n.app;lI(t);let{provider:e}=Pi(t);if(uI()){let i=yield hI(),{token:r}=yield cI(dI(t,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield e.getToken();return{token:i}}})}function TM(n,t,e,i){let{app:r}=n,o=Pi(r),s={next:e,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Sl(o.token)){let a=o.token;Promise.resolve().then(()=>{e({token:a.token}),iI(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>iI(n))}function fI(n,t){let e=Pi(n),i=e.tokenObservers.filter(r=>r.next!==t);i.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function iI(n){let{app:t}=n,e=Pi(t),i=e.tokenRefresher;i||(i=AM(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function AM(n){let{app:t}=n;return new Op(()=>P(this,null,function*(){let e=Pi(t),i;if(e.token?i=yield Vp(n,!0):i=yield Vp(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let e=Pi(t);if(e.token){let i=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},eI.RETRIAL_MIN_WAIT,eI.RETRIAL_MAX_WAIT)}function SM(n,t){let e=Pi(n).tokenObservers;for(let i of e)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Sl(n){return n.expireTimeMillis-Date.now()>0}function nI(n){return{token:CM(IM),error:n}}var Lp=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=Pi(this.app);for(let e of t)fI(this.app,e.next);return Promise.resolve()}};function RM(n,t){return new Lp(n,t)}function DM(n){return{getToken:t=>Vp(n,t),getLimitedUseToken:()=>xM(n),addTokenListener:t=>TM(n,"INTERNAL",t),removeTokenListener:t=>fI(n.app,t)}}var kM="@firebase/app-check",PM="0.8.8";var MM="app-check",rI="app-check-internal";function OM(){Ur(new Ri(MM,n=>{let t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return RM(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(rI).initialize()})),Ur(new Ri(rI,n=>{let t=n.getProvider("app-check").getImmediate();return DM(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Di(kM,PM)}OM();var NM=["localhost","0.0.0.0","127.0.0.1"],EU=typeof window<"u"&&NM.includes(window.location.hostname);var FM="firebase",VM="10.14.1";Te.registerVersion(FM,VM,"app-compat");var LM=["ngOnDestroy"],pI=(n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(LM.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(d=>e.run(()=>d)):e.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,d)=>s.then(h=>{let m=h?.(...d);return i?.spy?.apply&&i.spy.apply(o,d,m),m})})})});var mu=class{constructor(t){return t}},Zn=new B("angularfire2.app.options"),Jn=new B("angularfire2.app.name");function Gr(n,t,e){let i=typeof e=="string"&&e||"[DEFAULT]",r=typeof e=="object"&&e||{};r.name=r.name||i;let s=Te.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Te.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;jM("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new mu(s)}var jM=(n,...t)=>{lm()&&typeof console<"u"&&console[n](...t)},UM={provide:mu,useFactory:Gr,deps:[Zn,et,[new jn,Jn]]},gI=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:Zn,useValue:e},{provide:Jn,useValue:i}]}}constructor(e){Te.registerVersion("angularfire",Yn.full,"core"),Te.registerVersion("angularfire",Yn.full,"app-compat"),Te.registerVersion("angular",G0.full,e.toString())}static \u0275fac=function(i){return new(i||n)(I(Xe))};static \u0275mod=rt({type:n});static \u0275inj=nt({providers:[UM]})}return n})();function gs(n,t,e,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return BM(r,s)||(mI("error",`${t} was already initialized on the ${e} Firebase App with different settings.${zM?" You may need to reload as Firebase is not HMR aware.":""}`),mI("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}function BM(n,t){try{return n.toString()===t.toString()}catch{return n===t}}var zM=typeof module<"u"&&!!module.hot,mI=(n,...t)=>{lm()&&typeof console<"u"&&console[n](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var Up=new B("angularfire2.auth.use-emulator"),Bp=new B("angularfire2.auth.settings"),zp=new B("angularfire2.auth.tenant-id"),qp=new B("angularfire2.auth.langugage-code"),$p=new B("angularfire2.auth.use-device-language"),Gp=new B("angularfire.auth.persistence"),Hp=(n,t,e,i,r,o,s,a)=>gs(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let c=t.runOutsideAngular(()=>n.auth());if(e&&c.useEmulator(...e),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[d,h]of Object.entries(s))c.settings[d]=h;return a&&c.setPersistence(a),c},[e,i,r,o,s,a]),pu=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,c,d,h,m,g,v){let A=new it,D=K(void 0).pipe(Nn(s.outsideAngular),Lt(()=>o.runOutsideAngular(()=>import("./chunk-Z7QCIOM6.js"))),Y(()=>Gr(e,o,i)),Y(T=>Hp(T,o,a,d,h,m,c,g)),Vo({bufferSize:1,refCount:!1}));if(jr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=K(null);else{D.pipe(ji()).subscribe();let T=D.pipe(Lt(j=>j.getRedirectResult().then(Z=>Z,()=>null)),Pe,Vo({bufferSize:1,refCount:!1})),G=D.pipe(Lt(j=>new Be(Z=>({unsubscribe:o.runOutsideAngular(()=>j.onAuthStateChanged(at=>Z.next(at),at=>Z.error(at),()=>Z.complete()))})))),Q=D.pipe(Lt(j=>new Be(Z=>({unsubscribe:o.runOutsideAngular(()=>j.onIdTokenChanged(at=>Z.next(at),at=>Z.error(at),()=>Z.complete()))}))));this.authState=T.pipe(em(G),Mo(s.outsideAngular),Nn(s.insideAngular)),this.user=T.pipe(em(Q),Mo(s.outsideAngular),Nn(s.insideAngular)),this.idToken=this.user.pipe(Lt(j=>j?Nt(j.getIdToken()):K(null))),this.idTokenResult=this.user.pipe(Lt(j=>j?Nt(j.getIdTokenResult()):K(null))),this.credential=gi(T,A,this.authState.pipe(kt(j=>!j))).pipe(Y(j=>j?.user?j:null),Mo(s.outsideAngular),Nn(s.insideAngular))}return pI(this,D,o,{spy:{apply:(T,G,Q)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&Q.then(j=>A.next(j))}}})}static \u0275fac=function(i){return new(i||n)(I(Zn),I(Jn,8),I(Xe),I(et),I(ps),I(Up,8),I(Bp,8),I(zp,8),I(qp,8),I($p,8),I(Gp,8),I(gn,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var vI=(()=>{class n{constructor(e){this.afAuth=e,this.user$=this.afAuth.authState}login(e,i){return this.afAuth.signInWithEmailAndPassword(e,i)}logout(){return this.afAuth.signOut()}isAuthenticated(){return this.user$.pipe(Y(e=>!!e))}getUser(){return this.afAuth.authState}static{this.\u0275fac=function(i){return new(i||n)(I(pu))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $M(n,t){if(n&1&&(V(0,"div",11),ot(1),U()),n&2){let e=yt();J(),$e(e.errorMessage)}}var bI=(()=>{class n{constructor(e,i,r){this.authService=e,this.fb=i,this.router=r,this.errorMessage=null,this.loginForm=this.fb.group({email:["",[ke.required,ke.email]],password:["",[ke.required,ke.minLength(6)]]})}login(){return P(this,null,function*(){let{email:e,password:i}=this.loginForm.value;this.errorMessage=null;try{yield this.authService.login(e,i),e==="rojasgarcia@gmail.com"?(console.log("Inicio correcto de sesion por el admin rojas"),this.router.navigate(["home"])):(console.log("Redirigiendo a cajero, no es el admin"),this.router.navigate(["home"]))}catch(r){console.error("Error al iniciar sesi\xF3n",r),this.handleError(r)}})}handleError(e){this.errorMessage="Correo electr\xF3nico o contrase\xF1a incorrectos. Por favor, int\xE9ntalo de nuevo."}static{this.\u0275fac=function(i){return new(i||n)(R(vI),R(ms),R(ui))}}static{this.\u0275cmp=St({type:n,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"login-container"],[1,"login-box"],["src","d1ae70e2-d17d-430c-8d6b-500d7272982c.jpeg","alt","Logo",1,"login-logo",2,"width","240px","height","auto"],[3,"ngSubmit","formGroup"],["class","alert",4,"ngIf"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Correo electr\xF3nico"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Contrase\xF1a"],["type","submit",3,"disabled"],[1,"alert"]],template:function(i,r){i&1&&(V(0,"div",0)(1,"div",1),pt(2,"img",2),V(3,"h2"),ot(4,"Bienvenido!"),U(),V(5,"form",3),_t("ngSubmit",function(){return r.login()}),vt(6,$M,2,1,"div",4),V(7,"div",5)(8,"label",6),ot(9,"Correo electr\xF3nico"),U(),pt(10,"input",7),U(),V(11,"div",5)(12,"label",8),ot(13,"Contrase\xF1a"),U(),pt(14,"input",9),U(),V(15,"button",10),ot(16,"Ingresar"),U()()()()),i&2&&(J(5),ft("formGroup",r.loginForm),J(),ft("ngIf",r.errorMessage),J(9),ft("disabled",!r.loginForm.valid))},dependencies:[gd,au,Kn,fs,ru,Qn,Al],styles:["body[_ngcontent-%COMP%]{font-family:Plus Jakarta Sans,Noto Sans,sans-serif;background-color:#000;margin:0;padding:0}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.login-box[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;box-shadow:0 0 10px #0000001a;width:100%;max-width:400px;text-align:center}.login-box[_ngcontent-%COMP%]   .login-logo[_ngcontent-%COMP%]{width:100px;height:auto;margin-bottom:-10px}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:28px;font-weight:700;color:#00f}.login-box[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.login-box[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#000}.login-box[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#f4ede7;color:#000;font-size:16px}.login-box[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#000}.login-box[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#3d00a0}.login-box[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;border:1px solid transparent;border-radius:4px}.login-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:10px;border:none;border-radius:5px;background-color:#3ae13a;color:#606060;font-size:16px;font-weight:700;cursor:pointer}.login-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#b6b6b6;cursor:not-allowed}"]})}}return n})();var yI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wI={};var tr,Wp;(function(){var n;function t(w,_){function y(){}y.prototype=_.prototype,w.D=_.prototype,w.prototype=new y,w.prototype.constructor=w,w.C=function(E,C,S){for(var b=Array(arguments.length-2),rn=2;rn<arguments.length;rn++)b[rn-2]=arguments[rn];return _.prototype[C].apply(E,b)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,_,y){y||(y=0);var E=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)E[C]=_.charCodeAt(y++)|_.charCodeAt(y++)<<8|_.charCodeAt(y++)<<16|_.charCodeAt(y++)<<24;else for(C=0;16>C;++C)E[C]=_[y++]|_[y++]<<8|_[y++]<<16|_[y++]<<24;_=w.g[0],y=w.g[1],C=w.g[2];var S=w.g[3],b=_+(S^y&(C^S))+E[0]+3614090360&4294967295;_=y+(b<<7&4294967295|b>>>25),b=S+(C^_&(y^C))+E[1]+3905402710&4294967295,S=_+(b<<12&4294967295|b>>>20),b=C+(y^S&(_^y))+E[2]+606105819&4294967295,C=S+(b<<17&4294967295|b>>>15),b=y+(_^C&(S^_))+E[3]+3250441966&4294967295,y=C+(b<<22&4294967295|b>>>10),b=_+(S^y&(C^S))+E[4]+4118548399&4294967295,_=y+(b<<7&4294967295|b>>>25),b=S+(C^_&(y^C))+E[5]+1200080426&4294967295,S=_+(b<<12&4294967295|b>>>20),b=C+(y^S&(_^y))+E[6]+2821735955&4294967295,C=S+(b<<17&4294967295|b>>>15),b=y+(_^C&(S^_))+E[7]+4249261313&4294967295,y=C+(b<<22&4294967295|b>>>10),b=_+(S^y&(C^S))+E[8]+1770035416&4294967295,_=y+(b<<7&4294967295|b>>>25),b=S+(C^_&(y^C))+E[9]+2336552879&4294967295,S=_+(b<<12&4294967295|b>>>20),b=C+(y^S&(_^y))+E[10]+4294925233&4294967295,C=S+(b<<17&4294967295|b>>>15),b=y+(_^C&(S^_))+E[11]+2304563134&4294967295,y=C+(b<<22&4294967295|b>>>10),b=_+(S^y&(C^S))+E[12]+1804603682&4294967295,_=y+(b<<7&4294967295|b>>>25),b=S+(C^_&(y^C))+E[13]+4254626195&4294967295,S=_+(b<<12&4294967295|b>>>20),b=C+(y^S&(_^y))+E[14]+2792965006&4294967295,C=S+(b<<17&4294967295|b>>>15),b=y+(_^C&(S^_))+E[15]+1236535329&4294967295,y=C+(b<<22&4294967295|b>>>10),b=_+(C^S&(y^C))+E[1]+4129170786&4294967295,_=y+(b<<5&4294967295|b>>>27),b=S+(y^C&(_^y))+E[6]+3225465664&4294967295,S=_+(b<<9&4294967295|b>>>23),b=C+(_^y&(S^_))+E[11]+643717713&4294967295,C=S+(b<<14&4294967295|b>>>18),b=y+(S^_&(C^S))+E[0]+3921069994&4294967295,y=C+(b<<20&4294967295|b>>>12),b=_+(C^S&(y^C))+E[5]+3593408605&4294967295,_=y+(b<<5&4294967295|b>>>27),b=S+(y^C&(_^y))+E[10]+38016083&4294967295,S=_+(b<<9&4294967295|b>>>23),b=C+(_^y&(S^_))+E[15]+3634488961&4294967295,C=S+(b<<14&4294967295|b>>>18),b=y+(S^_&(C^S))+E[4]+3889429448&4294967295,y=C+(b<<20&4294967295|b>>>12),b=_+(C^S&(y^C))+E[9]+568446438&4294967295,_=y+(b<<5&4294967295|b>>>27),b=S+(y^C&(_^y))+E[14]+3275163606&4294967295,S=_+(b<<9&4294967295|b>>>23),b=C+(_^y&(S^_))+E[3]+4107603335&4294967295,C=S+(b<<14&4294967295|b>>>18),b=y+(S^_&(C^S))+E[8]+1163531501&4294967295,y=C+(b<<20&4294967295|b>>>12),b=_+(C^S&(y^C))+E[13]+2850285829&4294967295,_=y+(b<<5&4294967295|b>>>27),b=S+(y^C&(_^y))+E[2]+4243563512&4294967295,S=_+(b<<9&4294967295|b>>>23),b=C+(_^y&(S^_))+E[7]+1735328473&4294967295,C=S+(b<<14&4294967295|b>>>18),b=y+(S^_&(C^S))+E[12]+2368359562&4294967295,y=C+(b<<20&4294967295|b>>>12),b=_+(y^C^S)+E[5]+4294588738&4294967295,_=y+(b<<4&4294967295|b>>>28),b=S+(_^y^C)+E[8]+2272392833&4294967295,S=_+(b<<11&4294967295|b>>>21),b=C+(S^_^y)+E[11]+1839030562&4294967295,C=S+(b<<16&4294967295|b>>>16),b=y+(C^S^_)+E[14]+4259657740&4294967295,y=C+(b<<23&4294967295|b>>>9),b=_+(y^C^S)+E[1]+2763975236&4294967295,_=y+(b<<4&4294967295|b>>>28),b=S+(_^y^C)+E[4]+1272893353&4294967295,S=_+(b<<11&4294967295|b>>>21),b=C+(S^_^y)+E[7]+4139469664&4294967295,C=S+(b<<16&4294967295|b>>>16),b=y+(C^S^_)+E[10]+3200236656&4294967295,y=C+(b<<23&4294967295|b>>>9),b=_+(y^C^S)+E[13]+681279174&4294967295,_=y+(b<<4&4294967295|b>>>28),b=S+(_^y^C)+E[0]+3936430074&4294967295,S=_+(b<<11&4294967295|b>>>21),b=C+(S^_^y)+E[3]+3572445317&4294967295,C=S+(b<<16&4294967295|b>>>16),b=y+(C^S^_)+E[6]+76029189&4294967295,y=C+(b<<23&4294967295|b>>>9),b=_+(y^C^S)+E[9]+3654602809&4294967295,_=y+(b<<4&4294967295|b>>>28),b=S+(_^y^C)+E[12]+3873151461&4294967295,S=_+(b<<11&4294967295|b>>>21),b=C+(S^_^y)+E[15]+530742520&4294967295,C=S+(b<<16&4294967295|b>>>16),b=y+(C^S^_)+E[2]+3299628645&4294967295,y=C+(b<<23&4294967295|b>>>9),b=_+(C^(y|~S))+E[0]+4096336452&4294967295,_=y+(b<<6&4294967295|b>>>26),b=S+(y^(_|~C))+E[7]+1126891415&4294967295,S=_+(b<<10&4294967295|b>>>22),b=C+(_^(S|~y))+E[14]+2878612391&4294967295,C=S+(b<<15&4294967295|b>>>17),b=y+(S^(C|~_))+E[5]+4237533241&4294967295,y=C+(b<<21&4294967295|b>>>11),b=_+(C^(y|~S))+E[12]+1700485571&4294967295,_=y+(b<<6&4294967295|b>>>26),b=S+(y^(_|~C))+E[3]+2399980690&4294967295,S=_+(b<<10&4294967295|b>>>22),b=C+(_^(S|~y))+E[10]+4293915773&4294967295,C=S+(b<<15&4294967295|b>>>17),b=y+(S^(C|~_))+E[1]+2240044497&4294967295,y=C+(b<<21&4294967295|b>>>11),b=_+(C^(y|~S))+E[8]+1873313359&4294967295,_=y+(b<<6&4294967295|b>>>26),b=S+(y^(_|~C))+E[15]+4264355552&4294967295,S=_+(b<<10&4294967295|b>>>22),b=C+(_^(S|~y))+E[6]+2734768916&4294967295,C=S+(b<<15&4294967295|b>>>17),b=y+(S^(C|~_))+E[13]+1309151649&4294967295,y=C+(b<<21&4294967295|b>>>11),b=_+(C^(y|~S))+E[4]+4149444226&4294967295,_=y+(b<<6&4294967295|b>>>26),b=S+(y^(_|~C))+E[11]+3174756917&4294967295,S=_+(b<<10&4294967295|b>>>22),b=C+(_^(S|~y))+E[2]+718787259&4294967295,C=S+(b<<15&4294967295|b>>>17),b=y+(S^(C|~_))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+_&4294967295,w.g[1]=w.g[1]+(C+(b<<21&4294967295|b>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+S&4294967295}i.prototype.u=function(w,_){_===void 0&&(_=w.length);for(var y=_-this.blockSize,E=this.B,C=this.h,S=0;S<_;){if(C==0)for(;S<=y;)r(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<_;)if(E[C++]=w.charCodeAt(S++),C==this.blockSize){r(this,E),C=0;break}}else for(;S<_;)if(E[C++]=w[S++],C==this.blockSize){r(this,E),C=0;break}}this.h=C,this.o+=_},i.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var _=1;_<w.length-8;++_)w[_]=0;var y=8*this.o;for(_=w.length-8;_<w.length;++_)w[_]=y&255,y/=256;for(this.u(w),w=Array(16),_=y=0;4>_;++_)for(var E=0;32>E;E+=8)w[y++]=this.g[_]>>>E&255;return w};function o(w,_){var y=a;return Object.prototype.hasOwnProperty.call(y,w)?y[w]:y[w]=_(w)}function s(w,_){this.h=_;for(var y=[],E=!0,C=w.length-1;0<=C;C--){var S=w[C]|0;E&&S==_||(y[C]=S,E=!1)}this.g=y}var a={};function c(w){return-128<=w&&128>w?o(w,function(_){return new s([_|0],0>_?-1:0)}):new s([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return m;if(0>w)return T(d(-w));for(var _=[],y=1,E=0;w>=y;E++)_[E]=w/y|0,y*=4294967296;return new s(_,0)}function h(w,_){if(w.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(w.charAt(0)=="-")return T(h(w.substring(1),_));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(_,8)),E=m,C=0;C<w.length;C+=8){var S=Math.min(8,w.length-C),b=parseInt(w.substring(C,C+S),_);8>S?(S=d(Math.pow(_,S)),E=E.j(S).add(d(b))):(E=E.j(y),E=E.add(d(b)))}return E}var m=c(0),g=c(1),v=c(16777216);n=s.prototype,n.m=function(){if(D(this))return-T(this).m();for(var w=0,_=1,y=0;y<this.g.length;y++){var E=this.i(y);w+=(0<=E?E:4294967296+E)*_,_*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(D(this))return"-"+T(this).toString(w);for(var _=d(Math.pow(w,6)),y=this,E="";;){var C=Z(y,_).g;y=G(y,C.j(_));var S=((0<y.g.length?y.g[0]:y.h)>>>0).toString(w);if(y=C,A(y))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var _=0;_<w.g.length;_++)if(w.g[_]!=0)return!1;return!0}function D(w){return w.h==-1}n.l=function(w){return w=G(this,w),D(w)?-1:A(w)?0:1};function T(w){for(var _=w.g.length,y=[],E=0;E<_;E++)y[E]=~w.g[E];return new s(y,~w.h).add(g)}n.abs=function(){return D(this)?T(this):this},n.add=function(w){for(var _=Math.max(this.g.length,w.g.length),y=[],E=0,C=0;C<=_;C++){var S=E+(this.i(C)&65535)+(w.i(C)&65535),b=(S>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);E=b>>>16,S&=65535,b&=65535,y[C]=b<<16|S}return new s(y,y[y.length-1]&-2147483648?-1:0)};function G(w,_){return w.add(T(_))}n.j=function(w){if(A(this)||A(w))return m;if(D(this))return D(w)?T(this).j(T(w)):T(T(this).j(w));if(D(w))return T(this.j(T(w)));if(0>this.l(v)&&0>w.l(v))return d(this.m()*w.m());for(var _=this.g.length+w.g.length,y=[],E=0;E<2*_;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<w.g.length;C++){var S=this.i(E)>>>16,b=this.i(E)&65535,rn=w.i(C)>>>16,ya=w.i(C)&65535;y[2*E+2*C]+=b*ya,Q(y,2*E+2*C),y[2*E+2*C+1]+=S*ya,Q(y,2*E+2*C+1),y[2*E+2*C+1]+=b*rn,Q(y,2*E+2*C+1),y[2*E+2*C+2]+=S*rn,Q(y,2*E+2*C+2)}for(E=0;E<_;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=_;E<2*_;E++)y[E]=0;return new s(y,0)};function Q(w,_){for(;(w[_]&65535)!=w[_];)w[_+1]+=w[_]>>>16,w[_]&=65535,_++}function j(w,_){this.g=w,this.h=_}function Z(w,_){if(A(_))throw Error("division by zero");if(A(w))return new j(m,m);if(D(w))return _=Z(T(w),_),new j(T(_.g),T(_.h));if(D(_))return _=Z(w,T(_)),new j(T(_.g),_.h);if(30<w.g.length){if(D(w)||D(_))throw Error("slowDivide_ only works with positive integers.");for(var y=g,E=_;0>=E.l(w);)y=at(y),E=at(E);var C=lt(y,1),S=lt(E,1);for(E=lt(E,2),y=lt(y,2);!A(E);){var b=S.add(E);0>=b.l(w)&&(C=C.add(y),S=b),E=lt(E,1),y=lt(y,1)}return _=G(w,C.j(_)),new j(C,_)}for(C=m;0<=w.l(_);){for(y=Math.max(1,Math.floor(w.m()/_.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=d(y),b=S.j(_);D(b)||0<b.l(w);)y-=E,S=d(y),b=S.j(_);A(S)&&(S=g),C=C.add(S),w=G(w,b)}return new j(C,w)}n.A=function(w){return Z(this,w).h},n.and=function(w){for(var _=Math.max(this.g.length,w.g.length),y=[],E=0;E<_;E++)y[E]=this.i(E)&w.i(E);return new s(y,this.h&w.h)},n.or=function(w){for(var _=Math.max(this.g.length,w.g.length),y=[],E=0;E<_;E++)y[E]=this.i(E)|w.i(E);return new s(y,this.h|w.h)},n.xor=function(w){for(var _=Math.max(this.g.length,w.g.length),y=[],E=0;E<_;E++)y[E]=this.i(E)^w.i(E);return new s(y,this.h^w.h)};function at(w){for(var _=w.g.length+1,y=[],E=0;E<_;E++)y[E]=w.i(E)<<1|w.i(E-1)>>>31;return new s(y,w.h)}function lt(w,_){var y=_>>5;_%=32;for(var E=w.g.length-y,C=[],S=0;S<E;S++)C[S]=0<_?w.i(S+y)>>>_|w.i(S+y+1)<<32-_:w.i(S+y);return new s(C,w.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Wp=wI.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,tr=wI.Integer=s}).apply(typeof yI<"u"?yI:typeof self<"u"?self:typeof window<"u"?window:{});var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_n={};var Kp,GM,_s,Qp,Rl,vu,Yp,Xp,Zp;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,u,f){return l==Array.prototype||l==Object.prototype||(l[u]=f.value),l};function e(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof _u=="object"&&_u];for(var u=0;u<l.length;++u){var f=l[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=e(this);function r(l,u){if(u)t:{var f=i;l=l.split(".");for(var p=0;p<l.length-1;p++){var x=l[p];if(!(x in f))break t;f=f[x]}l=l[l.length-1],p=f[l],u=u(p),u!=p&&u!=null&&t(f,l,{configurable:!0,writable:!0,value:u})}}function o(l,u){l instanceof String&&(l+="");var f=0,p=!1,x={next:function(){if(!p&&f<l.length){var M=f++;return{value:u(M,l[M]),done:!1}}return p=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}r("Array.prototype.values",function(l){return l||function(){return o(this,function(u,f){return f})}});var s=s||{},a=this||self;function c(l){var u=typeof l;return u=u!="object"?u:l?Array.isArray(l)?"array":u:"null",u=="array"||u=="object"&&typeof l.length=="number"}function d(l){var u=typeof l;return u=="object"&&l!=null||u=="function"}function h(l,u,f){return l.call.apply(l.bind,arguments)}function m(l,u,f){if(!l)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,p),l.apply(u,x)}}return function(){return l.apply(u,arguments)}}function g(l,u,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function v(l,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),l.apply(this,p)}}function A(l,u){function f(){}f.prototype=u.prototype,l.aa=u.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(p,x,M){for(var $=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)$[zt-2]=arguments[zt];return u.prototype[x].apply(p,$)}}function D(l){let u=l.length;if(0<u){let f=Array(u);for(let p=0;p<u;p++)f[p]=l[p];return f}return[]}function T(l,u){for(let f=1;f<arguments.length;f++){let p=arguments[f];if(c(p)){let x=l.length||0,M=p.length||0;l.length=x+M;for(let $=0;$<M;$++)l[x+$]=p[$]}else l.push(p)}}class G{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function Q(l){return/^[\s\xa0]*$/.test(l)}function j(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Z(l){return Z[" "](l),l}Z[" "]=function(){};var at=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function lt(l,u,f){for(let p in l)u.call(f,l[p],p,l)}function w(l,u){for(let f in l)u.call(void 0,l[f],f,l)}function _(l){let u={};for(let f in l)u[f]=l[f];return u}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(l,u){let f,p;for(let x=1;x<arguments.length;x++){p=arguments[x];for(f in p)l[f]=p[f];for(let M=0;M<y.length;M++)f=y[M],Object.prototype.hasOwnProperty.call(p,f)&&(l[f]=p[f])}}function C(l){var u=1;l=l.split(":");let f=[];for(;0<u&&l.length;)f.push(l.shift()),u--;return l.length&&f.push(l.join(":")),f}function S(l){a.setTimeout(()=>{throw l},0)}function b(){var l=Cf;let u=null;return l.g&&(u=l.g,l.g=l.g.next,l.g||(l.h=null),u.next=null),u}class rn{constructor(){this.h=this.g=null}add(u,f){let p=ya.get();p.set(u,f),this.h?this.h.next=p:this.g=p,this.h=p}}var ya=new G(()=>new _R,l=>l.reset());class _R{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let wa,Ea=!1,Cf=new rn,uy=()=>{let l=a.Promise.resolve(void 0);wa=()=>{l.then(vR)}};var vR=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(f){S(f)}var u=ya;u.j(l),100>u.h&&(u.h++,l.next=u.g,u.g=l)}Ea=!1};function Dn(){this.s=this.s,this.C=this.C}Dn.prototype.s=!1,Dn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Fe(l,u){this.type=l,this.g=this.target=u,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var bR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,u=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,u),a.removeEventListener("test",f,u)}catch{}return l}();function Ia(l,u){if(Fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,p=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=u,u=l.relatedTarget){if(at){t:{try{Z(u.nodeName);var x=!0;break t}catch{}x=!1}x||(u=null)}}else f=="mouseover"?u=l.fromElement:f=="mouseout"&&(u=l.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:yR[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ia.aa.h.call(this)}}A(Ia,Fe);var yR={2:"touch",3:"pen",4:"mouse"};Ia.prototype.h=function(){Ia.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ca="closure_listenable_"+(1e6*Math.random()|0),wR=0;function ER(l,u,f,p,x){this.listener=l,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.ha=x,this.key=++wR,this.da=this.fa=!1}function Nc(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Fc(l){this.src=l,this.g={},this.h=0}Fc.prototype.add=function(l,u,f,p,x){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var $=Tf(l,u,p,x);return-1<$?(u=l[$],f||(u.fa=!1)):(u=new ER(u,this.src,M,!!p,x),u.fa=f,l.push(u)),u};function xf(l,u){var f=u.type;if(f in l.g){var p=l.g[f],x=Array.prototype.indexOf.call(p,u,void 0),M;(M=0<=x)&&Array.prototype.splice.call(p,x,1),M&&(Nc(u),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Tf(l,u,f,p){for(var x=0;x<l.length;++x){var M=l[x];if(!M.da&&M.listener==u&&M.capture==!!f&&M.ha==p)return x}return-1}var Af="closure_lm_"+(1e6*Math.random()|0),Sf={};function hy(l,u,f,p,x){if(p&&p.once)return my(l,u,f,p,x);if(Array.isArray(u)){for(var M=0;M<u.length;M++)hy(l,u[M],f,p,x);return null}return f=Pf(f),l&&l[Ca]?l.K(u,f,d(p)?!!p.capture:!!p,x):fy(l,u,f,!1,p,x)}function fy(l,u,f,p,x,M){if(!u)throw Error("Invalid event type");var $=d(x)?!!x.capture:!!x,zt=Df(l);if(zt||(l[Af]=zt=new Fc(l)),f=zt.add(u,f,p,$,M),f.proxy)return f;if(p=IR(),f.proxy=p,p.src=l,p.listener=f,l.addEventListener)bR||(x=$),x===void 0&&(x=!1),l.addEventListener(u.toString(),p,x);else if(l.attachEvent)l.attachEvent(gy(u.toString()),p);else if(l.addListener&&l.removeListener)l.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function IR(){function l(f){return u.call(l.src,l.listener,f)}let u=CR;return l}function my(l,u,f,p,x){if(Array.isArray(u)){for(var M=0;M<u.length;M++)my(l,u[M],f,p,x);return null}return f=Pf(f),l&&l[Ca]?l.L(u,f,d(p)?!!p.capture:!!p,x):fy(l,u,f,!0,p,x)}function py(l,u,f,p,x){if(Array.isArray(u))for(var M=0;M<u.length;M++)py(l,u[M],f,p,x);else p=d(p)?!!p.capture:!!p,f=Pf(f),l&&l[Ca]?(l=l.i,u=String(u).toString(),u in l.g&&(M=l.g[u],f=Tf(M,f,p,x),-1<f&&(Nc(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete l.g[u],l.h--)))):l&&(l=Df(l))&&(u=l.g[u.toString()],l=-1,u&&(l=Tf(u,f,p,x)),(f=-1<l?u[l]:null)&&Rf(f))}function Rf(l){if(typeof l!="number"&&l&&!l.da){var u=l.src;if(u&&u[Ca])xf(u.i,l);else{var f=l.type,p=l.proxy;u.removeEventListener?u.removeEventListener(f,p,l.capture):u.detachEvent?u.detachEvent(gy(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Df(u))?(xf(f,l),f.h==0&&(f.src=null,u[Af]=null)):Nc(l)}}}function gy(l){return l in Sf?Sf[l]:Sf[l]="on"+l}function CR(l,u){if(l.da)l=!0;else{u=new Ia(u,this);var f=l.listener,p=l.ha||l.src;l.fa&&Rf(l),l=f.call(p,u)}return l}function Df(l){return l=l[Af],l instanceof Fc?l:null}var kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pf(l){return typeof l=="function"?l:(l[kf]||(l[kf]=function(u){return l.handleEvent(u)}),l[kf])}function Ve(){Dn.call(this),this.i=new Fc(this),this.M=this,this.F=null}A(Ve,Dn),Ve.prototype[Ca]=!0,Ve.prototype.removeEventListener=function(l,u,f,p){py(this,l,u,f,p)};function Ke(l,u){var f,p=l.F;if(p)for(f=[];p;p=p.F)f.push(p);if(l=l.M,p=u.type||u,typeof u=="string")u=new Fe(u,l);else if(u instanceof Fe)u.target=u.target||l;else{var x=u;u=new Fe(p,l),E(u,x)}if(x=!0,f)for(var M=f.length-1;0<=M;M--){var $=u.g=f[M];x=Vc($,p,!0,u)&&x}if($=u.g=l,x=Vc($,p,!0,u)&&x,x=Vc($,p,!1,u)&&x,f)for(M=0;M<f.length;M++)$=u.g=f[M],x=Vc($,p,!1,u)&&x}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var l=this.i,u;for(u in l.g){for(var f=l.g[u],p=0;p<f.length;p++)Nc(f[p]);delete l.g[u],l.h--}}this.F=null},Ve.prototype.K=function(l,u,f,p){return this.i.add(String(l),u,!1,f,p)},Ve.prototype.L=function(l,u,f,p){return this.i.add(String(l),u,!0,f,p)};function Vc(l,u,f,p){if(u=l.i.g[String(u)],!u)return!0;u=u.concat();for(var x=!0,M=0;M<u.length;++M){var $=u[M];if($&&!$.da&&$.capture==f){var zt=$.listener,Se=$.ha||$.src;$.fa&&xf(l.i,$),x=zt.call(Se,p)!==!1&&x}}return x&&!p.defaultPrevented}function _y(l,u,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:a.setTimeout(l,u||0)}function vy(l){l.g=_y(()=>{l.g=null,l.i&&(l.i=!1,vy(l))},l.l);let u=l.h;l.h=null,l.m.apply(null,u)}class xR extends Dn{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:vy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xa(l){Dn.call(this),this.h=l,this.g={}}A(xa,Dn);var by=[];function yy(l){lt(l.g,function(u,f){this.g.hasOwnProperty(f)&&Rf(u)},l),l.g={}}xa.prototype.N=function(){xa.aa.N.call(this),yy(this)},xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mf=a.JSON.stringify,TR=a.JSON.parse,AR=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Of(){}Of.prototype.h=null;function wy(l){return l.h||(l.h=l.i())}function Ey(){}var Ta={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nf(){Fe.call(this,"d")}A(Nf,Fe);function Ff(){Fe.call(this,"c")}A(Ff,Fe);var Sr={},Iy=null;function Lc(){return Iy=Iy||new Ve}Sr.La="serverreachability";function Cy(l){Fe.call(this,Sr.La,l)}A(Cy,Fe);function Aa(l){let u=Lc();Ke(u,new Cy(u))}Sr.STAT_EVENT="statevent";function xy(l,u){Fe.call(this,Sr.STAT_EVENT,l),this.stat=u}A(xy,Fe);function Qe(l){let u=Lc();Ke(u,new xy(u,l))}Sr.Ma="timingevent";function Ty(l,u){Fe.call(this,Sr.Ma,l),this.size=u}A(Ty,Fe);function Sa(l,u){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},u)}function Ra(){this.g=!0}Ra.prototype.xa=function(){this.g=!1};function SR(l,u,f,p,x,M){l.info(function(){if(l.g)if(M)for(var $="",zt=M.split("&"),Se=0;Se<zt.length;Se++){var At=zt[Se].split("=");if(1<At.length){var Le=At[0];At=At[1];var je=Le.split("_");$=2<=je.length&&je[1]=="type"?$+(Le+"="+At+"&"):$+(Le+"=redacted&")}}else $=null;else $=M;return"XMLHTTP REQ ("+p+") [attempt "+x+"]: "+u+`
`+f+`
`+$})}function RR(l,u,f,p,x,M,$){l.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+x+"]: "+u+`
`+f+`
`+M+" "+$})}function Ro(l,u,f,p){l.info(function(){return"XMLHTTP TEXT ("+u+"): "+kR(l,f)+(p?" "+p:"")})}function DR(l,u){l.info(function(){return"TIMEOUT: "+u})}Ra.prototype.info=function(){};function kR(l,u){if(!l.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var p=f[l];if(!(2>p.length)){var x=p[1];if(Array.isArray(x)&&!(1>x.length)){var M=x[0];if(M!="noop"&&M!="stop"&&M!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return Mf(f)}catch{return u}}var jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ay={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vf;function Uc(){}A(Uc,Of),Uc.prototype.g=function(){return new XMLHttpRequest},Uc.prototype.i=function(){return{}},Vf=new Uc;function kn(l,u,f,p){this.j=l,this.i=u,this.l=f,this.R=p||1,this.U=new xa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sy}function Sy(){this.i=null,this.g="",this.h=!1}var Ry={},Lf={};function jf(l,u,f){l.L=1,l.v=$c(on(u)),l.m=f,l.P=!0,Dy(l,null)}function Dy(l,u){l.F=Date.now(),Bc(l),l.A=on(l.v);var f=l.A,p=l.R;Array.isArray(p)||(p=[String(p)]),$y(f.i,"t",p),l.C=0,f=l.j.J,l.h=new Sy,l.g=l0(l.j,f?u:null,!l.m),0<l.O&&(l.M=new xR(g(l.Y,l,l.g),l.O)),u=l.U,f=l.g,p=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(by[0]=x.toString()),x=by);for(var M=0;M<x.length;M++){var $=hy(f,x[M],p||u.handleEvent,!1,u.h||u);if(!$)break;u.g[$.key]=$}u=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,u)):(l.u="GET",l.g.ea(l.A,l.u,null,u)),Aa(),SR(l.i,l.u,l.A,l.l,l.R,l.m)}kn.prototype.ca=function(l){l=l.target;let u=this.M;u&&sn(l)==3?u.j():this.Y(l)},kn.prototype.Y=function(l){try{if(l==this.g)t:{let je=sn(this.g);var u=this.g.Ba();let Po=this.g.Z();if(!(3>je)&&(je!=3||this.g&&(this.h.h||this.g.oa()||Xy(this.g)))){this.J||je!=4||u==7||(u==8||0>=Po?Aa(3):Aa(2)),Uf(this);var f=this.g.Z();this.X=f;e:if(ky(this)){var p=Xy(this.g);l="";var x=p.length,M=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),Da(this);var $="";break e}this.h.i=new a.TextDecoder}for(u=0;u<x;u++)this.h.h=!0,l+=this.h.i.decode(p[u],{stream:!(M&&u==x-1)});p.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=f==200,RR(this.i,this.u,this.A,this.l,this.R,je,f),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Se=this.g;if((zt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(zt)){var At=zt;break e}}At=null}if(f=At)Ro(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bf(this,f);else{this.o=!1,this.s=3,Qe(12),Rr(this),Da(this);break t}}if(this.P){f=!0;let Ci;for(;!this.J&&this.C<$.length;)if(Ci=PR(this,$),Ci==Lf){je==4&&(this.s=4,Qe(14),f=!1),Ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Ci==Ry){this.s=4,Qe(15),Ro(this.i,this.l,$,"[Invalid Chunk]"),f=!1;break}else Ro(this.i,this.l,Ci,null),Bf(this,Ci);if(ky(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||$.length!=0||this.h.h||(this.s=1,Qe(16),f=!1),this.o=this.o&&f,!f)Ro(this.i,this.l,$,"[Invalid Chunked Response]"),Rr(this),Da(this);else if(0<$.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Wf(Le),Le.M=!0,Qe(11))}}else Ro(this.i,this.l,$,null),Bf(this,$);je==4&&Rr(this),this.o&&!this.J&&(je==4?r0(this.j,this):(this.o=!1,Bc(this)))}else QR(this.g),f==400&&0<$.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),Rr(this),Da(this)}}}catch{}finally{}};function ky(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function PR(l,u){var f=l.C,p=u.indexOf(`
`,f);return p==-1?Lf:(f=Number(u.substring(f,p)),isNaN(f)?Ry:(p+=1,p+f>u.length?Lf:(u=u.slice(p,p+f),l.C=p+f,u)))}kn.prototype.cancel=function(){this.J=!0,Rr(this)};function Bc(l){l.S=Date.now()+l.I,Py(l,l.I)}function Py(l,u){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Sa(g(l.ba,l),u)}function Uf(l){l.B&&(a.clearTimeout(l.B),l.B=null)}kn.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(DR(this.i,this.A),this.L!=2&&(Aa(),Qe(17)),Rr(this),this.s=2,Da(this)):Py(this,this.S-l)};function Da(l){l.j.G==0||l.J||r0(l.j,l)}function Rr(l){Uf(l);var u=l.M;u&&typeof u.ma=="function"&&u.ma(),l.M=null,yy(l.U),l.g&&(u=l.g,l.g=null,u.abort(),u.ma())}function Bf(l,u){try{var f=l.j;if(f.G!=0&&(f.g==l||zf(f.h,l))){if(!l.K&&zf(f.h,l)&&f.G==3){try{var p=f.Da.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var x=p;if(x[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Qc(f),Wc(f);else break t;Hf(f),Qe(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=Sa(g(f.Za,f),6e3));if(1>=Ny(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else kr(f,11)}else if((l.K||f.g==l)&&Qc(f),!Q(u))for(x=f.Da.g.parse(u),u=0;u<x.length;u++){let At=x[u];if(f.T=At[0],At=At[1],f.G==2)if(At[0]=="c"){f.K=At[1],f.ia=At[2];let Le=At[3];Le!=null&&(f.la=Le,f.j.info("VER="+f.la));let je=At[4];je!=null&&(f.Aa=je,f.j.info("SVER="+f.Aa));let Po=At[5];Po!=null&&typeof Po=="number"&&0<Po&&(p=1.5*Po,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;let Ci=l.g;if(Ci){let Xc=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xc){var M=p.h;M.g||Xc.indexOf("spdy")==-1&&Xc.indexOf("quic")==-1&&Xc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(qf(M,M.h),M.h=null))}if(p.D){let Kf=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Kf&&(p.ya=Kf,Kt(p.I,p.D,Kf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var $=l;if(p.qa=a0(p,p.J?p.ia:null,p.W),$.K){Fy(p.h,$);var zt=$,Se=p.L;Se&&(zt.I=Se),zt.B&&(Uf(zt),Bc(zt)),p.g=$}else i0(p);0<f.i.length&&Kc(f)}else At[0]!="stop"&&At[0]!="close"||kr(f,7);else f.G==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?kr(f,7):Gf(f):At[0]!="noop"&&f.l&&f.l.ta(At),f.v=0)}}Aa(4)}catch{}}var MR=class{constructor(l,u){this.g=l,this.map=u}};function My(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ny(l){return l.h?1:l.g?l.g.size:0}function zf(l,u){return l.h?l.h==u:l.g?l.g.has(u):!1}function qf(l,u){l.g?l.g.add(u):l.h=u}function Fy(l,u){l.h&&l.h==u?l.h=null:l.g&&l.g.has(u)&&l.g.delete(u)}My.prototype.cancel=function(){if(this.i=Vy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Vy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let u=l.i;for(let f of l.g.values())u=u.concat(f.D);return u}return D(l.i)}function OR(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var u=[],f=l.length,p=0;p<f;p++)u.push(l[p]);return u}u=[],f=0;for(p in l)u[f++]=l[p];return u}function NR(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var u=[];l=l.length;for(var f=0;f<l;f++)u.push(f);return u}u=[],f=0;for(let p in l)u[f++]=p;return u}}}function Ly(l,u){if(l.forEach&&typeof l.forEach=="function")l.forEach(u,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,u,void 0);else for(var f=NR(l),p=OR(l),x=p.length,M=0;M<x;M++)u.call(void 0,p[M],f&&f[M],l)}var jy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FR(l,u){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var p=l[f].indexOf("="),x=null;if(0<=p){var M=l[f].substring(0,p);x=l[f].substring(p+1)}else M=l[f];u(M,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Dr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Dr){this.h=l.h,zc(this,l.j),this.o=l.o,this.g=l.g,qc(this,l.s),this.l=l.l;var u=l.i,f=new Ma;f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),Uy(this,f),this.m=l.m}else l&&(u=String(l).match(jy))?(this.h=!1,zc(this,u[1]||"",!0),this.o=ka(u[2]||""),this.g=ka(u[3]||"",!0),qc(this,u[4]),this.l=ka(u[5]||"",!0),Uy(this,u[6]||"",!0),this.m=ka(u[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}Dr.prototype.toString=function(){var l=[],u=this.j;u&&l.push(Pa(u,By,!0),":");var f=this.g;return(f||u=="file")&&(l.push("//"),(u=this.o)&&l.push(Pa(u,By,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Pa(f,f.charAt(0)=="/"?jR:LR,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Pa(f,BR)),l.join("")};function on(l){return new Dr(l)}function zc(l,u,f){l.j=f?ka(u,!0):u,l.j&&(l.j=l.j.replace(/:$/,""))}function qc(l,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);l.s=u}else l.s=null}function Uy(l,u,f){u instanceof Ma?(l.i=u,zR(l.i,l.h)):(f||(u=Pa(u,UR)),l.i=new Ma(u,l.h))}function Kt(l,u,f){l.i.set(u,f)}function $c(l){return Kt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ka(l,u){return l?u?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pa(l,u,f){return typeof l=="string"?(l=encodeURI(l).replace(u,VR),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function VR(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var By=/[#\/\?@]/g,LR=/[#\?:]/g,jR=/[#\?]/g,UR=/[#\?@]/g,BR=/#/g;function Ma(l,u){this.h=this.g=null,this.i=l||null,this.j=!!u}function Pn(l){l.g||(l.g=new Map,l.h=0,l.i&&FR(l.i,function(u,f){l.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}n=Ma.prototype,n.add=function(l,u){Pn(this),this.i=null,l=Do(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(u),this.h+=1,this};function zy(l,u){Pn(l),u=Do(l,u),l.g.has(u)&&(l.i=null,l.h-=l.g.get(u).length,l.g.delete(u))}function qy(l,u){return Pn(l),u=Do(l,u),l.g.has(u)}n.forEach=function(l,u){Pn(this),this.g.forEach(function(f,p){f.forEach(function(x){l.call(u,x,p,this)},this)},this)},n.na=function(){Pn(this);let l=Array.from(this.g.values()),u=Array.from(this.g.keys()),f=[];for(let p=0;p<u.length;p++){let x=l[p];for(let M=0;M<x.length;M++)f.push(u[p])}return f},n.V=function(l){Pn(this);let u=[];if(typeof l=="string")qy(this,l)&&(u=u.concat(this.g.get(Do(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)u=u.concat(l[f])}return u},n.set=function(l,u){return Pn(this),this.i=null,l=Do(this,l),qy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[u]),this.h+=1,this},n.get=function(l,u){return l?(l=this.V(l),0<l.length?String(l[0]):u):u};function $y(l,u,f){zy(l,u),0<f.length&&(l.i=null,l.g.set(Do(l,u),D(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],u=Array.from(this.g.keys());for(var f=0;f<u.length;f++){var p=u[f];let M=encodeURIComponent(String(p)),$=this.V(p);for(p=0;p<$.length;p++){var x=M;$[p]!==""&&(x+="="+encodeURIComponent(String($[p]))),l.push(x)}}return this.i=l.join("&")};function Do(l,u){return u=String(u),l.j&&(u=u.toLowerCase()),u}function zR(l,u){u&&!l.j&&(Pn(l),l.i=null,l.g.forEach(function(f,p){var x=p.toLowerCase();p!=x&&(zy(this,p),$y(this,x,f))},l)),l.j=u}function qR(l,u){let f=new Ra;if(a.Image){let p=new Image;p.onload=v(Mn,f,"TestLoadImage: loaded",!0,u,p),p.onerror=v(Mn,f,"TestLoadImage: error",!1,u,p),p.onabort=v(Mn,f,"TestLoadImage: abort",!1,u,p),p.ontimeout=v(Mn,f,"TestLoadImage: timeout",!1,u,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=l}else u(!1)}function $R(l,u){let f=new Ra,p=new AbortController,x=setTimeout(()=>{p.abort(),Mn(f,"TestPingServer: timeout",!1,u)},1e4);fetch(l,{signal:p.signal}).then(M=>{clearTimeout(x),M.ok?Mn(f,"TestPingServer: ok",!0,u):Mn(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(x),Mn(f,"TestPingServer: error",!1,u)})}function Mn(l,u,f,p,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),p(f)}catch{}}function GR(){this.g=new AR}function HR(l,u,f){let p=f||"";try{Ly(l,function(x,M){let $=x;d(x)&&($=Mf(x)),u.push(p+M+"="+encodeURIComponent($))})}catch(x){throw u.push(p+"type="+encodeURIComponent("_badmap")),x}}function Oa(l){this.l=l.Ub||null,this.j=l.eb||!1}A(Oa,Of),Oa.prototype.g=function(){return new Gc(this.l,this.j)},Oa.prototype.i=function(l){return function(){return l}}({});function Gc(l,u){Ve.call(this),this.D=l,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Gc,Ve),n=Gc.prototype,n.open=function(l,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=u,this.readyState=1,Fa(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(u.body=l),(this.D||a).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var u=l.value?l.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!l.done}))&&(this.response=this.responseText+=u)}l.done?Na(this):Fa(this),this.readyState==3&&Gy(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Na(this))},n.Qa=function(l){this.g&&(this.response=l,Na(this))},n.ga=function(){this.g&&Na(this)};function Na(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Fa(l)}n.setRequestHeader=function(l,u){this.u.append(l,u)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=u.next();return l.join(`\r
`)};function Fa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Hy(l){let u="";return lt(l,function(f,p){u+=p,u+=":",u+=f,u+=`\r
`}),u}function $f(l,u,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Hy(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):Kt(l,u,f))}function ne(l){Ve.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ne,Ve);var WR=/^https?$/i,KR=["POST","PUT"];n=ne.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,u,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);u=u?u.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vf.g(),this.v=this.o?wy(this.o):wy(Vf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(l),!0),this.B=!1}catch(M){Wy(this,M);return}if(l=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var x in p)f.set(x,p[x]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let M of p.keys())f.set(M,p.get(M));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),x=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(KR,u,void 0))||p||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,$]of f)this.g.setRequestHeader(M,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yy(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){Wy(this,M)}};function Wy(l,u){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=u,l.m=5,Ky(l),Hc(l)}function Ky(l){l.A||(l.A=!0,Ke(l,"complete"),Ke(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ke(this,"complete"),Ke(this,"abort"),Hc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hc(this,!0)),ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qy(this):this.bb())},n.bb=function(){Qy(this)};function Qy(l){if(l.h&&typeof s<"u"&&(!l.v[1]||sn(l)!=4||l.Z()!=2)){if(l.u&&sn(l)==4)_y(l.Ea,0,l);else if(Ke(l,"readystatechange"),sn(l)==4){l.h=!1;try{let $=l.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var f;if(!(f=u)){var p;if(p=$===0){var x=String(l.D).match(jy)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),p=!WR.test(x?x.toLowerCase():"")}f=p}if(f)Ke(l,"complete"),Ke(l,"success");else{l.m=6;try{var M=2<sn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",Ky(l)}}finally{Hc(l)}}}}function Hc(l,u){if(l.g){Yy(l);let f=l.g,p=l.v[0]?()=>{}:null;l.g=null,l.v=null,u||Ke(l,"ready");try{f.onreadystatechange=p}catch{}}}function Yy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function sn(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var u=this.g.responseText;return l&&u.indexOf(l)==0&&(u=u.substring(l.length)),TR(u)}};function Xy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function QR(l){let u={};l=(l.g&&2<=sn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<l.length;p++){if(Q(l[p]))continue;var f=C(l[p]);let x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=u[x]||[];u[x]=M,M.push(f)}w(u,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(l,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||u}function Zy(l){this.Aa=0,this.i=[],this.j=new Ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,l),this.cb=Va("retryDelaySeedMs",1e4,l),this.Wa=Va("forwardChannelMaxRetries",2,l),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new My(l&&l.concurrentRequestLimit),this.Da=new GR,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Zy.prototype,n.la=8,n.G=1,n.connect=function(l,u,f,p){Qe(0),this.W=l,this.H=u||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=a0(this,null,this.W),Kc(this)};function Gf(l){if(Jy(l),l.G==3){var u=l.U++,f=on(l.I);if(Kt(f,"SID",l.K),Kt(f,"RID",u),Kt(f,"TYPE","terminate"),La(l,f),u=new kn(l,l.j,u),u.L=2,u.v=$c(on(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(u.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=u.v,f=!0),f||(u.g=l0(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Bc(u)}s0(l)}function Wc(l){l.g&&(Wf(l),l.g.cancel(),l.g=null)}function Jy(l){Wc(l),l.u&&(a.clearTimeout(l.u),l.u=null),Qc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Kc(l){if(!Oy(l.h)&&!l.s){l.s=!0;var u=l.Ga;wa||uy(),Ea||(wa(),Ea=!0),Cf.add(u,l),l.B=0}}function YR(l,u){return Ny(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=u.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Sa(g(l.Ga,l,u),o0(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new kn(this,this.j,l),M=this.o;if(this.S&&(M?(M=_(M),E(M,this.S)):M=this.S),this.m!==null||this.O||(x.H=M,M=null),this.P)t:{for(var u=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(u+=p,4096<u){u=f;break t}if(u===4096||f===this.i.length-1){u=f+1;break t}}u=1e3}else u=1e3;u=e0(this,x,u),f=on(this.I),Kt(f,"RID",l),Kt(f,"CVER",22),this.D&&Kt(f,"X-HTTP-Session-Id",this.D),La(this,f),M&&(this.O?u="headers="+encodeURIComponent(String(Hy(M)))+"&"+u:this.m&&$f(f,this.m,M)),qf(this.h,x),this.Ua&&Kt(f,"TYPE","init"),this.P?(Kt(f,"$req",u),Kt(f,"SID","null"),x.T=!0,jf(x,f,null)):jf(x,f,u),this.G=2}}else this.G==3&&(l?t0(this,l):this.i.length==0||Oy(this.h)||t0(this))};function t0(l,u){var f;u?f=u.l:f=l.U++;let p=on(l.I);Kt(p,"SID",l.K),Kt(p,"RID",f),Kt(p,"AID",l.T),La(l,p),l.m&&l.o&&$f(p,l.m,l.o),f=new kn(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),u&&(l.i=u.D.concat(l.i)),u=e0(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),qf(l.h,f),jf(f,p,u)}function La(l,u){l.H&&lt(l.H,function(f,p){Kt(u,p,f)}),l.l&&Ly({},function(f,p){Kt(u,p,f)})}function e0(l,u,f){f=Math.min(l.i.length,f);var p=l.l?g(l.l.Na,l.l,l):null;t:{var x=l.i;let M=-1;for(;;){let $=["count="+f];M==-1?0<f?(M=x[0].g,$.push("ofs="+M)):M=0:$.push("ofs="+M);let zt=!0;for(let Se=0;Se<f;Se++){let At=x[Se].g,Le=x[Se].map;if(At-=M,0>At)M=Math.max(0,x[Se].g-100),zt=!1;else try{HR(Le,$,"req"+At+"_")}catch{p&&p(Le)}}if(zt){p=$.join("&");break t}}}return l=l.i.splice(0,f),u.D=l,p}function i0(l){if(!l.g&&!l.u){l.Y=1;var u=l.Fa;wa||uy(),Ea||(wa(),Ea=!0),Cf.add(u,l),l.v=0}}function Hf(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Sa(g(l.Fa,l),o0(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,n0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Sa(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),Wc(this),n0(this))};function Wf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function n0(l){l.g=new kn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var u=on(l.qa);Kt(u,"RID","rpc"),Kt(u,"SID",l.K),Kt(u,"AID",l.T),Kt(u,"CI",l.F?"0":"1"),!l.F&&l.ja&&Kt(u,"TO",l.ja),Kt(u,"TYPE","xmlhttp"),La(l,u),l.m&&l.o&&$f(u,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=$c(on(u)),f.m=null,f.P=!0,Dy(f,l)}n.Za=function(){this.C!=null&&(this.C=null,Wc(this),Hf(this),Qe(19))};function Qc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function r0(l,u){var f=null;if(l.g==u){Qc(l),Wf(l),l.g=null;var p=2}else if(zf(l.h,u))f=u.D,Fy(l.h,u),p=1;else return;if(l.G!=0){if(u.o)if(p==1){f=u.m?u.m.length:0,u=Date.now()-u.F;var x=l.B;p=Lc(),Ke(p,new Ty(p,f)),Kc(l)}else i0(l);else if(x=u.s,x==3||x==0&&0<u.X||!(p==1&&YR(l,u)||p==2&&Hf(l)))switch(f&&0<f.length&&(u=l.h,u.i=u.i.concat(f)),x){case 1:kr(l,5);break;case 4:kr(l,10);break;case 3:kr(l,6);break;default:kr(l,2)}}}function o0(l,u){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*u}function kr(l,u){if(l.j.info("Error code "+u),u==2){var f=g(l.fb,l),p=l.Xa;let x=!p;p=new Dr(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zc(p,"https"),$c(p),x?qR(p.toString(),f):$R(p.toString(),f)}else Qe(2);l.G=0,l.l&&l.l.sa(u),s0(l),Jy(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function s0(l){if(l.G=0,l.ka=[],l.l){let u=Vy(l.h);(u.length!=0||l.i.length!=0)&&(T(l.ka,u),T(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function a0(l,u,f){var p=f instanceof Dr?on(f):new Dr(f);if(p.g!="")u&&(p.g=u+"."+p.g),qc(p,p.s);else{var x=a.location;p=x.protocol,u=u?u+"."+x.hostname:x.hostname,x=+x.port;var M=new Dr(null);p&&zc(M,p),u&&(M.g=u),x&&qc(M,x),f&&(M.l=f),p=M}return f=l.D,u=l.ya,f&&u&&Kt(p,f,u),Kt(p,"VER",l.la),La(l,p),p}function l0(l,u,f){if(u&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=l.Ca&&!l.pa?new ne(new Oa({eb:f})):new ne(l.pa),u.Ha(l.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function c0(){}n=c0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Yc(){}Yc.prototype.g=function(l,u){return new si(l,u)};function si(l,u){Ve.call(this),this.g=new Zy(u),this.l=l,this.h=u&&u.messageUrlParams||null,l=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(l?l["X-WebChannel-Content-Type"]=u.messageContentType:l={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(l?l["X-WebChannel-Client-Profile"]=u.va:l={"X-WebChannel-Client-Profile":u.va}),this.g.S=l,(l=u&&u.Sb)&&!Q(l)&&(this.g.m=l),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!Q(u)&&(this.g.D=u,l=this.h,l!==null&&u in l&&(l=this.h,u in l&&delete l[u])),this.j=new ko(this)}A(si,Ve),si.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){Gf(this.g)},si.prototype.o=function(l){var u=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Mf(l),l=f);u.i.push(new MR(u.Ya++,l)),u.G==3&&Kc(u)},si.prototype.N=function(){this.g.l=null,delete this.j,Gf(this.g),delete this.g,si.aa.N.call(this)};function d0(l){Nf.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var u=l.__sm__;if(u){t:{for(let f in u){l=f;break t}l=void 0}(this.i=l)&&(l=this.i,u=u!==null&&l in u?u[l]:void 0),this.data=u}else this.data=l}A(d0,Nf);function u0(){Ff.call(this),this.status=1}A(u0,Ff);function ko(l){this.g=l}A(ko,c0),ko.prototype.ua=function(){Ke(this.g,"a")},ko.prototype.ta=function(l){Ke(this.g,new d0(l))},ko.prototype.sa=function(l){Ke(this.g,new u0)},ko.prototype.ra=function(){Ke(this.g,"b")},Yc.prototype.createWebChannel=Yc.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,Zp=_n.createWebChannelTransport=function(){return new Yc},Xp=_n.getStatEventTarget=function(){return Lc()},Yp=_n.Event=Sr,vu=_n.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jc.NO_ERROR=0,jc.TIMEOUT=8,jc.HTTP_ERROR=6,Rl=_n.ErrorCode=jc,Ay.COMPLETE="complete",Qp=_n.EventType=Ay,Ey.EventType=Ta,Ta.OPEN="a",Ta.CLOSE="b",Ta.ERROR="c",Ta.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,_s=_n.WebChannel=Ey,GM=_n.FetchXmlHttpFactory=Oa,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,Kp=_n.XhrIo=ne}).apply(typeof _u<"u"?_u:typeof self<"u"?self:typeof window<"u"?window:{});var EI="@firebase/firestore";var ve=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ve.UNAUTHENTICATED=new ve(null),ve.GOOGLE_CREDENTIALS=new ve("google-credentials-uid"),ve.FIRST_PARTY=new ve("first-party-uid"),ve.MOCK_USER=new ve("mock-user");var Ks="10.14.0";var ar=new yd("@firebase/firestore");function Es(){return ar.logLevel}function xC(n){ar.setLogLevel(n)}function L(n,...t){if(ar.logLevel<=qi.DEBUG){let e=t.map(nv);ar.debug(`Firestore (${Ks}): ${n}`,...e)}}function ue(n,...t){if(ar.logLevel<=qi.ERROR){let e=t.map(nv);ar.error(`Firestore (${Ks}): ${n}`,...e)}}function Mi(n,...t){if(ar.logLevel<=qi.WARN){let e=t.map(nv);ar.warn(`Firestore (${Ks}): ${n}`,...e)}}function nv(n){if(typeof n=="string")return n;try{return function(e){return JSON.stringify(e)}(n)}catch{return n}}function X(n="Unexpected state"){let t=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: `+n;throw ue(t),new Error(t)}function tt(n,t){n||X()}function TC(n,t){n||X()}function H(n,t){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends bd{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ie=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var Su=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},rg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ve.UNAUTHENTICATED))}shutdown(){}},og=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},sg=class{constructor(t){this.t=t,this.currentUser=ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){tt(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,e(c)):Promise.resolve(),o=new Ie;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ie,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;t.enqueueRetryable(()=>P(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ie)}},0),s()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string"),new Su(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return tt(t===null||typeof t=="string"),new ve(t)}},ag=class{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=ve.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},lg=class{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new ag(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cg=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},dg=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){tt(this.o===void 0);let i=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};let r=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(tt(typeof e.token=="string"),this.R=e.token,new cg(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function WM(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}var Ru=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,i="";for(;i.length<20;){let r=WM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}};function ut(n,t){return n<t?-1:n>t?1:0}function ks(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function AC(n){return n+"\0"}var te=class n{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new F(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new F(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new F(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new n(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ut(this.nanoseconds,t.nanoseconds):ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var st=class n{constructor(t){this.timestamp=t}static fromTimestamp(t){return new n(t)}static min(){return new n(new te(0,0))}static max(){return new n(new te(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Du=class n{constructor(t,e,i){e===void 0?e=0:e>t.length&&X(),i===void 0?i=t.length-e:i>t.length-e&&X(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let i=Math.min(t.length,e.length);for(let r=0;r<i;r++){let o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}},xt=class n extends Du{construct(t,e,i){return new n(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let i of t){if(i.indexOf("//")>=0)throw new F(O.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new n(e)}static emptyPath(){return new n([])}},KM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,he=class n extends Du{construct(t,e,i){return new n(t,e,i)}static isValidIdentifier(t){return KM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(t){let e=[],i="",r=0,o=()=>{if(i.length===0)throw new F(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""},s=!1;for(;r<t.length;){let a=t[r];if(a==="\\"){if(r+1===t.length)throw new F(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new F(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new F(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}static emptyPath(){return new n([])}};var W=class n{constructor(t){this.path=t}static fromPath(t){return new n(xt.fromString(t))}static fromName(t){return new n(xt.fromString(t).popFirst(5))}static empty(){return new n(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return xt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new xt(t.slice()))}};var Ps=class{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}};function ug(n){return n.fields.find(t=>t.kind===2)}function Wr(n){return n.fields.filter(t=>t.kind!==2)}Ps.UNKNOWN_ID=-1;var Ss=class{constructor(t,e){this.fieldPath=t,this.kind=e}};var Bl=class n{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new n(0,yi.min())}};function SC(n,t){let e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=st.fromTimestamp(i===1e9?new te(e+1,0):new te(e,i));return new yi(r,W.empty(),t)}function RC(n){return new yi(n.readTime,n.key,-1)}var yi=class n{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new n(st.min(),W.empty(),-1)}static max(){return new n(st.max(),W.empty(),-1)}};function rv(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=W.comparator(n.documentKey,t.documentKey),e!==0?e:ut(n.largestBatchId,t.largestBatchId))}var DC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ku=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function _r(n){return P(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==DC)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof n?e:n.resolve(e)}catch(e){return n.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):n.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):n.reject(e)}static resolve(t){return new n((e,i)=>{e(t)})}static reject(t){return new n((e,i)=>{i(t)})}static waitFor(t){return new n((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},c=>i(c))}),s=!0,o===r&&e()})}static or(t){let e=n.resolve(!1);for(let i of t)e=e.next(r=>r?n.resolve(r):i());return e}static forEach(t,e){let i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new n((i,r)=>{let o=t.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let d=c;e(t[d]).next(h=>{s[d]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(t,e){return new n((i,r)=>{let o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}};var Pu=class n{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new Ie,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Jr(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=ov(i.target.error);this.V.reject(new Jr(t,r))}}static open(t,e,i,r){try{return new n(e,t.transaction(r,i))}catch(o){throw new Jr(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(L("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){let e=this.transaction.objectStore(t);return new fg(e)}},lr=class n{constructor(t,e,i){this.name=t,this.version=e,this.p=i,n.S(Ha())===12.2&&ue("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return L("SimpleDb","Removing database:",t),Kr(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!vd())return!1;if(n.v())return!0;let t=Ha(),e=n.S(t),i=0<e&&e<10,r=kC(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static v(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.C)==="YES"}static F(t,e){return t.store(e)}static S(t){let e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){return P(this,null,function*(){return this.db||(L("SimpleDb","Opening database:",this.name),this.db=yield new Promise((e,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;e(s)},r.onblocked=()=>{i(new Jr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new F(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new F(O.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new Jr(t,s))},r.onupgradeneeded=o=>{L("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,r.transaction,o.oldVersion,this.version).next(()=>{L("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db})}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){return P(this,null,function*(){let o=e==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(t);let a=Pu.open(this.db,t,o?"readonly":"readwrite",i),c=r(a).next(d=>(a.g(),d)).catch(d=>(a.abort(d),k.reject(d))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,d=c.name!=="FirebaseError"&&s<3;if(L("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function kC(n){let t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}var hg=class{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Kr(this.B.delete())}},Jr=class extends F{constructor(t,e){super(O.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}};function vr(n){return n.name==="IndexedDbTransactionError"}var fg=class{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(L("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(L("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Kr(i)}add(t){return L("SimpleDb","ADD",this.store.name,t,t),Kr(this.store.add(t))}get(t){return Kr(this.store.get(t)).next(e=>(e===void 0&&(e=null),L("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return L("SimpleDb","DELETE",this.store.name,t),Kr(this.store.delete(t))}count(){return L("SimpleDb","COUNT",this.store.name),Kr(this.store.count())}U(t,e){let i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new k((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(i),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(t,e){let i=this.store.getAll(t,e===null?void 0:e);return new k((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(t,e){L("SimpleDb","DELETE ALL",this.store.name);let i=this.options(t,e);i.H=!1;let r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(t,e){let i;e?i=t:(i={},e=t);let r=this.cursor(i);return this.W(r,e)}Y(t){let e=this.cursor({});return new k((i,r)=>{e.onerror=o=>{let s=ov(o.target.error);r(s)},e.onsuccess=o=>{let s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(t,e){let i=[];return new k((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let c=new hg(a),d=e(a.primaryKey,a.value,c);if(d instanceof k){let h=d.catch(m=>(c.done(),k.reject(m)));i.push(h)}c.isDone?r():c.K===null?a.continue():a.continue(c.K)}}).next(()=>k.waitFor(i))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){let i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}};function Kr(n){return new k((t,e)=>{n.onsuccess=i=>{let r=i.target.result;t(r)},n.onerror=i=>{let r=ov(i.target.error);e(r)}})}var II=!1;function ov(n){let t=lr.S(Ha());if(t>=12.2&&t<13){let e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){let i=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return II||(II=!0,setTimeout(()=>{throw i},0)),i}}return n}var mg=class{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(t){L("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,()=>P(this,null,function*(){this.task=null;try{L("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(e){vr(e)?L("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):yield _r(e)}yield this.X(6e4)}))}},pg=class{constructor(t,e){this.localStore=t,this.persistence=e}ee(t=50){return P(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",e=>this.te(e,t))})}te(t,e){let i=new Set,r=e,o=!0;return k.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(s!==null&&!i.has(s))return L("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(a=>(L("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}re(t,e){let i=t;return e.changes.forEach((r,o)=>{let s=RC(o);rv(s,i)>0&&(i=s)}),new yi(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}};var hi=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function lc(n){return n==null}function zl(n){return n===0&&1/n==-1/0}function PC(n){return typeof n=="number"&&Number.isInteger(n)&&!zl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ze(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=CI(t)),t=QM(n.get(e),t);return CI(t)}function QM(n,t){let e=t,i=n.length;for(let r=0;r<i;r++){let o=n.charAt(r);switch(o){case"\0":e+="";break;case"":e+="";break;default:e+=o}}return e}function CI(n){return n+""}function Gi(n){let t=n.length;if(tt(t>=2),t===2)return tt(n.charAt(0)===""&&n.charAt(1)===""),xt.emptyPath();let e=t-2,i=[],r="";for(let o=0;o<t;){let s=n.indexOf("",o);switch((s<0||s>e)&&X(),n.charAt(s+1)){case"":let a=n.substring(o,s),c;r.length===0?c=a:(r+=a,c=r,r=""),i.push(c);break;case"":r+=n.substring(o,s),r+="\0";break;case"":r+=n.substring(o,s+1);break;default:X()}o=s+2}return new xt(i)}var xI=["userId","batchId"];function Iu(n,t){return[n,Ze(t)]}function MC(n,t,e){return[n,Ze(t),e]}var YM={},XM=["prefixPath","collectionGroup","readTime","documentId"],ZM=["prefixPath","collectionGroup","documentId"],JM=["collectionGroup","readTime","prefixPath","documentId"],tO=["canonicalId","targetId"],eO=["targetId","path"],iO=["path","targetId"],nO=["collectionId","parent"],rO=["indexId","uid"],oO=["uid","sequenceNumber"],sO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aO=["indexId","uid","orderedDocumentKey"],lO=["userId","collectionPath","documentId"],cO=["userId","collectionPath","largestBatchId"],dO=["userId","collectionGroup","largestBatchId"],OC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uO=[...OC,"documentOverlays"],NC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FC=NC,sv=[...FC,"indexConfiguration","indexState","indexEntries"],hO=sv,fO=[...sv,"globals"];var ql=class extends ku{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}};function Ce(n,t){let e=H(n);return lr.F(e._e,t)}function TI(n){let t=0;for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ho(n,t){for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function VC(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var Qt=class n{constructor(t,e){this.comparator=t,this.root=e||Wi.EMPTY}insert(t,e){return new n(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){let t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new As(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new As(this.root,t,this.comparator,!1)}getReverseIterator(){return new As(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new As(this.root,t,this.comparator,!0)}},As=class{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Wi=class n{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new n(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this,o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let t=this.left.check();if(t!==this.right.check())throw X();return t+(this.isRed()?0:1)}};Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1;Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Wi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Gt=class n{constructor(t){this.comparator=t,this.data=new Qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){let i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Mu(this.data.getIterator())}getIteratorFrom(t){return new Mu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){let r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new n(this.comparator);return e.data=t,e}},Mu=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function vs(n){return n.hasNext()?n.getNext():void 0}var fi=class n{constructor(t){this.fields=t,t.sort(he.comparator)}static empty(){return new n([])}unionWith(t){let e=new Gt(he.comparator);for(let i of this.fields)e=e.add(i);for(let i of t)e=e.add(i);return new n(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ks(this.fields,t.fields,(e,i)=>e.isEqual(i))}};var Ou=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function LC(){return typeof atob<"u"}var me=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ou("Invalid base64 string: "+o):o}}(t);return new n(e)}static fromUint8Array(t){let e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};me.EMPTY_BYTE_STRING=new me("");var mO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yn(n){if(tt(!!n),typeof n=="string"){let t=0,e=mO.exec(n);if(tt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function cr(n){return typeof n=="string"?me.fromBase64String(n):me.fromUint8Array(n)}function xh(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function av(n){let t=n.mapValue.fields.__previous_value__;return xh(t)?av(t):t}function $l(n){let t=yn(n.mapValue.fields.__local_write_time__.timestampValue);return new te(t.seconds,t.nanos)}var gg=class{constructor(t,e,i,r,o,s,a,c,d){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}},dr=class n{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var or={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cu={nullValue:"NULL_VALUE"};function to(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xh(n)?4:jC(n)?9007199254740991:Th(n)?10:11:X()}function Yi(n,t){if(n===t)return!0;let e=to(n);if(e!==to(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return $l(n).isEqual($l(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=yn(r.timestampValue),a=yn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return cr(r.bytesValue).isEqual(cr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Xt(r.geoPointValue.latitude)===Xt(o.geoPointValue.latitude)&&Xt(r.geoPointValue.longitude)===Xt(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Xt(r.integerValue)===Xt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Xt(r.doubleValue),a=Xt(o.doubleValue);return s===a?zl(s)===zl(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return ks(n.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(TI(s)!==TI(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Yi(s[c],a[c])))return!1;return!0}(n,t);default:return X()}}function Gl(n,t){return(n.values||[]).find(e=>Yi(e,t))!==void 0}function ur(n,t){if(n===t)return 0;let e=to(n),i=to(t);if(e!==i)return ut(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return ut(n.booleanValue,t.booleanValue);case 2:return function(o,s){let a=Xt(o.integerValue||o.doubleValue),c=Xt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,t);case 3:return AI(n.timestampValue,t.timestampValue);case 4:return AI($l(n),$l(t));case 5:return ut(n.stringValue,t.stringValue);case 6:return function(o,s){let a=cr(o),c=cr(s);return a.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){let h=ut(a[d],c[d]);if(h!==0)return h}return ut(a.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){let a=ut(Xt(o.latitude),Xt(s.latitude));return a!==0?a:ut(Xt(o.longitude),Xt(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return SI(n.arrayValue,t.arrayValue);case 10:return function(o,s){var a,c,d,h;let m=o.fields||{},g=s.fields||{},v=(a=m.value)===null||a===void 0?void 0:a.arrayValue,A=(c=g.value)===null||c===void 0?void 0:c.arrayValue,D=ut(((d=v?.values)===null||d===void 0?void 0:d.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return D!==0?D:SI(v,A)}(n.mapValue,t.mapValue);case 11:return function(o,s){if(o===or.mapValue&&s===or.mapValue)return 0;if(o===or.mapValue)return 1;if(s===or.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){let g=ut(c[m],h[m]);if(g!==0)return g;let v=ur(a[c[m]],d[h[m]]);if(v!==0)return v}return ut(c.length,h.length)}(n.mapValue,t.mapValue);default:throw X()}}function AI(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return ut(n,t);let e=yn(n),i=yn(t),r=ut(e.seconds,i.seconds);return r!==0?r:ut(e.nanos,i.nanos)}function SI(n,t){let e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){let o=ur(e[r],i[r]);if(o)return o}return ut(e.length,i.length)}function Ms(n){return _g(n)}function _g(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){let i=yn(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return cr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return W.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(let o of e.values||[])r?r=!1:i+=",",i+=_g(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){let i=Object.keys(e.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${_g(e.fields[s])}`;return r+"}"}(n.mapValue):X()}function eo(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function vg(n){return!!n&&"integerValue"in n}function Hl(n){return!!n&&"arrayValue"in n}function RI(n){return!!n&&"nullValue"in n}function DI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xu(n){return!!n&&"mapValue"in n}function Th(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function Fl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let t={mapValue:{fields:{}}};return ho(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Fl(i)),t}if(n.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Fl(n.arrayValue.values[e]);return t}return Object.assign({},n)}function jC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var UC={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function pO(n){return"nullValue"in n?Cu:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?eo(dr.empty(),W.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Th(n)?UC:{mapValue:{}}:X()}function gO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?eo(dr.empty(),W.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?UC:"mapValue"in n?Th(n)?{mapValue:{}}:or:X()}function kI(n,t){let e=ur(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function PI(n,t){let e=ur(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}var He=class n{constructor(t){this.value=t}static empty(){return new n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!xu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fl(e)}setAll(t){let e=he.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){let c=this.getFieldsMap(e);this.applyChanges(c,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=Fl(s):r.push(a.lastSegment())});let o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){let e=this.field(t.popLast());xu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];xu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ho(e,(r,o)=>t[r]=o);for(let r of i)delete t[r]}clone(){return new n(Fl(this.value))}};function BC(n){let t=[];return ho(n.fields,(e,i)=>{let r=new he([e]);if(xu(i)){let o=BC(i.mapValue).fields;if(o.length===0)t.push(r);else for(let s of o)t.push(r.child(s))}else t.push(r)}),new fi(t)}var be=class n{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new n(t,0,st.min(),st.min(),st.min(),He.empty(),0)}static newFoundDocument(t,e,i,r){return new n(t,1,e,st.min(),i,r,0)}static newNoDocument(t,e){return new n(t,2,e,st.min(),st.min(),He.empty(),0)}static newUnknownDocument(t,e){return new n(t,3,e,st.min(),st.min(),He.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=He.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=He.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xi=class{constructor(t,e){this.position=t,this.inclusive=e}};function MI(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){let o=t[r],s=n.position[r];if(o.field.isKeyField()?i=W.comparator(W.fromName(s.referenceValue),e.key):i=ur(s,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function OI(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Yi(n.position[e],t.position[e]))return!1;return!0}var io=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function _O(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var Nu=class{},Et=class n extends Nu{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new wg(t,e,i):e==="array-contains"?new Cg(t,i):e==="in"?new Fu(t,i):e==="not-in"?new xg(t,i):e==="array-contains-any"?new Tg(t,i):new n(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new Eg(t,i):new Ig(t,i)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(ur(e,this.value)):e!==null&&to(this.value)===to(e)&&this.matchesComparison(ur(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Vt=class n extends Nu{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new n(t,e)}matches(t){return Os(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Os(n){return n.op==="and"}function bg(n){return n.op==="or"}function lv(n){return zC(n)&&Os(n)}function zC(n){for(let t of n.filters)if(t instanceof Vt)return!1;return!0}function yg(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Ms(n.value);if(lv(n))return n.filters.map(t=>yg(t)).join(",");{let t=n.filters.map(e=>yg(e)).join(",");return`${n.op}(${t})`}}function qC(n,t){return n instanceof Et?function(i,r){return r instanceof Et&&i.op===r.op&&i.field.isEqual(r.field)&&Yi(i.value,r.value)}(n,t):n instanceof Vt?function(i,r){return r instanceof Vt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&qC(s,r.filters[a]),!0):!1}(n,t):void X()}function $C(n,t){let e=n.filters.concat(t);return Vt.create(e,n.op)}function GC(n){return n instanceof Et?function(e){return`${e.field.canonicalString()} ${e.op} ${Ms(e.value)}`}(n):n instanceof Vt?function(e){return e.op.toString()+" {"+e.getFilters().map(GC).join(" ,")+"}"}(n):"Filter"}var wg=class extends Et{constructor(t,e,i){super(t,e,i),this.key=W.fromName(i.referenceValue)}matches(t){let e=W.comparator(t.key,this.key);return this.matchesComparison(e)}},Eg=class extends Et{constructor(t,e){super(t,"in",e),this.keys=HC("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},Ig=class extends Et{constructor(t,e){super(t,"not-in",e),this.keys=HC("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function HC(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>W.fromName(i.referenceValue))}var Cg=class extends Et{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return Hl(e)&&Gl(e.arrayValue,this.value)}},Fu=class extends Et{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&Gl(this.value.arrayValue,e)}},xg=class extends Et{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&!Gl(this.value.arrayValue,e)}},Tg=class extends Et{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!Hl(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Gl(this.value.arrayValue,i))}};var Ag=class{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function Sg(n,t=null,e=[],i=[],r=null,o=null,s=null){return new Ag(n,t,e,i,r,o,s)}function no(n){let t=H(n);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>yg(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),lc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ms(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ms(i)).join(",")),t.ue=e}return t.ue}function cc(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!_O(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!qC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!OI(n.startAt,t.startAt)&&OI(n.endAt,t.endAt)}function Vu(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Lu(n,t){return n.filters.filter(e=>e instanceof Et&&e.field.isEqual(t))}function NI(n,t,e){let i=Cu,r=!0;for(let o of Lu(n,t)){let s=Cu,a=!0;switch(o.op){case"<":case"<=":s=pO(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Cu}kI({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(e!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){let s=e.position[o];kI({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}}return{value:i,inclusive:r}}function FI(n,t,e){let i=or,r=!0;for(let o of Lu(n,t)){let s=or,a=!0;switch(o.op){case">=":case">":s=gO(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=or}PI({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(e!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){let s=e.position[o];PI({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}}return{value:i,inclusive:r}}var Oi=class{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function WC(n,t,e,i,r,o,s,a){return new Oi(n,t,e,i,r,o,s,a)}function Qs(n){return new Oi(n)}function VI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cv(n){return n.collectionGroup!==null}function Rs(n){let t=H(n);if(t.ce===null){t.ce=[];let e=new Set;for(let o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());let i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Gt(he.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new io(o,i))}),e.has(he.keyField().canonicalString())||t.ce.push(new io(he.keyField(),i))}return t.ce}function Je(n){let t=H(n);return t.le||(t.le=vO(t,Rs(n))),t.le}function vO(n,t){if(n.limitType==="F")return Sg(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new io(r.field,o)});let e=n.endAt?new Xi(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xi(n.startAt.position,n.startAt.inclusive):null;return Sg(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Rg(n,t){let e=n.filters.concat([t]);return new Oi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ju(n,t,e){return new Oi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function dc(n,t){return cc(Je(n),Je(t))&&n.limitType===t.limitType}function KC(n){return`${no(Je(n))}|lt:${n.limitType}`}function Is(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>GC(r)).join(", ")}]`),lc(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Ms(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Ms(r)).join(",")),`Target(${i})`}(Je(n))}; limitType=${n.limitType})`}function uc(n,t){return t.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):W.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(let o of Rs(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(s,a,c){let d=MI(s,a,c);return s.inclusive?d<=0:d<0}(i.startAt,Rs(i),r)||i.endAt&&!function(s,a,c){let d=MI(s,a,c);return s.inclusive?d>=0:d>0}(i.endAt,Rs(i),r))}(n,t)}function QC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YC(n){return(t,e)=>{let i=!1;for(let r of Rs(n)){let o=bO(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function bO(n,t,e){let i=n.field.isKeyField()?W.comparator(t.key,e.key):function(o,s,a){let c=s.data.field(o),d=a.data.field(o);return c!==null&&d!==null?ur(c,d):X()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return X()}}var Zi=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){let i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ho(this.inner,(e,i)=>{for(let[r,o]of i)t(r,o)})}isEmpty(){return VC(this.inner)}size(){return this.innerSize}};var yO=new Qt(W.comparator);function oi(){return yO}var XC=new Qt(W.comparator);function Ol(...n){let t=XC;for(let e of n)t=t.insert(e.key,e);return t}function ZC(n){let t=XC;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Hi(){return Vl()}function JC(){return Vl()}function Vl(){return new Zi(n=>n.toString(),(n,t)=>n.isEqual(t))}var wO=new Qt(W.comparator),EO=new Gt(W.comparator);function mt(...n){let t=EO;for(let e of n)t=t.add(e);return t}var IO=new Gt(ut);function dv(){return IO}function uv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(t)?"-0":t}}function tx(n){return{integerValue:""+n}}function ex(n,t){return PC(t)?tx(t):uv(n,t)}var Ns=class{constructor(){this._=void 0}};function CO(n,t,e){return n instanceof hr?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&xh(o)&&(o=av(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof wn?nx(n,t):n instanceof En?rx(n,t):function(r,o){let s=ix(r,o),a=LI(s)+LI(r.Pe);return vg(s)&&vg(r.Pe)?tx(a):uv(r.serializer,a)}(n,t)}function xO(n,t,e){return n instanceof wn?nx(n,t):n instanceof En?rx(n,t):e}function ix(n,t){return n instanceof fr?function(i){return vg(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}var hr=class extends Ns{},wn=class extends Ns{constructor(t){super(),this.elements=t}};function nx(n,t){let e=ox(t);for(let i of n.elements)e.some(r=>Yi(r,i))||e.push(i);return{arrayValue:{values:e}}}var En=class extends Ns{constructor(t){super(),this.elements=t}};function rx(n,t){let e=ox(t);for(let i of n.elements)e=e.filter(r=>!Yi(r,i));return{arrayValue:{values:e}}}var fr=class extends Ns{constructor(t,e){super(),this.serializer=t,this.Pe=e}};function LI(n){return Xt(n.integerValue||n.doubleValue)}function ox(n){return Hl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var ro=class{constructor(t,e){this.field=t,this.transform=e}};function TO(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof wn&&r instanceof wn||i instanceof En&&r instanceof En?ks(i.elements,r.elements,Yi):i instanceof fr&&r instanceof fr?Yi(i.Pe,r.Pe):i instanceof hr&&r instanceof hr}(n.transform,t.transform)}var Dg=class{constructor(t,e){this.version=t,this.transformResults=e}},le=class n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new n}static exists(t){return new n(void 0,t)}static updateTime(t){return new n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function Tu(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}var Fs=class{};function sx(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new pr(n.key,le.none()):new mr(n.key,n.data,le.none());{let e=n.data,i=He.empty(),r=new Gt(he.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);s===null&&o.length>1&&(o=o.popLast(),s=e.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Ni(n.key,i,new fi(r.toArray()),le.none())}}function AO(n,t,e){n instanceof mr?function(r,o,s){let a=r.value.clone(),c=UI(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Ni?function(r,o,s){if(!Tu(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=UI(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(ax(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,e)}function Ll(n,t,e,i){return n instanceof mr?function(o,s,a,c){if(!Tu(o.precondition,s))return a;let d=o.value.clone(),h=BI(o.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ni?function(o,s,a,c){if(!Tu(o.precondition,s))return a;let d=BI(o.fieldTransforms,c,s),h=s.data;return h.setAll(ax(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,t,e,i):function(o,s,a){return Tu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,t,e)}function SO(n,t){let e=null;for(let i of n.fieldTransforms){let r=t.data.field(i.field),o=ix(i.transform,r||null);o!=null&&(e===null&&(e=He.empty()),e.set(i.field,o))}return e||null}function jI(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ks(i,r,(o,s)=>TO(o,s))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}var mr=class extends Fs{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Ni=class extends Fs{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ax(n){let t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let i=n.data.field(e);t.set(e,i)}}),t}function UI(n,t,e){let i=new Map;tt(n.length===e.length);for(let r=0;r<e.length;r++){let o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,xO(s,a,e[r]))}return i}function BI(n,t,e){let i=new Map;for(let r of n){let o=r.transform,s=e.data.field(r.field);i.set(r.field,CO(o,s,t))}return i}var pr=class extends Fs{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Wl=class extends Fs{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Kl=class{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){let i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(t.key)&&AO(o,t,i[r])}}applyToLocalView(t,e){for(let i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ll(i,t,e,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(t.key)&&(e=Ll(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let i=JC();return this.mutations.forEach(r=>{let o=t.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;let c=sx(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(st.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),mt())}isEqual(t){return this.batchId===t.batchId&&ks(this.mutations,t.mutations,(e,i)=>jI(e,i))&&ks(this.baseMutations,t.baseMutations,(e,i)=>jI(e,i))}},kg=class n{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){tt(t.mutations.length===i.length);let r=function(){return wO}(),o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(t,e,i,r)}};var Ql=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pg=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var ge,Ct;function lx(n){switch(n){default:return X();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function cx(n){if(n===void 0)return ue("GRPC error has no .code"),O.UNKNOWN;switch(n){case ge.OK:return O.OK;case ge.CANCELLED:return O.CANCELLED;case ge.UNKNOWN:return O.UNKNOWN;case ge.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ge.INTERNAL:return O.INTERNAL;case ge.UNAVAILABLE:return O.UNAVAILABLE;case ge.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ge.NOT_FOUND:return O.NOT_FOUND;case ge.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ge.ABORTED:return O.ABORTED;case ge.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ge.DATA_LOSS:return O.DATA_LOSS;default:return X()}}(Ct=ge||(ge={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";var zI=null;function dx(){return new TextEncoder}var RO=new tr([4294967295,4294967295],0);function qI(n){let t=dx().encode(n),e=new Wp;return e.update(t),new Uint8Array(e.digest())}function $I(n){let t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new tr([e,i],0),new tr([r,o],0)]}var Mg=class n{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Zr(`Invalid padding: ${e}`);if(i<0)throw new Zr(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Zr(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Zr(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=tr.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(tr.fromNumber(i)));return r.compare(RO)===1&&(r=new tr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;let e=qI(t),[i,r]=$I(e);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(t,e,i){let r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new n(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(this.Ie===0)return;let e=qI(t),[i,r]=$I(e);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(t){let e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}},Zr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yl=class n{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){let r=new Map;return r.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new n(st.min(),r,new Qt(ut),oi(),mt())}},Xl=class n{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new n(i,e,mt(),mt(),mt())}};var Ds=class{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}},Uu=class{constructor(t,e){this.targetId=t,this.me=e}},Bu=class{constructor(t,e,i=me.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}},zu=class{constructor(){this.fe=0,this.ge=HI(),this.pe=me.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=mt(),e=mt(),i=mt();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:X()}}),new Xl(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=HI()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Og=class{constructor(t){this.Le=t,this.Be=new Map,this.ke=oi(),this.qe=GI(),this.Qe=new Qt(ut)}Ke(t){for(let e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(let e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{let i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:X()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){let e=t.targetId,i=t.me.count,r=this.Je(e);if(r){let o=r.target;if(Vu(o))if(i===0){let s=new W(o.path);this.Ue(e,s,be.newNoDocument(s,st.min()))}else tt(i===1);else{let s=this.Ye(e);if(s!==i){let a=this.Ze(t),c=a?this.Xe(a,t,s):1;if(c!==0){this.je(e);let d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,d)}zI?.et(function(h,m,g,v,A){var D,T,G,Q,j,Z;let at={localCacheCount:h,existenceFilterCount:m.count,databaseId:g.database,projectId:g.projectId},lt=m.unchangedNames;return lt&&(at.bloomFilter={applied:A===0,hashCount:(D=lt?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(Q=(G=(T=lt?.bits)===null||T===void 0?void 0:T.bitmap)===null||G===void 0?void 0:G.length)!==null&&Q!==void 0?Q:0,padding:(Z=(j=lt?.bits)===null||j===void 0?void 0:j.padding)!==null&&Z!==void 0?Z:0,mightContain:w=>{var _;return(_=v?.mightContain(w))!==null&&_!==void 0&&_}}),at}(s,t.me,this.Le.tt(),a,c))}}}}Ze(t){let e=t.me.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e,s,a;try{s=cr(i).toUint8Array()}catch(c){if(c instanceof Ou)return Mi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Mg(s,r,o)}catch(c){return Mi(c instanceof Zr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){let i=this.Le.getRemoteKeysForTarget(e),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,o,null),r++)}),r}rt(t){let e=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Vu(a.target)){let c=new W(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,be.newNoDocument(c,t))}o.be&&(e.set(s,o.ve()),o.Ce())}});let i=mt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));let r=new Yl(t,e,this.Qe,this.ke,i);return this.ke=oi(),this.qe=GI(),this.Qe=new Qt(ut),r}$e(t,e){if(!this.ze(t))return;let i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;let r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){let e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new zu,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Gt(ut),this.qe=this.qe.insert(t,e)),e}ze(t){let e=this.Je(t)!==null;return e||L("WatchChangeAggregator","Detected inactive target",t),e}Je(t){let e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new zu),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}};function GI(){return new Qt(W.comparator)}function HI(){return new Qt(W.comparator)}var DO={asc:"ASCENDING",desc:"DESCENDING"},kO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PO={and:"AND",or:"OR"},Ng=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function Fg(n,t){return n.useProto3Json||lc(t)?t:{value:t}}function Vs(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ux(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function MO(n,t){return Vs(n,t.toTimestamp())}function fe(n){return tt(!!n),st.fromTimestamp(function(e){let i=yn(e);return new te(i.seconds,i.nanos)}(n))}function hv(n,t){return Vg(n,t).canonicalString()}function Vg(n,t){let e=function(r){return new xt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function hx(n){let t=xt.fromString(n);return tt(Ex(t)),t}function Zl(n,t){return hv(n.databaseId,t.path)}function Ki(n,t){let e=hx(t);if(e.get(1)!==n.databaseId.projectId)throw new F(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new F(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new W(px(e))}function fx(n,t){return hv(n.databaseId,t)}function mx(n){let t=hx(n);return t.length===4?xt.emptyPath():px(t)}function Lg(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function px(n){return tt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function WI(n,t,e){return{name:Zl(n,t),fields:e.value.mapValue.fields}}function gx(n,t,e){let i=Ki(n,t.name),r=fe(t.updateTime),o=t.createTime?fe(t.createTime):st.min(),s=new He({mapValue:{fields:t.fields}}),a=be.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function OO(n,t){return"found"in t?function(i,r){tt(!!r.found),r.found.name,r.found.updateTime;let o=Ki(i,r.found.name),s=fe(r.found.updateTime),a=r.found.createTime?fe(r.found.createTime):st.min(),c=new He({mapValue:{fields:r.found.fields}});return be.newFoundDocument(o,s,a,c)}(n,t):"missing"in t?function(i,r){tt(!!r.missing),tt(!!r.readTime);let o=Ki(i,r.missing),s=fe(r.readTime);return be.newNoDocument(o,s)}(n,t):X()}function NO(n,t){let e;if("targetChange"in t){t.targetChange;let i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:X()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(tt(h===void 0||typeof h=="string"),me.fromBase64String(h||"")):(tt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),me.fromUint8Array(h||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(d){let h=d.code===void 0?O.UNKNOWN:cx(d.code);return new F(h,d.message||"")}(s);e=new Bu(i,r,o,a||null)}else if("documentChange"in t){t.documentChange;let i=t.documentChange;i.document,i.document.name,i.document.updateTime;let r=Ki(n,i.document.name),o=fe(i.document.updateTime),s=i.document.createTime?fe(i.document.createTime):st.min(),a=new He({mapValue:{fields:i.document.fields}}),c=be.newFoundDocument(r,o,s,a),d=i.targetIds||[],h=i.removedTargetIds||[];e=new Ds(d,h,c.key,c)}else if("documentDelete"in t){t.documentDelete;let i=t.documentDelete;i.document;let r=Ki(n,i.document),o=i.readTime?fe(i.readTime):st.min(),s=be.newNoDocument(r,o),a=i.removedTargetIds||[];e=new Ds([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;let i=t.documentRemove;i.document;let r=Ki(n,i.document),o=i.removedTargetIds||[];e=new Ds([],o,r,null)}else{if(!("filter"in t))return X();{t.filter;let i=t.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new Pg(r,o),a=i.targetId;e=new Uu(a,s)}}return e}function Jl(n,t){let e;if(t instanceof mr)e={update:WI(n,t.key,t.value)};else if(t instanceof pr)e={delete:Zl(n,t.key)};else if(t instanceof Ni)e={update:WI(n,t.key,t.data),updateMask:BO(t.fieldMask)};else{if(!(t instanceof Wl))return X();e={verify:Zl(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof hr)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wn)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof En)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fr)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw X()}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:MO(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(n,t.precondition)),e}function jg(n,t){let e=t.currentDocument?function(o){return o.updateTime!==void 0?le.updateTime(fe(o.updateTime)):o.exists!==void 0?le.exists(o.exists):le.none()}(t.currentDocument):le.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;if("setToServerValue"in a)tt(a.setToServerValue==="REQUEST_TIME"),c=new hr;else if("appendMissingElements"in a){let h=a.appendMissingElements.values||[];c=new wn(h)}else if("removeAllFromArray"in a){let h=a.removeAllFromArray.values||[];c=new En(h)}else"increment"in a?c=new fr(s,a.increment):X();let d=he.fromServerFormat(a.fieldPath);return new ro(d,c)}(n,r)):[];if(t.update){t.update.name;let r=Ki(n,t.update.name),o=new He({mapValue:{fields:t.update.fields}});if(t.updateMask){let s=function(c){let d=c.fieldPaths||[];return new fi(d.map(h=>he.fromServerFormat(h)))}(t.updateMask);return new Ni(r,o,s,e,i)}return new mr(r,o,e,i)}if(t.delete){let r=Ki(n,t.delete);return new pr(r,e)}if(t.verify){let r=Ki(n,t.verify);return new Wl(r,e)}return X()}function FO(n,t){return n&&n.length>0?(tt(t!==void 0),n.map(e=>function(r,o){let s=r.updateTime?fe(r.updateTime):fe(o);return s.isEqual(st.min())&&(s=fe(o)),new Dg(s,r.transformResults||[])}(e,t))):[]}function _x(n,t){return{documents:[fx(n,t.path)]}}function vx(n,t){let e={structuredQuery:{}},i=t.path,r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=fx(n,r);let o=function(d){if(d.length!==0)return wx(Vt.create(d,"and"))}(t.filters);o&&(e.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:Cs(g.field),direction:LO(g.dir)}}(h))}(t.orderBy);s&&(e.structuredQuery.orderBy=s);let a=Fg(n,t.limit);return a!==null&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{_t:e,parent:r}}function bx(n){let t=mx(n.parent),e=n.structuredQuery,i=e.from?e.from.length:0,r=null;if(i>0){tt(i===1);let h=e.from[0];h.allDescendants?r=h.collectionId:t=t.child(h.collectionId)}let o=[];e.where&&(o=function(m){let g=yx(m);return g instanceof Vt&&lv(g)?g.getFilters():[g]}(e.where));let s=[];e.orderBy&&(s=function(m){return m.map(g=>function(A){return new io(xs(A.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(e.orderBy));let a=null;e.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,lc(g)?null:g}(e.limit));let c=null;e.startAt&&(c=function(m){let g=!!m.before,v=m.values||[];return new Xi(v,g)}(e.startAt));let d=null;return e.endAt&&(d=function(m){let g=!m.before,v=m.values||[];return new Xi(v,g)}(e.endAt)),WC(t,r,s,o,a,"F",c,d)}function VO(n,t){let e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function yx(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":let i=xs(e.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=xs(e.unaryFilter.field);return Et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=xs(e.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=xs(e.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(n):n.fieldFilter!==void 0?function(e){return Et.create(xs(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Vt.create(e.compositeFilter.filters.map(i=>yx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X()}}(e.compositeFilter.op))}(n):X()}function LO(n){return DO[n]}function jO(n){return kO[n]}function UO(n){return PO[n]}function Cs(n){return{fieldPath:n.canonicalString()}}function xs(n){return he.fromServerFormat(n.fieldPath)}function wx(n){return n instanceof Et?function(e){if(e.op==="=="){if(DI(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NAN"}};if(RI(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(DI(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NOT_NAN"}};if(RI(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(e.field),op:jO(e.op),value:e.value}}}(n):n instanceof Vt?function(e){let i=e.getFilters().map(r=>wx(r));return i.length===1?i[0]:{compositeFilter:{op:UO(e.op),filters:i}}}(n):X()}function BO(n){let t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ex(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ls=class n{constructor(t,e,i,r,o=st.min(),s=st.min(),a=me.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new n(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var qu=class{constructor(t){this.ct=t}};function zO(n,t){let e;if(t.document)e=gx(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let i=W.fromSegments(t.noDocument.path),r=so(t.noDocument.readTime);e=be.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return X();{let i=W.fromSegments(t.unknownDocument.path),r=so(t.unknownDocument.version);e=be.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){let o=new te(r[0],r[1]);return st.fromTimestamp(o)}(t.readTime)),e}function KI(n,t){let e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:$u(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(o,s){return{name:Zl(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Vs(o,s.version.toTimestamp()),createTime:Vs(o,s.createTime.toTimestamp())}}(n.ct,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:oo(t.version)};else{if(!t.isUnknownDocument())return X();i.unknownDocument={path:e.path.toArray(),version:oo(t.version)}}return i}function $u(n){let t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function oo(n){let t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function so(n){let t=new te(n.seconds,n.nanoseconds);return st.fromTimestamp(t)}function Qr(n,t){let e=(t.baseMutations||[]).map(o=>jg(n.ct,o));for(let o=0;o<t.mutations.length-1;++o){let s=t.mutations[o];if(o+1<t.mutations.length&&t.mutations[o+1].transform!==void 0){let a=t.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}let i=t.mutations.map(o=>jg(n.ct,o)),r=te.fromMillis(t.localWriteTimeMs);return new Kl(t.batchId,r,e,i)}function Nl(n){let t=so(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?so(n.lastLimboFreeSnapshotVersion):st.min(),i;return i=function(o){return o.documents!==void 0}(n.query)?function(o){return tt(o.documents.length===1),Je(Qs(mx(o.documents[0])))}(n.query):function(o){return Je(bx(o))}(n.query),new Ls(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,me.fromBase64String(n.resumeToken))}function Ix(n,t){let e=oo(t.snapshotVersion),i=oo(t.lastLimboFreeSnapshotVersion),r;r=Vu(t.target)?_x(n.ct,t.target):vx(n.ct,t.target)._t;let o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:no(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function fv(n){let t=bx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ju(t,t.limit,"L"):t}function Jp(n,t){return new Ql(t.largestBatchId,jg(n.ct,t.overlayMutation))}function QI(n,t){let e=t.path.lastSegment();return[n,Ze(t.path.popLast()),e]}function YI(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:oo(i.readTime),documentKey:Ze(i.documentKey.path),largestBatchId:i.largestBatchId}}var Ug=class{getBundleMetadata(t,e){return XI(t).get(e).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:so(o.createTime),version:o.version}}(i)})}saveBundleMetadata(t,e){return XI(t).put(function(r){return{bundleId:r.id,createTime:oo(fe(r.createTime)),version:r.version}}(e))}getNamedQuery(t,e){return ZI(t).get(e).next(i=>{if(i)return function(o){return{name:o.name,query:fv(o.bundledQuery),readTime:so(o.readTime)}}(i)})}saveNamedQuery(t,e){return ZI(t).put(function(r){return{name:r.name,readTime:oo(fe(r.readTime)),bundledQuery:r.bundledQuery}}(e))}};function XI(n){return Ce(n,"bundles")}function ZI(n){return Ce(n,"namedQueries")}var Gu=class n{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){let i=e.uid||"";return new n(t,i)}getOverlay(t,e){return Dl(t).get(QI(this.userId,e)).next(i=>i?Jp(this.serializer,i):null)}getOverlays(t,e){let i=Hi();return k.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){let r=[];return i.forEach((o,s)=>{let a=new Ql(e,s);r.push(this.ht(t,a))}),k.waitFor(r)}removeOverlaysForBatchId(t,e,i){let r=new Set;e.forEach(s=>r.add(Ze(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Dl(t).j("collectionPathOverlayIndex",a))}),k.waitFor(o)}getOverlaysForCollection(t,e,i){let r=Hi(),o=Ze(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Dl(t).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let d=Jp(this.serializer,c);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(t,e,i,r){let o=Hi(),s,a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Dl(t).J({index:"collectionGroupOverlayIndex",range:a},(c,d,h)=>{let m=Jp(this.serializer,d);o.size()<r||m.largestBatchId===s?(o.set(m.getKey(),m),s=m.largestBatchId):h.done()}).next(()=>o)}ht(t,e){return Dl(t).put(function(r,o,s){let[a,c,d]=QI(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Jl(r.ct,s.mutation)}}(this.serializer,this.userId,e))}};function Dl(n){return Ce(n,"documentOverlays")}var Bg=class{Pt(t){return Ce(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{let i=e?.value;return i?me.fromUint8Array(i):me.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}};var vn=class{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(Xt(t.integerValue));else if("doubleValue"in t){let i=Xt(t.doubleValue);isNaN(i)?this.dt(e,13):(this.dt(e,15),zl(i)?e.At(0):e.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(e,20),typeof i=="string"&&(i=yn(i)),e.Rt(`${i.seconds||""}`),e.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(cr(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){let i=t.geoPointValue;this.dt(e,45),e.At(i.latitude||0),e.At(i.longitude||0)}else"mapValue"in t?jC(t)?this.dt(e,Number.MAX_SAFE_INTEGER):Th(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):X()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){let i=t.fields||{};this.dt(e,55);for(let r of Object.keys(i))this.Vt(r,e),this.Tt(i[r],e)}wt(t,e){var i,r;let o=t.fields||{};this.dt(e,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(e,15),e.At(Xt(a)),this.Vt(s,e),this.Tt(o[s],e)}bt(t,e){let i=t.values||[];this.dt(e,50);for(let r of i)this.Tt(r,e)}yt(t,e){this.dt(e,37),W.fromName(t).path.forEach(i=>{this.dt(e,60),this.Dt(i,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}};vn.vt=new vn;function qO(n){if(n===0)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function JI(n){let t=64-function(i){let r=0;for(let o=0;o<8;++o){let s=qO(255&i[o]);if(r+=s,s!==8)break}return r}(n);return Math.ceil(t/8)}var zg=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){let e=t[Symbol.iterator](),i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){let e=t[Symbol.iterator](),i=e.next();for(;!i.done;)this.Ot(i.value),i=e.next();this.Nt()}Lt(t){for(let e of t){let i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{let r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(t){for(let e of t){let i=e.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{let r=e.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(t){let e=this.qt(t),i=JI(e);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Kt(t){let e=this.qt(t),i=JI(e);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){let e=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=(128&e[0])!=0;e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ft(t){let e=255&t;e===0?(this.Ut(0),this.Ut(255)):e===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ot(t){let e=255&t;e===0?(this.Gt(0),this.Gt(255)):e===255?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){let e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},qg=class{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}},$g=class{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}},Yr=class{constructor(){this.jt=new zg,this.Ht=new qg(this.jt),this.Jt=new $g(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return t===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var Xr=class n{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Zt(){let t=this.directionalValue.length,e=t===0||this.directionalValue[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new n(this.indexId,this.documentKey,this.arrayValue,i)}};function er(n,t){let e=n.indexId-t.indexId;return e!==0?e:(e=tC(n.arrayValue,t.arrayValue),e!==0?e:(e=tC(n.directionalValue,t.directionalValue),e!==0?e:W.comparator(n.documentKey,t.documentKey)))}function tC(n,t){for(let e=0;e<n.length&&e<t.length;++e){let i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}var Hu=class{constructor(t){this.Xt=new Gt((e,i)=>he.comparator(e.field,i.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(let e of t.filters){let i=e;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(t){if(tt(t.collectionGroup===this.collectionId),this.nn)return!1;let e=ug(t);if(e!==void 0&&!this.sn(e))return!1;let i=Wr(t),r=new Set,o=0,s=0;for(;o<i.length&&this.sn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let c=i[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let t=new Gt(he.comparator),e=[];for(let i of this.tn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new Ss(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Ss(i.field,0))}for(let i of this.en)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Ss(i.field,i.dir==="asc"?0:1)));return new Ps(Ps.UNKNOWN_ID,this.collectionId,e,Bl.empty())}sn(t){for(let e of this.tn)if(this.on(e,t))return!0;return!1}on(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;let i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}_n(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}};function Cx(n){var t,e;if(tt(n instanceof Et||n instanceof Vt),n instanceof Et){if(n instanceof Fu){let r=((e=(t=n.value.arrayValue)===null||t===void 0?void 0:t.values)===null||e===void 0?void 0:e.map(o=>Et.create(n.field,"==",o)))||[];return Vt.create(r,"or")}return n}let i=n.filters.map(r=>Cx(r));return Vt.create(i,n.op)}function $O(n){if(n.getFilters().length===0)return[];let t=Wg(Cx(n));return tt(xx(t)),Gg(t)||Hg(t)?[t]:t.getFilters()}function Gg(n){return n instanceof Et}function Hg(n){return n instanceof Vt&&lv(n)}function xx(n){return Gg(n)||Hg(n)||function(e){if(e instanceof Vt&&bg(e)){for(let i of e.getFilters())if(!Gg(i)&&!Hg(i))return!1;return!0}return!1}(n)}function Wg(n){if(tt(n instanceof Et||n instanceof Vt),n instanceof Et)return n;if(n.filters.length===1)return Wg(n.filters[0]);let t=n.filters.map(i=>Wg(i)),e=Vt.create(t,n.op);return e=Wu(e),xx(e)?e:(tt(e instanceof Vt),tt(Os(e)),tt(e.filters.length>1),e.filters.reduce((i,r)=>mv(i,r)))}function mv(n,t){let e;return tt(n instanceof Et||n instanceof Vt),tt(t instanceof Et||t instanceof Vt),e=n instanceof Et?t instanceof Et?function(r,o){return Vt.create([r,o],"and")}(n,t):eC(n,t):t instanceof Et?eC(t,n):function(r,o){if(tt(r.filters.length>0&&o.filters.length>0),Os(r)&&Os(o))return $C(r,o.getFilters());let s=bg(r)?r:o,a=bg(r)?o:r,c=s.filters.map(d=>mv(d,a));return Vt.create(c,"or")}(n,t),Wu(e)}function eC(n,t){if(Os(t))return $C(t,n.getFilters());{let e=t.filters.map(i=>mv(n,i));return Vt.create(e,"or")}}function Wu(n){if(tt(n instanceof Et||n instanceof Vt),n instanceof Et)return n;let t=n.getFilters();if(t.length===1)return Wu(t[0]);if(zC(n))return n;let e=t.map(r=>Wu(r)),i=[];return e.forEach(r=>{r instanceof Et?i.push(r):r instanceof Vt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Vt.create(i,n.op)}var Kg=class{constructor(){this.un=new tc}addToCollectionParentIndex(t,e){return this.un.add(e),k.resolve()}getCollectionParents(t,e){return k.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return k.resolve()}deleteFieldIndex(t,e){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,e){return k.resolve()}getDocumentsMatchingTarget(t,e){return k.resolve(null)}getIndexType(t,e){return k.resolve(0)}getFieldIndexes(t,e){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,e){return k.resolve(yi.min())}getMinOffsetFromCollectionGroup(t,e){return k.resolve(yi.min())}updateCollectionGroup(t,e,i){return k.resolve()}updateIndexEntries(t,e){return k.resolve()}},tc=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Gt(xt.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){let e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Gt(xt.comparator)).toArray()}};var bu=new Uint8Array(0),Qg=class{constructor(t,e){this.databaseId=e,this.cn=new tc,this.ln=new Zi(i=>no(i),(i,r)=>cc(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.cn.has(e)){let i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.cn.add(e)});let o={collectionId:i,parent:Ze(r)};return iC(t).put(o)}return k.resolve()}getCollectionParents(t,e){let i=[],r=IDBKeyRange.bound([e,""],[AC(e),""],!1,!0);return iC(t).U(r).next(o=>{for(let s of o){if(s.collectionId!==e)break;i.push(Gi(s.parent))}return i})}addFieldIndex(t,e){let i=kl(t),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(e);delete r.indexId;let o=i.add(r);if(e.indexState){let s=ys(t);return o.next(a=>{s.put(YI(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){let i=kl(t),r=ys(t),o=bs(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){let e=kl(t),i=bs(t),r=ys(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return k.forEach(this.hn(e),i=>this.getIndexType(t,i).next(r=>{if(r===0||r===1){let o=new Hu(i).an();if(o!=null)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){let i=bs(t),r=!0,o=new Map;return k.forEach(this.hn(e),s=>this.Pn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=mt(),a=[];return k.forEach(o,(c,d)=>{L("IndexedDbIndexManager",`Using index ${function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map(Z=>`${Z.fieldPath}:${Z.kind}`).join(",")}`}(c)} to execute ${no(e)}`);let h=function(j,Z){let at=ug(Z);if(at===void 0)return null;for(let lt of Lu(j,at.fieldPath))switch(lt.op){case"array-contains-any":return lt.value.arrayValue.values||[];case"array-contains":return[lt.value]}return null}(d,c),m=function(j,Z){let at=new Map;for(let lt of Wr(Z))for(let w of Lu(j,lt.fieldPath))switch(w.op){case"==":case"in":at.set(lt.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return at.set(lt.fieldPath.canonicalString(),w.value),Array.from(at.values())}return null}(d,c),g=function(j,Z){let at=[],lt=!0;for(let w of Wr(Z)){let _=w.kind===0?NI(j,w.fieldPath,j.startAt):FI(j,w.fieldPath,j.startAt);at.push(_.value),lt&&(lt=_.inclusive)}return new Xi(at,lt)}(d,c),v=function(j,Z){let at=[],lt=!0;for(let w of Wr(Z)){let _=w.kind===0?FI(j,w.fieldPath,j.endAt):NI(j,w.fieldPath,j.endAt);at.push(_.value),lt&&(lt=_.inclusive)}return new Xi(at,lt)}(d,c),A=this.In(c,d,g),D=this.In(c,d,v),T=this.Tn(c,d,m),G=this.En(c.indexId,h,A,g.inclusive,D,v.inclusive,T);return k.forEach(G,Q=>i.G(Q,e.limit).next(j=>{j.forEach(Z=>{let at=W.fromSegments(Z.documentKey);s.has(at)||(s=s.add(at),a.push(at))})}))}).next(()=>a)}return k.resolve(null)})}hn(t){let e=this.ln.get(t);return e||(t.filters.length===0?e=[t]:e=$O(Vt.create(t.filters,"and")).map(i=>Sg(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,e),e)}En(t,e,i,r,o,s,a){let c=(e!=null?e.length:1)*Math.max(i.length,o.length),d=c/(e!=null?e.length:1),h=[];for(let m=0;m<c;++m){let g=e?this.dn(e[m/d]):bu,v=this.An(t,g,i[m%d],r),A=this.Rn(t,g,o[m%d],s),D=a.map(T=>this.An(t,g,T,!0));h.push(...this.createRange(v,A,D))}return h}An(t,e,i,r){let o=new Xr(t,W.empty(),e,i);return r?o:o.Zt()}Rn(t,e,i,r){let o=new Xr(t,W.empty(),e,i);return r?o.Zt():o}Pn(t,e){let i=new Hu(e),r=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(let a of o)i.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2,r=this.hn(e);return k.forEach(r,o=>this.Pn(t,o).next(s=>{s?i!==0&&s.fields.length<function(c){let d=new Gt(he.comparator),h=!1;for(let m of c.filters)for(let g of m.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:d=d.add(g.field));for(let m of c.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(e)&&r.length>1&&i===2?1:i)}Vn(t,e){let i=new Yr;for(let r of Wr(t)){let o=e.data.field(r.fieldPath);if(o==null)return null;let s=i.Yt(r.kind);vn.vt.It(o,s)}return i.zt()}dn(t){let e=new Yr;return vn.vt.It(t,e.Yt(0)),e.zt()}mn(t,e){let i=new Yr;return vn.vt.It(eo(this.databaseId,e),i.Yt(function(o){let s=Wr(o);return s.length===0?0:s[s.length-1].kind}(t))),i.zt()}Tn(t,e,i){if(i===null)return[];let r=[];r.push(new Yr);let o=0;for(let s of Wr(t)){let a=i[o++];for(let c of r)if(this.fn(e,s.fieldPath)&&Hl(a))r=this.gn(r,s,a);else{let d=c.Yt(s.kind);vn.vt.It(a,d)}}return this.pn(r)}In(t,e,i){return this.Tn(t,e,i.position)}pn(t){let e=[];for(let i=0;i<t.length;++i)e[i]=t[i].zt();return e}gn(t,e,i){let r=[...t],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let c=new Yr;c.seed(a.zt()),vn.vt.It(s,c.Yt(e.kind)),o.push(c)}return o}fn(t,e){return!!t.filters.find(i=>i instanceof Et&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(t,e){let i=kl(t),r=ys(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(o=>{let s=[];return k.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,m){let g=m?new Bl(m.sequenceNumber,new yi(so(m.readTime),new W(Gi(m.documentKey)),m.largestBatchId)):Bl.empty(),v=h.fields.map(([A,D])=>new Ss(he.fromServerFormat(A),D));return new Ps(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>e.length===0?null:(e.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:ut(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){let r=kl(t),o=ys(t);return this.yn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>k.forEach(a,c=>o.put(YI(c.indexId,this.uid,s,i)))))}updateIndexEntries(t,e){let i=new Map;return k.forEach(e,(r,o)=>{let s=i.get(r.collectionGroup);return(s?k.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),k.forEach(a,c=>this.wn(t,r,c).next(d=>{let h=this.Sn(o,c);return d.isEqual(h)?k.resolve():this.bn(t,o,c,d,h)}))))})}Dn(t,e,i,r){return bs(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return bs(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}wn(t,e,i){let r=bs(t),o=new Gt(er);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(s,a)=>{o=o.add(new Xr(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(t,e){let i=new Gt(er),r=this.Vn(e,t);if(r==null)return i;let o=ug(e);if(o!=null){let s=t.data.field(o.fieldPath);if(Hl(s))for(let a of s.arrayValue.values||[])i=i.add(new Xr(e.indexId,t.key,this.dn(a),r))}else i=i.add(new Xr(e.indexId,t.key,bu,r));return i}bn(t,e,i,r,o){L("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);let s=[];return function(c,d,h,m,g){let v=c.getIterator(),A=d.getIterator(),D=vs(v),T=vs(A);for(;D||T;){let G=!1,Q=!1;if(D&&T){let j=h(D,T);j<0?Q=!0:j>0&&(G=!0)}else D!=null?Q=!0:G=!0;G?(m(T),T=vs(A)):Q?(g(D),D=vs(v)):(D=vs(v),T=vs(A))}}(r,o,er,a=>{s.push(this.Dn(t,e,i,a))},a=>{s.push(this.vn(t,e,i,a))}),k.waitFor(s)}yn(t){let e=1;return ys(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>er(s,a)).filter((s,a,c)=>!a||er(s,c[a-1])!==0);let r=[];r.push(t);for(let s of i){let a=er(s,t),c=er(s,e);if(a===0)r[0]=t.Zt();else if(a>0&&c<0)r.push(s),r.push(s.Zt());else if(c>0)break}r.push(e);let o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,bu,[]],c=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,bu,[]];o.push(IDBKeyRange.bound(a,c))}return o}Cn(t,e){return er(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(nC)}getMinOffset(t,e){return k.mapArray(this.hn(e),i=>this.Pn(t,i).next(r=>r||X())).next(nC)}};function iC(n){return Ce(n,"collectionParents")}function bs(n){return Ce(n,"indexEntries")}function kl(n){return Ce(n,"indexConfiguration")}function ys(n){return Ce(n,"indexState")}function nC(n){tt(n.length!==0);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){let r=n[i].indexState.offset;rv(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new yi(t.readTime,t.documentKey,e)}var rC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bi=class n{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function Tx(n,t,e){let i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId),a=0,c=i.J({range:s},(h,m,g)=>(a++,g.delete()));o.push(c.next(()=>{tt(a===1)}));let d=[];for(let h of e.mutations){let m=MC(t,h.key.path,e.batchId);o.push(r.delete(m)),d.push(h.key)}return k.waitFor(o).next(()=>d)}function Ku(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw X();t=n.noDocument}return JSON.stringify(t).length}bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(41943040,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);var Qu=class n{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(t,e,i,r){tt(t.uid!=="");let o=t.isAuthenticated()?t.uid:"";return new n(o,e,i,r)}checkEmpty(t){let e=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ir(t).J({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){let o=Ts(t),s=ir(t);return s.add({}).next(a=>{tt(typeof a=="number");let c=new Kl(a,e,i,r),d=function(v,A,D){let T=D.baseMutations.map(Q=>Jl(v.ct,Q)),G=D.mutations.map(Q=>Jl(v.ct,Q));return{userId:A,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:T,mutations:G}}(this.serializer,this.userId,c),h=[],m=new Gt((g,v)=>ut(g.canonicalString(),v.canonicalString()));for(let g of r){let v=MC(this.userId,g.key.path,a);m=m.add(g.key.path.popLast()),h.push(s.put(d)),h.push(o.put(v,YM))}return m.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(t,g))}),t.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),k.waitFor(h).next(()=>c)})}lookupMutationBatch(t,e){return ir(t).get(e).next(i=>i?(tt(i.userId===this.userId),Qr(this.serializer,i)):null)}Mn(t,e){return this.Fn[e]?k.resolve(this.Fn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){let r=i.keys();return this.Fn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){let i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return ir(t).J({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(tt(a.batchId>=i),o=Qr(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){let e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return ir(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){let e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ir(t).U("userMutationsIndex",e).next(i=>i.map(r=>Qr(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){let i=Iu(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Ts(t).J({range:r},(s,a,c)=>{let[d,h,m]=s,g=Gi(h);if(d===this.userId&&e.path.isEqual(g))return ir(t).get(m).next(v=>{if(!v)throw X();tt(v.userId===this.userId),o.push(Qr(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Gt(ut),r=[];return e.forEach(o=>{let s=Iu(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Ts(t).J({range:a},(d,h,m)=>{let[g,v,A]=d,D=Gi(v);g===this.userId&&o.path.isEqual(D)?i=i.add(A):m.done()});r.push(c)}),k.waitFor(r).next(()=>this.xn(t,i))}getAllMutationBatchesAffectingQuery(t,e){let i=e.path,r=i.length+1,o=Iu(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new Gt(ut);return Ts(t).J({range:s},(c,d,h)=>{let[m,g,v]=c,A=Gi(g);m===this.userId&&i.isPrefixOf(A)?A.length===r&&(a=a.add(v)):h.done()}).next(()=>this.xn(t,a))}xn(t,e){let i=[],r=[];return e.forEach(o=>{r.push(ir(t).get(o).next(s=>{if(s===null)throw X();tt(s.userId===this.userId),i.push(Qr(this.serializer,s))}))}),k.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Tx(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.On(e.batchId)}),k.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return k.resolve();let i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return Ts(t).J({range:i},(o,s,a)=>{if(o[0]===this.userId){let c=Gi(o[1]);r.push(c)}else a.done()}).next(()=>{tt(r.length===0)})})}containsKey(t,e){return Ax(t,this.userId,e)}Nn(t){return Sx(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function Ax(n,t,e){let i=Iu(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Ts(n).J({range:o,H:!0},(a,c,d)=>{let[h,m,g]=a;h===t&&m===r&&(s=!0),d.done()}).next(()=>s)}function ir(n){return Ce(n,"mutations")}function Ts(n){return Ce(n,"documentMutations")}function Sx(n){return Ce(n,"mutationQueues")}var js=class n{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Yg=class{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.qn(t).next(e=>{let i=new js(e.highestTargetId);return e.highestTargetId=i.next(),this.Qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(e=>st.fromTimestamp(new te(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.qn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Qn(t,r)))}addTargetData(t,e){return this.Kn(t,e).next(()=>this.qn(t).next(i=>(i.targetCount+=1,this.$n(e,i),this.Qn(t,i))))}updateTargetData(t,e){return this.Kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ws(t).delete(e.targetId)).next(()=>this.qn(t)).next(i=>(tt(i.targetCount>0),i.targetCount-=1,this.Qn(t,i)))}removeTargets(t,e,i){let r=0,o=[];return ws(t).J((s,a)=>{let c=Nl(a);c.sequenceNumber<=e&&i.get(c.targetId)===null&&(r++,o.push(this.removeTargetData(t,c)))}).next(()=>k.waitFor(o)).next(()=>r)}forEachTarget(t,e){return ws(t).J((i,r)=>{let o=Nl(r);e(o)})}qn(t){return oC(t).get("targetGlobalKey").next(e=>(tt(e!==null),e))}Qn(t,e){return oC(t).put("targetGlobalKey",e)}Kn(t,e){return ws(t).put(Ix(this.serializer,e))}$n(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.qn(t).next(e=>e.targetCount)}getTargetData(t,e){let i=no(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return ws(t).J({range:r,index:"queryTargetsIndex"},(s,a,c)=>{let d=Nl(a);cc(e,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(t,e,i){let r=[],o=nr(t);return e.forEach(s=>{let a=Ze(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),k.waitFor(r)}removeMatchingKeys(t,e,i){let r=nr(t);return k.forEach(e,o=>{let s=Ze(o.path);return k.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){let i=nr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){let i=IDBKeyRange.bound([e],[e+1],!1,!0),r=nr(t),o=mt();return r.J({range:i,H:!0},(s,a,c)=>{let d=Gi(s[1]),h=new W(d);o=o.add(h)}).next(()=>o)}containsKey(t,e){let i=Ze(e.path),r=IDBKeyRange.bound([i],[AC(i)],!1,!0),o=0;return nr(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],c,d)=>{s!==0&&(o++,d.done())}).next(()=>o>0)}ot(t,e){return ws(t).get(e).next(i=>i?Nl(i):null)}};function ws(n){return Ce(n,"targets")}function oC(n){return Ce(n,"targetGlobal")}function nr(n){return Ce(n,"targetDocuments")}function sC([n,t],[e,i]){let r=ut(n,e);return r===0?ut(t,i):r}var Xg=class{constructor(t){this.Un=t,this.buffer=new Gt(sC),this.Wn=0}Gn(){return++this.Wn}zn(t){let e=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(e);else{let i=this.buffer.last();sC(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}},Zg=class{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(t){L("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,()=>P(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(e){vr(e)?L("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield _r(e)}yield this.Hn(3e5)}))}},Jg=class{constructor(t,e){this.Jn=t,this.params=e}calculateTargetCount(t,e){return this.Jn.Yn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return k.resolve(hi.oe);let i=new Xg(e);return this.Jn.forEachTarget(t,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(t,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Jn.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(rC)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rC):this.Xn(t,e))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,e){let i,r,o,s,a,c,d,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,s=Date.now(),this.nthSequenceNumber(t,r))).next(m=>(i=m,a=Date.now(),this.removeTargets(t,i,e))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(t,i))).next(m=>(d=Date.now(),Es()<=qi.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:m})))}};function GO(n,t){return new Jg(n,t)}var t_=class{constructor(t,e){this.db=t,this.garbageCollector=GO(this,e)}Yn(t){let e=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}er(t){let e=0;return this.Zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Zn(t,e){return this.tr(t,(i,r)=>e(r))}addReference(t,e,i){return yu(t,i)}removeReference(t,e,i){return yu(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return yu(t,e)}nr(t,e){return function(r,o){let s=!1;return Sx(r).Y(a=>Ax(r,a,o).next(c=>(c&&(s=!0),k.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.tr(t,(s,a)=>{if(a<=e){let c=this.nr(t,s).next(d=>{if(!d)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,st.min()),nr(t).delete(function(m){return[0,Ze(m.path)]}(s))))});r.push(c)}}).next(()=>k.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){let i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return yu(t,e)}tr(t,e){let i=nr(t),r,o=hi.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:d})=>{s===0?(o!==hi.oe&&e(new W(Gi(r)),o),o=d,r=c):o=hi.oe}).next(()=>{o!==hi.oe&&e(new W(Gi(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}};function yu(n,t){return nr(n).put(function(i,r){return{targetId:0,path:Ze(i.path),sequenceNumber:r}}(t,n.currentSequenceNumber))}var Yu=class{constructor(){this.changes=new Zi(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,be.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let i=this.changes.get(e);return i!==void 0?k.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var e_=class{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Hr(t).put(i)}removeEntry(t,e,i){return Hr(t).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],$u(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.rr(t,i)))}getEntry(t,e){let i=be.newInvalidDocument(e);return Hr(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pl(e))},(r,o)=>{i=this.ir(e,o)}).next(()=>i)}sr(t,e){let i={size:0,document:be.newInvalidDocument(e)};return Hr(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pl(e))},(r,o)=>{i={document:this.ir(e,o),size:Ku(o)}}).next(()=>i)}getEntries(t,e){let i=oi();return this._r(t,e,(r,o)=>{let s=this.ir(r,o);i=i.insert(r,s)}).next(()=>i)}ar(t,e){let i=oi(),r=new Qt(W.comparator);return this._r(t,e,(o,s)=>{let a=this.ir(o,s);i=i.insert(o,a),r=r.insert(o,Ku(s))}).next(()=>({documents:i,ur:r}))}_r(t,e,i){if(e.isEmpty())return k.resolve();let r=new Gt(cC);e.forEach(c=>r=r.add(c));let o=IDBKeyRange.bound(Pl(r.first()),Pl(r.last())),s=r.getIterator(),a=s.getNext();return Hr(t).J({index:"documentKeyIndex",range:o},(c,d,h)=>{let m=W.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&cC(a,m)<0;)i(a,null),a=s.getNext();a&&a.isEqual(m)&&(i(a,d),a=s.hasNext()?s.getNext():null),a?h.$(Pl(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){let s=e.path,a=[s.popLast().toArray(),s.lastSegment(),$u(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hr(t).U(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let h=oi();for(let m of d){let g=this.ir(W.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);g.isFoundDocument()&&(uc(e,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(t,e,i,r){let o=oi(),s=lC(e,i),a=lC(e,yi.max());return Hr(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,d,h)=>{let m=this.ir(W.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(m.key,m),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(t){return new i_(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return aC(t).get("remoteDocumentGlobalKey").next(e=>(tt(!!e),e))}rr(t,e){return aC(t).put("remoteDocumentGlobalKey",e)}ir(t,e){if(e){let i=zO(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(st.min())))return i}return be.newInvalidDocument(t)}};function Rx(n){return new e_(n)}var i_=class extends Yu{constructor(t,e){super(),this.cr=t,this.trackRemovals=e,this.lr=new Zi(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){let e=[],i=0,r=new Gt((o,s)=>ut(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.lr.get(o);if(e.push(this.cr.removeEntry(t,o,a.readTime)),s.isValidDocument()){let c=KI(this.cr.serializer,s);r=r.add(o.path.popLast());let d=Ku(c);i+=d-a.size,e.push(this.cr.addEntry(t,o,c))}else if(i-=a.size,this.trackRemovals){let c=KI(this.cr.serializer,s.convertToNoDocument(st.min()));e.push(this.cr.addEntry(t,o,c))}}),r.forEach(o=>{e.push(this.cr.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.cr.updateMetadata(t,i)),k.waitFor(e)}getFromCache(t,e){return this.cr.sr(t,e).next(i=>(this.lr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.cr.ar(t,e).next(({documents:i,ur:r})=>(r.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function aC(n){return Ce(n,"remoteDocumentGlobal")}function Hr(n){return Ce(n,"remoteDocumentsV14")}function Pl(n){let t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function lC(n,t){let e=t.documentKey.path.toArray();return[n,$u(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function cC(n,t){let e=n.path.toArray(),i=t.path.toArray(),r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=ut(e[o],i[o]),r)return r;return r=ut(e.length,i.length),r||(r=ut(e[e.length-2],i[i.length-2]),r||ut(e[e.length-1],i[i.length-1]))}var n_=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var Xu=class{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Ll(i.mutation,r,fi.empty(),te.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,mt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=mt()){let r=Hi();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=Ol();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){let i=Hi();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,mt()))}populateOverlays(t,e,i){let r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=oi(),s=Vl(),a=function(){return Vl()}();return e.forEach((c,d)=>{let h=i.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof Ni)?o=o.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),Ll(h.mutation,d,h.mutation.getFieldMask(),te.now())):s.set(d.key,fi.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((d,h)=>s.set(d,h)),e.forEach((d,h)=>{var m;return a.set(d,new n_(h,(m=s.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(t,e){let i=Vl(),r=new Qt((s,a)=>s-a),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(let a of s)a.keys().forEach(c=>{let d=e.get(c);if(d===null)return;let h=i.get(c)||fi.empty();h=a.applyToLocalView(d,h),i.set(c,h);let m=(r.get(a.batchId)||mt()).add(c);r=r.insert(a.batchId,m)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,h=c.value,m=JC();h.forEach(g=>{if(!o.has(g)){let v=sx(e.get(g),i.get(g));v!==null&&m.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,d,m))}return k.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):cv(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):k.resolve(Hi()),a=-1,c=o;return s.next(d=>k.forEach(d,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(t,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,c,d,mt())).next(h=>({batchId:a,changes:ZC(h)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new W(e)).next(i=>{let r=Ol();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){let o=e.collectionGroup,s=Ol();return this.indexManager.getCollectionParents(t,o).next(a=>k.forEach(a,c=>{let d=function(m,g){return new Oi(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(e,c.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(h=>{h.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((c,d)=>{let h=d.getKey();s.get(h)===null&&(s=s.insert(h,be.newInvalidDocument(h)))});let a=Ol();return s.forEach((c,d)=>{let h=o.get(c);h!==void 0&&Ll(h.mutation,d,fi.empty(),te.now()),uc(e,d)&&(a=a.insert(c,d))}),a})}};var r_=class{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return k.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:fe(r.createTime)}}(e)),k.resolve()}getNamedQuery(t,e){return k.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,function(r){return{name:r.name,query:fv(r.bundledQuery),readTime:fe(r.readTime)}}(e)),k.resolve()}};var o_=class{constructor(){this.overlays=new Qt(W.comparator),this.Ir=new Map}getOverlay(t,e){return k.resolve(this.overlays.get(e))}getOverlays(t,e){let i=Hi();return k.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ht(t,e,o)}),k.resolve()}removeOverlaysForBatchId(t,e,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),k.resolve()}getOverlaysForCollection(t,e,i){let r=Hi(),o=e.length+1,s=new W(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return k.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Qt((d,h)=>d-h),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let h=o.get(d.largestBatchId);h===null&&(h=Hi(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let a=Hi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return k.resolve(a)}ht(t,e,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Ql(e,i));let o=this.Ir.get(e);o===void 0&&(o=mt(),this.Ir.set(e,o)),this.Ir.set(e,o.add(i.key))}};var s_=class{constructor(){this.sessionToken=me.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,k.resolve()}};var ec=class{constructor(){this.Tr=new Gt(_e.Er),this.dr=new Gt(_e.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){let i=new _e(t,e);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Vr(new _e(t,e))}mr(t,e){t.forEach(i=>this.removeReference(i,e))}gr(t){let e=new W(new xt([])),i=new _e(e,t),r=new _e(e,t+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){let e=new W(new xt([])),i=new _e(e,t),r=new _e(e,t+1),o=mt();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){let e=new _e(t,0),i=this.Tr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}},_e=class{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return W.comparator(t.key,e.key)||ut(t.wr,e.wr)}static Ar(t,e){return ut(t.wr,e.wr)||W.comparator(t.key,e.key)}};var a_=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Gt(_e.Er)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Kl(o,e,i,r);this.mutationQueue.push(s);for(let a of r)this.br=this.br.add(new _e(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(t,e){return k.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){let i=e+1,r=this.vr(i),o=r<0?0:r;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let i=new _e(e,0),r=new _e(e,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Gt(ut);return e.forEach(r=>{let o=new _e(r,0),s=new _e(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),k.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){let i=e.path,r=i.length+1,o=i;W.isDocumentKey(o)||(o=o.child(""));let s=new _e(new W(o),0),a=new Gt(ut);return this.br.forEachWhile(c=>{let d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(t){let e=[];return t.forEach(i=>{let r=this.Dr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){tt(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return k.forEach(e.mutations,r=>{let o=new _e(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,e){let i=new _e(e,0),r=this.br.firstAfterOrEqual(i);return k.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){let e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var l_=class{constructor(t){this.Mr=t,this.docs=function(){return new Qt(W.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let i=this.docs.get(e);return k.resolve(i?i.document.mutableCopy():be.newInvalidDocument(e))}getEntries(t,e){let i=oi();return e.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():be.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=oi(),s=e.path,a=new W(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||rv(RC(h),i)<=0||(r.has(h.key)||uc(e,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(t,e,i,r){X()}Or(t,e){return k.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new c_(this)}getSize(t){return k.resolve(this.size)}},c_=class extends Yu{constructor(t){super(),this.cr=t}applyChanges(t){let e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),k.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}};var d_=class{constructor(t){this.persistence=t,this.Nr=new Zi(e=>no(e),cc),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ec,this.targetCount=0,this.kr=js.Bn()}forEachTarget(t,e){return this.Nr.forEach((i,r)=>e(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Lr&&(this.Lr=e),k.resolve()}Kn(t){this.Nr.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this.kr=new js(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,k.resolve()}updateTargetData(t,e){return this.Kn(e),k.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,e,i){let r=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=e&&i.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),k.waitFor(o).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,e){let i=this.Nr.get(e)||null;return k.resolve(i)}addMatchingKeys(t,e,i){return this.Br.Rr(e,i),k.resolve()}removeMatchingKeys(t,e,i){this.Br.mr(e,i);let r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),k.resolve()}getMatchingKeysForTargetId(t,e){let i=this.Br.yr(e);return k.resolve(i)}containsKey(t,e){return k.resolve(this.Br.containsKey(e))}};var Zu=class{constructor(t,e){this.qr={},this.overlays={},this.Qr=new hi(0),this.Kr=!1,this.Kr=!0,this.$r=new s_,this.referenceDelegate=t(this),this.Ur=new d_(this),this.indexManager=new Kg,this.remoteDocumentCache=function(r){return new l_(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new qu(e),this.Gr=new r_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new o_,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.qr[t.toKey()];return i||(i=new a_(e,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,i){L("MemoryPersistence","Starting transaction:",t);let r=new u_(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(t,e){return k.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,e)))}},u_=class extends ku{constructor(t){super(),this.currentSequenceNumber=t}},Ju=class n{constructor(t){this.persistence=t,this.Jr=new ec,this.Yr=null}static Zr(t){return new n(t)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(t,e,i){return this.Jr.addReference(i,e),this.Xr.delete(i.toString()),k.resolve()}removeReference(t,e,i){return this.Jr.removeReference(i,e),this.Xr.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),k.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,i=>{let r=W.fromPath(i);return this.ei(t,r).next(o=>{o||e.removeEntry(r,st.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(i=>{i?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return k.or([()=>k.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}};var h_=class{constructor(t){this.serializer=t}O(t,e,i,r){let o=new Pu("createOrUpgrade",e);i<1&&r>=1&&(function(c){c.createObjectStore("owner")}(t),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xI,{unique:!0}),c.createObjectStore("documentMutations")}(t),dC(t),function(c){c.createObjectStore("remoteDocuments")}(t));let s=k.resolve();return i<3&&r>=3&&(i!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),dC(t)),s=s.next(()=>function(c){let d=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:st.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(c,d){return d.store("mutations").U().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xI,{unique:!0});let m=d.store("mutations"),g=h.map(v=>m.put(v));return k.waitFor(g)})}(t,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(t)})),i<5&&r>=5&&(s=s.next(()=>this.ni(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.ri(o)))),i<7&&r>=7&&(s=s.next(()=>this.ii(o))),i<8&&r>=8&&(s=s.next(()=>this.si(t,o))),i<9&&r>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t)})),i<10&&r>=10&&(s=s.next(()=>this.oi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{(function(c){let d=c.createObjectStore("documentOverlays",{keyPath:lO});d.createIndex("collectionPathOverlayIndex",cO,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",dO,{unique:!1})})(t)})),i<13&&r>=13&&(s=s.next(()=>function(c){let d=c.createObjectStore("remoteDocumentsV14",{keyPath:XM});d.createIndex("documentKeyIndex",ZM),d.createIndex("collectionGroupIndex",JM)}(t)).next(()=>this._i(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ai(t,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:rO}).createIndex("sequenceNumberIndex",oO,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:sO}).createIndex("documentKeyIndex",aO,{unique:!1})}(t))),i<16&&r>=16&&(s=s.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(t)})),s}ri(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=Ku(r)}).next(()=>{let i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(t){let e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>k.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>k.forEach(a,c=>{tt(c.userId===o.userId);let d=Qr(this.serializer,c);return Tx(t,o.userId,d).next(()=>{})}))}))}ii(t){let e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return i.J((s,a)=>{let c=new xt(s),d=function(m){return[0,Ze(m)]}(c);o.push(e.get(d).next(h=>h?k.resolve():(m=>e.put({targetId:0,path:Ze(m),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>k.waitFor(o))})}si(t,e){t.createObjectStore("collectionParents",{keyPath:nO});let i=e.store("collectionParents"),r=new tc,o=s=>{if(r.add(s)){let a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:Ze(c)})}};return e.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new xt(s);return o(c.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([s,a,c],d)=>{let h=Gi(a);return o(h.popLast())}))}oi(t){let e=t.store("targets");return e.J((i,r)=>{let o=Nl(r),s=Ix(this.serializer,o);return e.put(s)})}_i(t,e){let i=e.store("remoteDocuments"),r=[];return i.J((o,s)=>{let a=e.store("remoteDocumentsV14"),c=function(m){return m.document?new W(xt.fromString(m.document.name).popFirst(5)):m.noDocument?W.fromSegments(m.noDocument.path):m.unknownDocument?W.fromSegments(m.unknownDocument.path):X()}(s).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(d))}).next(()=>k.waitFor(r))}ai(t,e){let i=e.store("mutations"),r=Rx(this.serializer),o=new Zu(Ju.Zr,this.serializer.ct);return i.U().next(s=>{let a=new Map;return s.forEach(c=>{var d;let h=(d=a.get(c.userId))!==null&&d!==void 0?d:mt();Qr(this.serializer,c).keys().forEach(m=>h=h.add(m)),a.set(c.userId,h)}),k.forEach(a,(c,d)=>{let h=new ve(d),m=Gu.lt(this.serializer,h),g=o.getIndexManager(h),v=Qu.lt(h,this.serializer,g,o.referenceDelegate);return new Xu(r,v,m,g).recalculateAndSaveOverlaysForDocumentKeys(new ql(e,hi.oe),c).next()})})}};function dC(n){n.createObjectStore("targetDocuments",{keyPath:eO}).createIndex("documentTargetsIndex",iO,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tO,{unique:!0}),n.createObjectStore("targetGlobal")}var tg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",f_=class n{constructor(t,e,i,r,o,s,a,c,d,h,m=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ui=o,this.window=s,this.document=a,this.ci=d,this.li=h,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=g=>Promise.resolve(),!n.D())throw new F(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new t_(this,r),this.Ai=e+"main",this.serializer=new qu(c),this.Ri=new lr(this.Ai,this.hi,new h_(this.serializer)),this.$r=new Bg,this.Ur=new Yg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Rx(this.serializer),this.Gr=new Ug,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,h===!1&&ue("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F(O.FAILED_PRECONDITION,tg);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new hi(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){return this.di=e=>P(this,null,function*(){if(this.started)return t(e)}),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(e=>P(this,null,function*(){e.newVersion===null&&(yield t())}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget(()=>P(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>wu(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(e=>this.isPrimary&&!e?this.bi(t).next(()=>!1):!!e&&this.Di(t).next(()=>!0))).catch(t=>{if(vr(t))return L("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return L("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Ml(t).get("owner").next(e=>k.resolve(this.vi(e)))}Ci(t){return wu(t).delete(this.clientId)}Fi(){return P(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let t=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let i=Ce(e,"clientMetadata");return i.U().next(r=>{let o=this.xi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return k.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(let e of t)this.Vi.removeItem(this.Oi(e.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?k.resolve(!0):Ml(t).get("owner").next(e=>{if(e!==null&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)){if(this.vi(e)&&this.networkEnabled)return!0;if(!this.vi(e)){if(!e.allowTabSynchronization)throw new F(O.FAILED_PRECONDITION,tg);return!1}}return!(!this.networkEnabled||!this.inForeground)||wu(t).U().next(i=>this.xi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(e=>(this.isPrimary!==e&&L("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){return P(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{let e=new ql(t,hi.oe);return this.bi(e).next(()=>this.Ci(e))}),this.Ri.close(),this.qi()})}xi(t,e){return t.filter(i=>this.Mi(i.updateTimeMs,e)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>wu(t).U().next(e=>this.xi(e,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,e){return Qu.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Qg(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Gu.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,e,i){L("IndexedDbPersistence","Starting transaction:",t);let r=e==="readonly"?"readonly":"readwrite",o=function(c){return c===17?fO:c===16?hO:c===15?sv:c===14?FC:c===13?NC:c===12?uO:c===11?OC:void X()}(this.hi),s;return this.Ri.runTransaction(t,r,o,a=>(s=new ql(a,this.Qr?this.Qr.next():hi.oe),e==="readwrite-primary"?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw ue(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new F(O.FAILED_PRECONDITION,DC);return i(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(t){return Ml(t).get("owner").next(e=>{if(e!==null&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new F(O.FAILED_PRECONDITION,tg)})}Di(t){let e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ml(t).put("owner",e)}static D(){return lr.D()}bi(t){let e=Ml(t);return e.get("owner").next(i=>this.vi(i)?(L("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):k.resolve())}Mi(t,e){let i=Date.now();return!(t<i-e)&&(!(t>i)||(ue(`Detected an update time that is in the future: ${t} > ${i}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let e=/(?:Version|Mobile)\/1[456]/;um()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var e;try{let i=((e=this.Vi)===null||e===void 0?void 0:e.getItem(this.Oi(t)))!==null;return L("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ue("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){ue("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}};function Ml(n){return Ce(n,"owner")}function wu(n){return Ce(n,"clientMetadata")}function pv(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}var m_=class n{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Ui=r}static Wi(t,e){let i=mt(),r=mt();for(let o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(t,e.fromCache,i,r)}};var p_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var th=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return um()?8:kC(Ha())>0?6:4}()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,i,r){let o={result:null};return this.Yi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new p_;return this.Xi(t,e,s).next(a=>{if(o.result=a,this.zi)return this.es(t,e,s,a.size)})}).next(()=>o.result)}es(t,e,i,r){return i.documentReadCount<this.ji?(Es()<=qi.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Is(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(Es()<=qi.DEBUG&&L("QueryEngine","Query:",Is(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Es()<=qi.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Is(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Je(e))):k.resolve())}Yi(t,e){if(VI(e))return k.resolve(null);let i=Je(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=ju(e,null,"F"),i=Je(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{let s=mt(...o);return this.Ji.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(c=>{let d=this.ts(e,a);return this.ns(e,d,s,c.readTime)?this.Yi(t,ju(e,null,"F")):this.rs(t,d,e,c)}))})))}Zi(t,e,i,r){return VI(e)||r.isEqual(st.min())?k.resolve(null):this.Ji.getDocuments(t,i).next(o=>{let s=this.ts(e,o);return this.ns(e,s,i,r)?k.resolve(null):(Es()<=qi.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Is(e)),this.rs(t,s,e,SC(r,-1)).next(a=>a))})}ts(t,e){let i=new Gt(YC(t));return e.forEach((r,o)=>{uc(t,o)&&(i=i.add(o))}),i}ns(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;let o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(t,e,i){return Es()<=qi.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Is(e)),this.Ji.getDocumentsMatchingQuery(t,e,yi.min(),i)}rs(t,e,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}};var g_=class{constructor(t,e,i,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new Qt(ut),this._s=new Zi(o=>no(o),cc),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Xu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}};function Dx(n,t,e,i){return new g_(n,t,e,i)}function kx(n,t){return P(this,null,function*(){let e=H(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.ls(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=mt();for(let d of r){s.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}for(let d of o){a.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}return e.localDocuments.getDocuments(i,c).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function HO(n,t){let e=H(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=t.batch.keys(),o=e.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){let m=d.batch,g=m.keys(),v=k.resolve();return g.forEach(A=>{v=v.next(()=>h.getEntry(c,A)).next(D=>{let T=d.docVersions.get(A);tt(T!==null),D.version.compareTo(T)<0&&(m.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),h.addEntry(D)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=mt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function Px(n){let t=H(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function WO(n,t){let e=H(n),i=t.snapshotVersion,r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;let a=[];t.targetChanges.forEach((h,m)=>{let g=r.get(m);if(!g)return;a.push(e.Ur.removeMatchingKeys(o,h.removedDocuments,m).next(()=>e.Ur.addMatchingKeys(o,h.addedDocuments,m)));let v=g.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(m)!==null?v=v.withResumeToken(me.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(m,v),function(D,T,G){return D.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(g,v,h)&&a.push(e.Ur.updateTargetData(o,v))});let c=oi(),d=mt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Mx(o,s,t.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!i.isEqual(st.min())){let h=e.Ur.getLastRemoteSnapshotVersion(o).next(m=>e.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(e.os=r,o))}function Mx(n,t,e){let i=mt(),r=mt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=oi();return e.forEach((a,c)=>{let d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(st.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Ps:s,Is:r}})}function KO(n,t){let e=H(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Us(n,t){let e=H(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ur.getTargetData(i,t).next(o=>o?(r=o,k.resolve(r)):e.Ur.allocateTargetId(i).next(s=>(r=new Ls(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=e.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(i.targetId,i),e._s.set(t,i.targetId)),i})}function Bs(n,t,e){return P(this,null,function*(){let i=H(n),r=i.os.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!vr(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(r.target)})}function eh(n,t,e){let i=H(n),r=st.min(),o=mt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,h){let m=H(c),g=m._s.get(h);return g!==void 0?k.resolve(m.os.get(g)):m.Ur.getTargetData(d,h)}(i,s,Je(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,e?r:st.min(),e?o:mt())).next(a=>(Fx(i,QC(t),a),{documents:a,Ts:o})))}function Ox(n,t){let e=H(n),i=H(e.Ur),r=e.os.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,t).next(s=>s?s.target:null))}function Nx(n,t){let e=H(n),i=e.us.get(t)||st.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.cs.getAllFromCollectionGroup(r,t,SC(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Fx(e,t,r),r))}function Fx(n,t,e){let i=n.us.get(t)||st.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(t,i)}function QO(n,t,e,i){return P(this,null,function*(){let r=H(n),o=mt(),s=oi();for(let d of e){let h=t.Es(d.metadata.name);d.document&&(o=o.add(h));let m=t.ds(d);m.setReadTime(t.As(d.metadata.readTime)),s=s.insert(h,m)}let a=r.cs.newChangeBuffer({trackRemovals:!0}),c=yield Us(r,function(h){return Je(Qs(xt.fromString(`__bundle__/docs/${h}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>Mx(d,a,s).next(h=>(a.apply(d),h)).next(h=>r.Ur.removeMatchingKeysForTargetId(d,c.targetId).next(()=>r.Ur.addMatchingKeys(d,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,h.Ps,h.Is)).next(()=>h.Ps)))})}function YO(i,r){return P(this,arguments,function*(n,t,e=mt()){let o=yield Us(n,Je(fv(t.bundledQuery))),s=H(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=fe(t.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Gr.saveNamedQuery(a,t);let d=o.withResumeToken(me.EMPTY_BYTE_STRING,c);return s.os=s.os.insert(d.targetId,d),s.Ur.updateTargetData(a,d).next(()=>s.Ur.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Ur.addMatchingKeys(a,e,o.targetId)).next(()=>s.Gr.saveNamedQuery(a,t))})})}function uC(n,t){return`firestore_clients_${n}_${t}`}function hC(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function eg(n,t){return`firestore_targets_${n}_${t}`}var ih=class n{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Rs(t,e,i){let r=JSON.parse(i),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new F(r.error.code,r.error.message))),s?new n(t,e,r.state,o):(ue("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Vs(){let t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}},jl=class n{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Rs(t,e){let i=JSON.parse(e),r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new F(i.error.code,i.error.message))),o?new n(t,i.state,r):(ue("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Vs(){let t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}},nh=class n{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Rs(t,e){let i=JSON.parse(e),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=dv();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=PC(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new n(t,o):(ue("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}},__=class n{constructor(t,e){this.clientId=t,this.onlineState=e}static Rs(t){let e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new n(e.clientId,e.onlineState):(ue("SharedClientState",`Failed to parse online state: ${t}`),null)}},ic=class{constructor(){this.activeTargetIds=dv()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}},Ul=class{constructor(t,e,i,r,o){this.window=t,this.ui=e,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Qt(ut),this.started=!1,this.bs=[];let s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=uC(this.persistenceKey,this.ps),this.vs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new ic),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){return P(this,null,function*(){let t=yield this.syncEngine.Qi();for(let i of t){if(i===this.ps)continue;let r=this.getItem(uC(this.persistenceKey,i));if(r){let o=nh.Rs(i,r);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let e=this.storage.getItem(this.xs);if(e){let i=this.Ls(e);i&&this.Bs(i)}for(let i of this.bs)this.ws(i);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let e=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,e,i){this.qs(t,e,i),this.Qs(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){let r=this.storage.getItem(eg(this.persistenceKey,t));if(r){let o=jl.Rs(t,r);o&&(i=o.state)}}return e&&this.Ks.fs(t),this.Ns(),i}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(eg(this.persistenceKey,t))}updateQueryState(t,e,i){this.$s(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Qs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){let e=this.storage.getItem(t);return L("SharedClientState","READ",t,e),e}setItem(t,e){L("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){L("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){let e=t;if(e.storageArea===this.storage){if(L("SharedClientState","EVENT",e.key,e.newValue),e.key===this.Ds)return void ue("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>P(this,null,function*(){if(this.started){if(e.key!==null){if(this.Cs.test(e.key)){if(e.newValue==null){let i=this.Gs(e.key);return this.zs(i,null)}{let i=this.js(e.key,e.newValue);if(i)return this.zs(i.clientId,i)}}else if(this.Fs.test(e.key)){if(e.newValue!==null){let i=this.Hs(e.key,e.newValue);if(i)return this.Js(i)}}else if(this.Ms.test(e.key)){if(e.newValue!==null){let i=this.Ys(e.key,e.newValue);if(i)return this.Zs(i)}}else if(e.key===this.xs){if(e.newValue!==null){let i=this.Ls(e.newValue);if(i)return this.Bs(i)}}else if(e.key===this.vs){let i=function(o){let s=hi.oe;if(o!=null)try{let a=JSON.parse(o);tt(typeof a=="number"),s=a}catch(a){ue("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(e.newValue);i!==hi.oe&&this.sequenceNumberHandler(i)}else if(e.key===this.Os){let i=this.Xs(e.newValue);yield Promise.all(i.map(r=>this.syncEngine.eo(r)))}}}else this.bs.push(e)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,e,i){let r=new ih(this.currentUser,t,e,i),o=hC(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Vs())}Qs(t){let e=hC(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Us(t){let e={clientId:this.ps,onlineState:t};this.storage.setItem(this.xs,JSON.stringify(e))}$s(t,e,i){let r=eg(this.persistenceKey,t),o=new jl(t,e,i);this.setItem(r,o.Vs())}Ws(t){let e=JSON.stringify(Array.from(t));this.setItem(this.Os,e)}Gs(t){let e=this.Cs.exec(t);return e?e[1]:null}js(t,e){let i=this.Gs(t);return nh.Rs(i,e)}Hs(t,e){let i=this.Fs.exec(t),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return ih.Rs(new ve(o),r,e)}Ys(t,e){let i=this.Ms.exec(t),r=Number(i[1]);return jl.Rs(r,e)}Ls(t){return __.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){return P(this,null,function*(){if(t.user.uid===this.currentUser.uid)return this.syncEngine.no(t.batchId,t.state,t.error);L("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,e){let i=e?this.Ss.insert(t,e):this.Ss.remove(t),r=this.ks(this.Ss),o=this.ks(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=i})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let e=dv();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}},rh=class{constructor(){this.so=new ic,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,i){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new ic,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var v_=class{_o(t){}shutdown(){}};var oh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.ho)t(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Eu=null;function ig(){return Eu===null?Eu=function(){return 268435456+Math.round(2147483648*Math.random())}():Eu++,"0x"+Eu.toString(16)}var XO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var b_=class{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}};var Ge="WebChannelConnection",y_=class extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+e.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(e,i,r,o,s){let a=ig(),c=this.xo(e,i.toUriEncodedString());L("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(e,c,d,r).then(h=>(L("RestConnection",`Received RPC '${e}' ${a}: `,h),h),h=>{throw Mi("RestConnection",`RPC '${e}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Lo(e,i,r,o,s,a){return this.Mo(e,i,r,o,s)}Oo(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ks}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}xo(e,i){let r=XO[e];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,i,r){let o=ig();return new Promise((s,a)=>{let c=new Kp;c.setWithCredentials(!0),c.listenOnce(Qp.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Rl.NO_ERROR:let h=c.getResponseJson();L(Ge,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),s(h);break;case Rl.TIMEOUT:L(Ge,`RPC '${t}' ${o} timed out`),a(new F(O.DEADLINE_EXCEEDED,"Request time out"));break;case Rl.HTTP_ERROR:let m=c.getStatus();if(L(Ge,`RPC '${t}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let A=function(T){let G=T.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(G)>=0?G:O.UNKNOWN}(v.status);a(new F(A,v.message))}else a(new F(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new F(O.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{L(Ge,`RPC '${t}' ${o} completed.`)}});let d=JSON.stringify(r);L(Ge,`RPC '${t}' ${o} sending request:`,r),c.send(e,"POST",d,i,15)})}Bo(t,e,i){let r=ig(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Zp(),a=Xp(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,e,i),c.encodeInitMessageHeaders=!0;let h=o.join("");L(Ge,`Creating RPC '${t}' stream ${r}: ${h}`,c);let m=s.createWebChannel(h,c),g=!1,v=!1,A=new b_({Io:T=>{v?L(Ge,`Not sending because RPC '${t}' stream ${r} is closed:`,T):(g||(L(Ge,`Opening RPC '${t}' stream ${r} transport.`),m.open(),g=!0),L(Ge,`RPC '${t}' stream ${r} sending:`,T),m.send(T))},To:()=>m.close()}),D=(T,G,Q)=>{T.listen(G,j=>{try{Q(j)}catch(Z){setTimeout(()=>{throw Z},0)}})};return D(m,_s.EventType.OPEN,()=>{v||(L(Ge,`RPC '${t}' stream ${r} transport opened.`),A.yo())}),D(m,_s.EventType.CLOSE,()=>{v||(v=!0,L(Ge,`RPC '${t}' stream ${r} transport closed`),A.So())}),D(m,_s.EventType.ERROR,T=>{v||(v=!0,Mi(Ge,`RPC '${t}' stream ${r} transport errored:`,T),A.So(new F(O.UNAVAILABLE,"The operation could not be completed")))}),D(m,_s.EventType.MESSAGE,T=>{var G;if(!v){let Q=T.data[0];tt(!!Q);let j=Q,Z=j.error||((G=j[0])===null||G===void 0?void 0:G.error);if(Z){L(Ge,`RPC '${t}' stream ${r} received error:`,Z);let at=Z.status,lt=function(y){let E=ge[y];if(E!==void 0)return cx(E)}(at),w=Z.message;lt===void 0&&(lt=O.INTERNAL,w="Unknown error status: "+at+" with message "+Z.message),v=!0,A.So(new F(lt,w)),m.close()}else L(Ge,`RPC '${t}' stream ${r} received:`,Q),A.bo(Q)}}),D(a,Yp.STAT_EVENT,T=>{T.stat===vu.PROXY?L(Ge,`RPC '${t}' stream ${r} detected buffering proxy`):T.stat===vu.NOPROXY&&L(Ge,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Vx(){return typeof window<"u"?window:null}function Au(){return typeof document<"u"?document:null}function hc(n){return new Ng(n,!0)}var nc=class{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ui=t,this.timerId=e,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();let e=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var sh=class{constructor(t,e,i,r,o,s,a,c){this.ui=t,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nc(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return P(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){return P(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){return P(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===O.RESOURCE_EXHAUSTED?(ue(e.toString()),ue("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.mo(e)})}l_(){}auth(){this.state=1;let t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===e&&this.P_(i,r)},i=>{t(()=>{let r=new F(O.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,e){let i=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>P(this,null,function*(){this.state=0,this.start()}))}I_(t){return L("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},w_=class extends sh{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();let e=NO(this.serializer,t),i=function(o){if(!("targetChange"in o))return st.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?st.min():s.readTime?fe(s.readTime):st.min()}(t);return this.listener.d_(e,i)}A_(t){let e={};e.database=Lg(this.serializer),e.addTarget=function(o,s){let a,c=s.target;if(a=Vu(c)?{documents:_x(o,c)}:{query:vx(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ux(o,s.resumeToken);let d=Fg(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(st.min())>0){a.readTime=Vs(o,s.snapshotVersion.toTimestamp());let d=Fg(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,t);let i=VO(this.serializer,t);i&&(e.labels=i),this.a_(e)}R_(t){let e={};e.database=Lg(this.serializer),e.removeTarget=t,this.a_(e)}},E_=class extends sh{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return tt(!!t.streamToken),this.lastStreamToken=t.streamToken,tt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();let e=FO(t.writeResults,t.commitTime),i=fe(t.commitTime);return this.listener.g_(i,e)}p_(){let t={};t.database=Lg(this.serializer),this.a_(t)}m_(t){let e={streamToken:this.lastStreamToken,writes:t.map(i=>Jl(this.serializer,i))};this.a_(e)}};var I_=class extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new F(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(t,Vg(e,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(O.UNKNOWN,o.toString())})}Lo(t,e,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(t,Vg(e,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},C_=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ue(e),this.D_=!1):L("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var x_=class{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>P(this,null,function*(){br(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(c){return P(this,null,function*(){let d=H(c);d.L_.add(4),yield Ys(d),d.q_.set("Unknown"),d.L_.delete(4),yield fc(d)})}(this))}))}),this.q_=new C_(i,r)}};function fc(n){return P(this,null,function*(){if(br(n))for(let t of n.B_)yield t(!0)})}function Ys(n){return P(this,null,function*(){for(let t of n.B_)yield t(!1)})}function Ah(n,t){let e=H(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),vv(e)?_v(e):Zs(e).r_()&&gv(e,t))}function zs(n,t){let e=H(n),i=Zs(e);e.N_.delete(t),i.r_()&&Lx(e,t),e.N_.size===0&&(i.r_()?i.o_():br(e)&&e.q_.set("Unknown"))}function gv(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(st.min())>0){let e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Zs(n).A_(t)}function Lx(n,t){n.Q_.xe(t),Zs(n).R_(t)}function _v(n){n.Q_=new Og({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Zs(n).start(),n.q_.v_()}function vv(n){return br(n)&&!Zs(n).n_()&&n.N_.size>0}function br(n){return H(n).L_.size===0}function jx(n){n.Q_=void 0}function ZO(n){return P(this,null,function*(){n.q_.set("Online")})}function JO(n){return P(this,null,function*(){n.N_.forEach((t,e)=>{gv(n,t)})})}function t1(n,t){return P(this,null,function*(){jx(n),vv(n)?(n.q_.M_(t),_v(n)):n.q_.set("Unknown")})}function e1(n,t,e){return P(this,null,function*(){if(n.q_.set("Online"),t instanceof Bu&&t.state===2&&t.cause)try{yield function(r,o){return P(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,t)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield ah(n,i)}else if(t instanceof Ds?n.Q_.Ke(t):t instanceof Uu?n.Q_.He(t):n.Q_.We(t),!e.isEqual(st.min()))try{let i=yield Px(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.N_.get(d);h&&o.N_.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{let h=o.N_.get(c);if(!h)return;o.N_.set(c,h.withResumeToken(me.EMPTY_BYTE_STRING,h.snapshotVersion)),Lx(o,c);let m=new Ls(h.target,c,d,h.sequenceNumber);gv(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield ah(n,i)}})}function ah(n,t,e){return P(this,null,function*(){if(!vr(t))throw t;n.L_.add(1),yield Ys(n),n.q_.set("Offline"),e||(e=()=>Px(n.localStore)),n.asyncQueue.enqueueRetryable(()=>P(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield e(),n.L_.delete(1),yield fc(n)}))})}function Ux(n,t){return t().catch(e=>ah(n,e,t))}function Xs(n){return P(this,null,function*(){let t=H(n),e=gr(t),i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;i1(t);)try{let r=yield KO(t.localStore,i);if(r===null){t.O_.length===0&&e.o_();break}i=r.batchId,n1(t,r)}catch(r){yield ah(t,r)}Bx(t)&&zx(t)})}function i1(n){return br(n)&&n.O_.length<10}function n1(n,t){n.O_.push(t);let e=gr(n);e.r_()&&e.V_&&e.m_(t.mutations)}function Bx(n){return br(n)&&!gr(n).n_()&&n.O_.length>0}function zx(n){gr(n).start()}function r1(n){return P(this,null,function*(){gr(n).p_()})}function o1(n){return P(this,null,function*(){let t=gr(n);for(let e of n.O_)t.m_(e.mutations)})}function s1(n,t,e){return P(this,null,function*(){let i=n.O_.shift(),r=kg.from(i,t,e);yield Ux(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Xs(n)})}function a1(n,t){return P(this,null,function*(){t&&gr(n).V_&&(yield function(i,r){return P(this,null,function*(){if(function(s){return lx(s)&&s!==O.ABORTED}(r.code)){let o=i.O_.shift();gr(i).s_(),yield Ux(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Xs(i)}})}(n,t)),Bx(n)&&zx(n)})}function fC(n,t){return P(this,null,function*(){let e=H(n);e.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let i=br(e);e.L_.add(3),yield Ys(e),i&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield fc(e)})}function T_(n,t){return P(this,null,function*(){let e=H(n);t?(e.L_.delete(2),yield fc(e)):t||(e.L_.add(2),yield Ys(e),e.q_.set("Unknown"))})}function Zs(n){return n.K_||(n.K_=function(e,i,r){let o=H(e);return o.w_(),new w_(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:ZO.bind(null,n),Ro:JO.bind(null,n),mo:t1.bind(null,n),d_:e1.bind(null,n)}),n.B_.push(t=>P(this,null,function*(){t?(n.K_.s_(),vv(n)?_v(n):n.q_.set("Unknown")):(yield n.K_.stop(),jx(n))}))),n.K_}function gr(n){return n.U_||(n.U_=function(e,i,r){let o=H(e);return o.w_(),new E_(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:r1.bind(null,n),mo:a1.bind(null,n),f_:o1.bind(null,n),g_:s1.bind(null,n)}),n.B_.push(t=>P(this,null,function*(){t?(n.U_.s_(),yield Xs(n)):(yield n.U_.stop(),n.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var A_=class n{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ie,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){let s=Date.now()+i,a=new n(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Js(n,t){if(ue("AsyncQueue",`${t}: ${n}`),vr(n))return new F(O.UNAVAILABLE,`${t}: ${n}`);throw n}var lh=class n{constructor(t){this.comparator=t?(e,i)=>t(e,i)||W.comparator(e.key,i.key):(e,i)=>W.comparator(e.key,i.key),this.keyedMap=Ol(),this.sortedSet=new Qt(this.comparator)}static emptySet(t){return new n(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){let r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let i=new n;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}};var ch=class{constructor(){this.W_=new Qt(W.comparator)}track(t){let e=t.doc.key,i=this.W_.get(e);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(e,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(e):t.type===1&&i.type===2?this.W_=this.W_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):X():this.W_=this.W_.insert(e,t)}G_(){let t=[];return this.W_.inorderTraversal((e,i)=>{t.push(i)}),t}},qs=class n{constructor(t,e,i,r,o,s,a,c,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){let s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new n(t,e,lh.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}};var S_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}},R_=class{constructor(){this.queries=mC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,i){let r=H(e),o=r.queries;r.queries=mC(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(i)})})(this,new F(O.ABORTED,"Firestore shutting down"))}};function mC(){return new Zi(n=>KC(n),dc)}function bv(n,t){return P(this,null,function*(){let e=H(n),i=3,r=t.query,o=e.queries.get(r);o?!o.H_()&&t.J_()&&(i=2):(o=new S_,i=t.J_()?0:1);try{switch(i){case 0:o.z_=yield e.onListen(r,!0);break;case 1:o.z_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(s){let a=Js(s,`Initialization of query '${Is(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,o),o.j_.push(t),t.Z_(e.onlineState),o.z_&&t.X_(o.z_)&&wv(e)})}function yv(n,t){return P(this,null,function*(){let e=H(n),i=t.query,r=3,o=e.queries.get(i);if(o){let s=o.j_.indexOf(t);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=t.J_()?0:1:!o.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})}function l1(n,t){let e=H(n),i=!1;for(let r of t){let o=r.query,s=e.queries.get(o);if(s){for(let a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&wv(e)}function c1(n,t,e){let i=H(n),r=i.queries.get(t);if(r)for(let o of r.j_)o.onError(e);i.queries.delete(t)}function wv(n){n.Y_.forEach(t=>{t.next()})}var D_,pC;(pC=D_||(D_={})).ea="default",pC.Cache="cache";var rc=class{constructor(t,e,i){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){let i=[];for(let r of t.docChanges)r.type!==3&&i.push(r);t=new qs(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;let i=e!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;let e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=qs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==D_.Cache}};var k_=class{constructor(t,e){this.aa=t,this.byteLength=e}ua(){return"metadata"in this.aa}};var dh=class{constructor(t){this.serializer=t}Es(t){return Ki(this.serializer,t)}ds(t){return t.metadata.exists?gx(this.serializer,t.document,!1):be.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return fe(t)}},P_=class{constructor(t,e,i){this.ca=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qx(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++e;let i=xt.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ha(t){let e=new Map,i=new dh(this.serializer);for(let r of t)if(r.metadata.queries){let o=i.Es(r.metadata.name);for(let s of r.metadata.queries){let a=(e.get(s)||mt()).add(o);e.set(s,a)}}return e}complete(){return P(this,null,function*(){let t=yield QO(this.localStore,new dh(this.serializer),this.documents,this.ca.id),e=this.ha(this.documents);for(let i of this.queries)yield YO(this.localStore,i,e.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:t}})}};function qx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var uh=class{constructor(t){this.key=t}},hh=class{constructor(t){this.key=t}},fh=class{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=mt(),this.mutatedKeys=mt(),this.Aa=YC(t),this.Ra=new lh(this.Aa)}get Va(){return this.Ta}ma(t,e){let i=e?e.fa:new ch,r=e?e.Ra:this.Ra,o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((h,m)=>{let g=r.get(h),v=uc(this.query,m)?m:null,A=!!g&&this.mutatedKeys.has(g.key),D=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),T=!1;g&&v?g.data.isEqual(v.data)?A!==D&&(i.track({type:3,doc:v}),T=!0):this.ga(g,v)||(i.track({type:2,doc:v}),T=!0,(c&&this.Aa(v,c)>0||d&&this.Aa(v,d)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),T=!0):g&&!v&&(i.track({type:1,doc:g}),T=!0,(c||d)&&(a=!0)),T&&(v?(s=s.add(v),o=D?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){let o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;let s=t.fa.G_();s.sort((h,m)=>function(v,A){let D=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return D(v)-D(A)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(i),r=r!=null&&r;let a=e&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,d=c!==this.Ea;return this.Ea=c,s.length!==0||d?{snapshot:new qs(this.query,t.Ra,o,s,t.mutatedKeys,c===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ch,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];let t=this.da;this.da=mt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let e=[];return t.forEach(i=>{this.da.has(i)||e.push(new hh(i))}),this.da.forEach(i=>{t.has(i)||e.push(new uh(i))}),e}ba(t){this.Ta=t.Ts,this.da=mt();let e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return qs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},M_=class{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}},O_=class{constructor(t){this.key=t,this.va=!1}},N_=class{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Zi(a=>KC(a),dc),this.Ma=new Map,this.xa=new Set,this.Oa=new Qt(W.comparator),this.Na=new Map,this.La=new ec,this.Ba={},this.ka=new Map,this.qa=js.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function d1(n,t,e=!0){return P(this,null,function*(){let i=Sh(n),r,o=i.Fa.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield $x(i,t,e,!0),r})}function u1(n,t){return P(this,null,function*(){let e=Sh(n);yield $x(e,t,!0,!1)})}function $x(n,t,e,i){return P(this,null,function*(){let r=yield Us(n.localStore,Je(t)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,e),a;return i&&(a=yield Ev(n,t,o,s==="current",r.resumeToken)),n.isPrimaryClient&&e&&Ah(n.remoteStore,r),a})}function Ev(n,t,e,i,r){return P(this,null,function*(){n.Ka=(m,g,v)=>function(D,T,G,Q){return P(this,null,function*(){let j=T.view.ma(G);j.ns&&(j=yield eh(D.localStore,T.query,!1).then(({documents:w})=>T.view.ma(w,j)));let Z=Q&&Q.targetChanges.get(T.targetId),at=Q&&Q.targetMismatches.get(T.targetId)!=null,lt=T.view.applyChanges(j,D.isPrimaryClient,Z,at);return F_(D,T.targetId,lt.wa),lt.snapshot})}(n,m,g,v);let o=yield eh(n.localStore,t,!0),s=new fh(t,o.Ts),a=s.ma(o.documents),c=Xl.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=s.applyChanges(a,n.isPrimaryClient,c);F_(n,e,d.wa);let h=new M_(t,e,s);return n.Fa.set(t,h),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),d.snapshot})}function h1(n,t,e){return P(this,null,function*(){let i=H(n),r=i.Fa.get(t),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!dc(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bs(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&zs(i.remoteStore,r.targetId),$s(i,r.targetId)}).catch(_r))):($s(i,r.targetId),yield Bs(i.localStore,r.targetId,!0))})}function f1(n,t){return P(this,null,function*(){let e=H(n),i=e.Fa.get(t),r=e.Ma.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),zs(e.remoteStore,i.targetId))})}function m1(n,t,e){return P(this,null,function*(){let i=Tv(n);try{let r=yield function(s,a){let c=H(s),d=te.now(),h=a.reduce((v,A)=>v.add(A.key),mt()),m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=oi(),D=mt();return c.cs.getEntries(v,h).next(T=>{A=T,A.forEach((G,Q)=>{Q.isValidDocument()||(D=D.add(G))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,A)).next(T=>{m=T;let G=[];for(let Q of a){let j=SO(Q,m.get(Q.key).overlayedDocument);j!=null&&G.push(new Ni(Q.key,j,BC(j.value.mapValue),le.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,G,a)}).next(T=>{g=T;let G=T.applyToLocalDocumentSet(m,D);return c.documentOverlayCache.saveOverlays(v,T.batchId,G)})}).then(()=>({batchId:g.batchId,changes:ZC(m)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let d=s.Ba[s.currentUser.toKey()];d||(d=new Qt(ut)),d=d.insert(a,c),s.Ba[s.currentUser.toKey()]=d}(i,r.batchId,e),yield xn(i,r.changes),yield Xs(i.remoteStore)}catch(r){let o=Js(r,"Failed to persist write");e.reject(o)}})}function Gx(n,t){return P(this,null,function*(){let e=H(n);try{let i=yield WO(e.localStore,t);t.targetChanges.forEach((r,o)=>{let s=e.Na.get(o);s&&(tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?tt(s.va):r.removedDocuments.size>0&&(tt(s.va),s.va=!1))}),yield xn(e,i,t)}catch(i){yield _r(i)}})}function gC(n,t,e){let i=H(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){let r=[];i.Fa.forEach((o,s)=>{let a=s.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=H(s);c.onlineState=a;let d=!1;c.queries.forEach((h,m)=>{for(let g of m.j_)g.Z_(a)&&(d=!0)}),d&&wv(c)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function p1(n,t,e){return P(this,null,function*(){let i=H(n);i.sharedClientState.updateQueryState(t,"rejected",e);let r=i.Na.get(t),o=r&&r.key;if(o){let s=new Qt(W.comparator);s=s.insert(o,be.newNoDocument(o,st.min()));let a=mt().add(o),c=new Yl(st.min(),new Map,new Qt(ut),s,a);yield Gx(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(t),xv(i)}else yield Bs(i.localStore,t,!1).then(()=>$s(i,t,e)).catch(_r)})}function g1(n,t){return P(this,null,function*(){let e=H(n),i=t.batch.batchId;try{let r=yield HO(e.localStore,t);Cv(e,i,null),Iv(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield xn(e,r)}catch(r){yield _r(r)}})}function _1(n,t,e){return P(this,null,function*(){let i=H(n);try{let r=yield function(s,a){let c=H(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(m=>(tt(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,t);Cv(i,t,e),Iv(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield xn(i,r)}catch(r){yield _r(r)}})}function v1(n,t){return P(this,null,function*(){let e=H(n);br(e.remoteStore)||L("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(s){let a=H(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(i===-1)return void t.resolve();let r=e.ka.get(i)||[];r.push(t),e.ka.set(i,r)}catch(i){let r=Js(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})}function Iv(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function Cv(n,t,e){let i=H(n),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function $s(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(let i of n.Ma.get(t))n.Fa.delete(i),e&&n.Ca.$a(i,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(i=>{n.La.containsKey(i)||Hx(n,i)})}function Hx(n,t){n.xa.delete(t.path.canonicalString());let e=n.Oa.get(t);e!==null&&(zs(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),xv(n))}function F_(n,t,e){for(let i of e)i instanceof uh?(n.La.addReference(i.key,t),b1(n,i)):i instanceof hh?(L("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,t),n.La.containsKey(i.key)||Hx(n,i.key)):X()}function b1(n,t){let e=t.key,i=e.path.canonicalString();n.Oa.get(e)||n.xa.has(i)||(L("SyncEngine","New document in limbo: "+e),n.xa.add(i),xv(n))}function xv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let t=n.xa.values().next().value;n.xa.delete(t);let e=new W(xt.fromString(t)),i=n.qa.next();n.Na.set(i,new O_(e)),n.Oa=n.Oa.insert(e,i),Ah(n.remoteStore,new Ls(Je(Qs(e.path)),i,"TargetPurposeLimboResolution",hi.oe))}}function xn(n,t,e){return P(this,null,function*(){let i=H(n),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{s.push(i.Ka(c,t,e).then(d=>{var h;if((d||e)&&i.isPrimaryClient){let m=d?!d.fromCache:(h=e?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){r.push(d);let m=m_.Wi(c.targetId,d);o.push(m)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(c,d){return P(this,null,function*(){let h=H(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>k.forEach(d,g=>k.forEach(g.$i,v=>h.persistence.referenceDelegate.addReference(m,g.targetId,v)).next(()=>k.forEach(g.Ui,v=>h.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))}catch(m){if(!vr(m))throw m;L("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let g=m.targetId;if(!m.fromCache){let v=h.os.get(g),A=v.snapshotVersion,D=v.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(g,D)}}})}(i.localStore,o))})}function y1(n,t){return P(this,null,function*(){let e=H(n);if(!e.currentUser.isEqual(t)){L("SyncEngine","User change. New user:",t.toKey());let i=yield kx(e.localStore,t);e.currentUser=t,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new F(O.CANCELLED,s))})}),o.ka.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield xn(e,i.hs)}})}function w1(n,t){let e=H(n),i=e.Na.get(t);if(i&&i.va)return mt().add(i.key);{let r=mt(),o=e.Ma.get(t);if(!o)return r;for(let s of o){let a=e.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function E1(n,t){return P(this,null,function*(){let e=H(n),i=yield eh(e.localStore,t.query,!0),r=t.view.ba(i);return e.isPrimaryClient&&F_(e,t.targetId,r.wa),r})}function I1(n,t){return P(this,null,function*(){let e=H(n);return Nx(e.localStore,t).then(i=>xn(e,i))})}function C1(n,t,e,i){return P(this,null,function*(){let r=H(n),o=yield function(a,c){let d=H(a),h=H(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",m=>h.Mn(m,c).next(g=>g?d.localDocuments.getDocuments(m,g):k.resolve(null)))}(r.localStore,t);o!==null?(e==="pending"?yield Xs(r.remoteStore):e==="acknowledged"||e==="rejected"?(Cv(r,t,i||null),Iv(r,t),function(a,c){H(H(a).mutationQueue).On(c)}(r.localStore,t)):X(),yield xn(r,o)):L("SyncEngine","Cannot apply mutation batch with id: "+t)})}function x1(n,t){return P(this,null,function*(){let e=H(n);if(Sh(e),Tv(e),t===!0&&e.Qa!==!0){let i=e.sharedClientState.getAllActiveQueryTargets(),r=yield _C(e,i.toArray());e.Qa=!0,yield T_(e.remoteStore,!0);for(let o of r)Ah(e.remoteStore,o)}else if(t===!1&&e.Qa!==!1){let i=[],r=Promise.resolve();e.Ma.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>($s(e,s),Bs(e.localStore,s,!0))),zs(e.remoteStore,s)}),yield r,yield _C(e,i),function(s){let a=H(s);a.Na.forEach((c,d)=>{zs(a.remoteStore,d)}),a.La.pr(),a.Na=new Map,a.Oa=new Qt(W.comparator)}(e),e.Qa=!1,yield T_(e.remoteStore,!1)}})}function _C(n,t,e){return P(this,null,function*(){let i=H(n),r=[],o=[];for(let s of t){let a,c=i.Ma.get(s);if(c&&c.length!==0){a=yield Us(i.localStore,Je(c[0]));for(let d of c){let h=i.Fa.get(d),m=yield E1(i,h);m.snapshot&&o.push(m.snapshot)}}else{let d=yield Ox(i.localStore,s);a=yield Us(i.localStore,d),yield Ev(i,Wx(d),s,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(o),r})}function Wx(n){return WC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function T1(n){return function(e){return H(H(e).persistence).Qi()}(H(n).localStore)}function A1(n,t,e,i){return P(this,null,function*(){let r=H(n);if(r.Qa)return void L("SyncEngine","Ignoring unexpected query state notification.");let o=r.Ma.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{let s=yield Nx(r.localStore,QC(o[0])),a=Yl.createSynthesizedRemoteEventForCurrentChange(t,e==="current",me.EMPTY_BYTE_STRING);yield xn(r,s,a);break}case"rejected":yield Bs(r.localStore,t,!0),$s(r,t,i);break;default:X()}})}function S1(n,t,e){return P(this,null,function*(){let i=Sh(n);if(i.Qa){for(let r of t){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){L("SyncEngine","Adding an already active target "+r);continue}let o=yield Ox(i.localStore,r),s=yield Us(i.localStore,o);yield Ev(i,Wx(o),s.targetId,!1,s.resumeToken),Ah(i.remoteStore,s)}for(let r of e)i.Ma.has(r)&&(yield Bs(i.localStore,r,!1).then(()=>{zs(i.remoteStore,r),$s(i,r)}).catch(_r))}})}function Sh(n){let t=H(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=w1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=p1.bind(null,t),t.Ca.d_=l1.bind(null,t.eventManager),t.Ca.$a=c1.bind(null,t.eventManager),t}function Tv(n){let t=H(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=g1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_1.bind(null,t),t}function R1(n,t,e){let i=H(n);(function(o,s,a){return P(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(v,A){let D=H(v),T=fe(A.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",G=>D.Gr.getBundleMetadata(G,A.id)).then(G=>!!G&&G.createTime.compareTo(T)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(qx(c));let d=new P_(c,o.localStore,s.serializer),h=yield s.Ua();for(;h;){let g=yield d.la(h);g&&a._updateProgress(g),h=yield s.Ua()}let m=yield d.complete();return yield xn(o,m.Ia,void 0),yield function(v,A){let D=H(v);return D.persistence.runTransaction("Save bundle","readwrite",T=>D.Gr.saveBundleMetadata(T,A))}(o.localStore,c),a._completeWith(m.progress),Promise.resolve(m.Pa)}catch(c){return Mi("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var V_=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return P(this,null,function*(){this.serializer=hc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),yield this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)})}ja(e,i){return null}Ha(e,i){return null}za(e){return Dx(this.persistence,new th,e.initialUser,this.serializer)}Ga(e){return new Zu(Ju.Zr,this.serializer)}Wa(e){return new rh}terminate(){return P(this,null,function*(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var mh=class n extends V_{constructor(t,e,i){super(),this.Ja=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){return P(this,null,function*(){yield Qf(n.prototype,this,"initialize").call(this,t),yield this.Ja.initialize(this,t),yield Tv(this.Ja.syncEngine),yield Xs(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(t){return Dx(this.persistence,new th,t.initialUser,this.serializer)}ja(t,e){let i=this.persistence.referenceDelegate.garbageCollector;return new Zg(i,t.asyncQueue,e)}Ha(t,e){let i=new pg(e,this.persistence);return new mg(t.asyncQueue,i)}Ga(t){let e=pv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new f_(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Vx(),Au(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new rh}},L_=class n extends mh{constructor(t,e){super(t,e,!1),this.Ja=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){return P(this,null,function*(){yield Qf(n.prototype,this,"initialize").call(this,t);let e=this.Ja.syncEngine;this.sharedClientState instanceof Ul&&(this.sharedClientState.syncEngine={no:C1.bind(null,e),ro:A1.bind(null,e),io:S1.bind(null,e),Qi:T1.bind(null,e),eo:I1.bind(null,e)},yield this.sharedClientState.start()),yield this.persistence.yi(i=>P(this,null,function*(){yield x1(this.Ja.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}Wa(t){let e=Vx();if(!Ul.D(e))throw new F(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=pv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ul(e,t.asyncQueue,i,t.clientId,t.initialUser)}},Av=(()=>{class n{initialize(e,i){return P(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y1.bind(null,this.syncEngine),yield T_(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new R_}()}createDatastore(e){let i=hc(e.databaseInfo.databaseId),r=function(s){return new y_(s)}(e.databaseInfo);return function(s,a,c,d){return new I_(s,a,c,d)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,o,s,a,c){return new x_(r,o,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,i=>gC(this.syncEngine,i,0),function(){return oh.D()?new oh:new v_}())}createSyncEngine(e,i){return function(o,s,a,c,d,h,m){let g=new N_(o,s,a,c,d,h);return m&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return P(this,null,function*(){var e,i;yield function(o){return P(this,null,function*(){let s=H(o);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Ys(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();function vC(n,t=10240){let e=0;return{read(){return P(this,null,function*(){if(e<n.byteLength){let r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})},cancel(){return P(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Gs=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):ue("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}};var j_=class{constructor(t,e){this.Xa=t,this.serializer=e,this.metadata=new Ie,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){return P(this,null,function*(){return this.metadata.promise})}Ua(){return P(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return P(this,null,function*(){let t=yield this.nu();if(t===null)return null;let e=this.eu.decode(t),i=Number(e);isNaN(i)&&this.ru(`length string (${e}) is not valid number`);let r=yield this.iu(i);return new k_(JSON.parse(r),t.length+i)})}su(){return this.buffer.findIndex(t=>t===123)}nu(){return P(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let t=this.su();t<0&&this.ru("Reached the end of bundle when a length string is expected.");let e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e})}iu(t){return P(this,null,function*(){for(;this.buffer.length<t;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let e=this.eu.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e})}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){return P(this,null,function*(){let t=yield this.Xa.read();if(!t.done){let e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done})}};var U_=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new F(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let e=yield function(r,o){return P(this,null,function*(){let s=H(r),a={documents:o.map(m=>Zl(s.serializer,m))},c=yield s.Lo("BatchGetDocuments",s.serializer.databaseId,xt.emptyPath(),a,o.length),d=new Map;c.forEach(m=>{let g=OO(s.serializer,m);d.set(g.key.toString(),g)});let h=[];return o.forEach(m=>{let g=d.get(m.toString());tt(!!g),h.push(g)}),h})}(this.datastore,t);return e.forEach(i=>this.recordVersion(i)),e})}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new pr(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let t=this.readVersions;this.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((e,i)=>{let r=W.fromPath(i);this.mutations.push(new Wl(r,this.precondition(r)))}),yield function(i,r){return P(this,null,function*(){let o=H(i),s={writes:r.map(a=>Jl(o.serializer,a))};yield o.Mo("Commit",o.serializer.databaseId,xt.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw X();e=st.min()}let i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new F(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){let e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(st.min())?le.exists(!1):le.updateTime(e):le.none()}preconditionForUpdate(t){let e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(st.min()))throw new F(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return le.updateTime(e)}return le.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};var B_=class{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this._u=i.maxAttempts,this.t_=new nc(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>P(this,null,function*(){let t=new U_(this.datastore),e=this.cu(t);e&&e.then(i=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.lu(r)}))}).catch(i=>{this.lu(i)})}))}cu(t){try{let e=this.updateFunction(t);return!lc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if(t.name==="FirebaseError"){let e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!lx(e)}return!1}};var z_=class{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ve.UNAUTHENTICATED,this.clientId=Ru.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>P(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new Ie;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let i=Js(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}};function ng(n,t){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(r=>P(this,null,function*(){i.isEqual(r)||(yield kx(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t})}function bC(n,t){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let e=yield Sv(n);L("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>fC(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>fC(t.remoteStore,r)),n._onlineComponents=t})}function Sv(n){return P(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ng(n,n._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!function(r){return r.name==="FirebaseError"?r.code===O.FAILED_PRECONDITION||r.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Mi("Error using user provided cache. Falling back to memory cache: "+e),yield ng(n,new V_)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield ng(n,new V_);return n._offlineComponents})}function Rh(n){return P(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield bC(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield bC(n,new Av))),n._onlineComponents})}function Kx(n){return Sv(n).then(t=>t.persistence)}function Rv(n){return Sv(n).then(t=>t.localStore)}function Qx(n){return Rh(n).then(t=>t.remoteStore)}function Dv(n){return Rh(n).then(t=>t.syncEngine)}function D1(n){return Rh(n).then(t=>t.datastore)}function Hs(n){return P(this,null,function*(){let t=yield Rh(n),e=t.eventManager;return e.onListen=d1.bind(null,t.syncEngine),e.onUnlisten=h1.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=u1.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=f1.bind(null,t.syncEngine),e})}function k1(n){return n.asyncQueue.enqueue(()=>P(this,null,function*(){let t=yield Kx(n),e=yield Qx(n);return t.setNetworkEnabled(!0),function(r){let o=H(r);return o.L_.delete(0),fc(o)}(e)}))}function P1(n){return n.asyncQueue.enqueue(()=>P(this,null,function*(){let t=yield Kx(n),e=yield Qx(n);return t.setNetworkEnabled(!1),function(r){return P(this,null,function*(){let o=H(r);o.L_.add(0),yield Ys(o),o.q_.set("Offline")})}(e)}))}function M1(n,t){let e=new Ie;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(r,o,s){return P(this,null,function*(){try{let a=yield function(d,h){let m=H(d);return m.persistence.runTransaction("read document","readonly",g=>m.localDocuments.getDocument(g,h))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new F(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=Js(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield Rv(n),t,e)})),e.promise}function Yx(n,t,e={}){let i=new Ie;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(o,s,a,c,d){let h=new Gs({next:g=>{h.Za(),s.enqueueAndForget(()=>yv(o,m));let v=g.docs.has(a);!v&&g.fromCache?d.reject(new F(O.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&c.source==="server"?d.reject(new F(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new rc(Qs(a.path),h,{includeMetadataChanges:!0,_a:!0});return bv(o,m)}(yield Hs(n),n.asyncQueue,t,e,i)})),i.promise}function O1(n,t){let e=new Ie;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(r,o,s){return P(this,null,function*(){try{let a=yield eh(r,o,!0),c=new fh(o,a.Ts),d=c.ma(a.documents),h=c.applyChanges(d,!1);s.resolve(h.snapshot)}catch(a){let c=Js(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield Rv(n),t,e)})),e.promise}function Xx(n,t,e={}){let i=new Ie;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(o,s,a,c,d){let h=new Gs({next:g=>{h.Za(),s.enqueueAndForget(()=>yv(o,m)),g.fromCache&&c.source==="server"?d.reject(new F(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new rc(a,h,{includeMetadataChanges:!0,_a:!0});return bv(o,m)}(yield Hs(n),n.asyncQueue,t,e,i)})),i.promise}function N1(n,t){let e=new Gs(t);return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(r,o){H(r).Y_.add(o),o.next()}(yield Hs(n),e)})),()=>{e.Za(),n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(r,o){H(r).Y_.delete(o)}(yield Hs(n),e)}))}}function F1(n,t,e,i){let r=function(s,a){let c;return c=typeof s=="string"?dx().encode(s):s,function(h,m){return new j_(h,m)}(function(h,m){if(h instanceof Uint8Array)return vC(h,m);if(h instanceof ArrayBuffer)return vC(new Uint8Array(h),m);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(e,hc(t));n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){R1(yield Dv(n),r,i)}))}function V1(n,t){return n.asyncQueue.enqueue(()=>P(this,null,function*(){return function(i,r){let o=H(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,r))}(yield Rv(n),t)}))}function Zx(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var yC=new Map;function kv(n,t,e){if(!e)throw new F(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Pv(n,t,e,i){if(t===!0&&i===!0)throw new F(O.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function wC(n){if(!W.isDocumentKey(n))throw new F(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EC(n){if(W.isDocumentKey(n))throw new F(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":X()}function Tt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new F(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=Dh(n);throw new F(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Jx(n,t){if(t<=0)throw new F(O.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}var ph=class{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new F(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Pv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zx((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},ao=class{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ph({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new F(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ph(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new rg;switch(i.type){case"firstParty":return new lg(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let i=yC.get(e);i&&(L("ComponentProvider","Removing Datastore"),yC.delete(e),i.terminate())}(this),Promise.resolve()}};function tT(n,t,e,i={}){var r;let o=(n=Tt(n,ao))._getSettings(),s=`${t}:${e}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=ve.MOCK_USER;else{a=_d(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new F(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ve(d)}n._authCredentials=new og(new Su(a,c))}}var Me=class n{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},Wt=class n{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}},Qi=class n extends Me{constructor(t,e,i){super(t,e,Qs(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Wt(this.firestore,null,new W(t))}withConverter(t){return new n(this.firestore,t,this._path)}};function Mv(n,t,...e){if(n=Rt(n),kv("collection","path",t),n instanceof ao){let i=xt.fromString(t,...e);return EC(i),new Qi(n,null,i)}{if(!(n instanceof Wt||n instanceof Qi))throw new F(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(xt.fromString(t,...e));return EC(i),new Qi(n.firestore,null,i)}}function eT(n,t){if(n=Tt(n,ao),kv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new F(O.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Me(n,null,function(i){return new Oi(xt.emptyPath(),i)}(t))}function mc(n,t,...e){if(n=Rt(n),arguments.length===1&&(t=Ru.newId()),kv("doc","path",t),n instanceof ao){let i=xt.fromString(t,...e);return wC(i),new Wt(n,null,new W(i))}{if(!(n instanceof Wt||n instanceof Qi))throw new F(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(xt.fromString(t,...e));return wC(i),new Wt(n.firestore,n instanceof Qi?n.converter:null,new W(i))}}function Ov(n,t){return n=Rt(n),t=Rt(t),(n instanceof Wt||n instanceof Qi)&&(t instanceof Wt||t instanceof Qi)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Nv(n,t){return n=Rt(n),t=Rt(t),n instanceof Me&&t instanceof Me&&n.firestore===t.firestore&&dc(n._query,t._query)&&n.converter===t.converter}var gh=class{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nc(this,"async_queue_retry"),this.Vu=()=>{let i=Au();i&&L("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;let e=Au();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;let e=Au();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});let e=new Ie;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){return P(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!vr(t))throw t;L("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(t){let e=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw ue("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=e,e}enqueueAfterDelay(t,e,i){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);let r=A_.createAndSchedule(this,t,e,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&X()}verifyOperationInProgress(){}wu(){return P(this,null,function*(){let t;do t=this.mu,yield t;while(t!==this.mu)})}Su(t){for(let e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(let e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){let e=this.Tu.indexOf(t);this.Tu.splice(e,1)}};function q_(n){return function(e,i){if(typeof e!="object"||e===null)return!1;let r=e;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var $_=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ie,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}};var iT=-1,ee=class extends ao{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new gh,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new gh(t),this._firestoreClient=void 0,yield t}})}};function Oe(n){if(n._terminated)throw new F(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nT(n),n._firestoreClient}function nT(n){var t,e,i;let r=n._freezeSettings(),o=function(a,c,d,h){return new gg(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Zx(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new z_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function rT(n,t){Mi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();return sT(n,Av.provider,{build:i=>new mh(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function oT(n){return P(this,null,function*(){Mi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();sT(n,Av.provider,{build:e=>new L_(e,t.cacheSizeBytes)})})}function sT(n,t,e){if((n=Tt(n,ee))._firestoreClient||n._terminated)throw new F(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new F(O.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},nT(n)}function aT(n){if(n._initialized&&!n._terminated)throw new F(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let t=new Ie;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{yield function(i){return P(this,null,function*(){if(!lr.D())return Promise.resolve();let r=i+"main";yield lr.delete(r)})}(pv(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function lT(n){return function(e){let i=new Ie;return e.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return v1(yield Dv(e),i)})),i.promise}(Oe(n=Tt(n,ee)))}function cT(n){return k1(Oe(n=Tt(n,ee)))}function dT(n){return P1(Oe(n=Tt(n,ee)))}function uT(n,t){let e=Oe(n=Tt(n,ee)),i=new $_;return F1(e,n._databaseId,t,i),i}function hT(n,t){return V1(Oe(n=Tt(n,ee)),t).then(e=>e?new Me(n,null,e.query):null)}var Ji=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(me.fromBase64String(t))}catch(e){throw new F(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new n(me.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var Fi=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new F(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new he(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var In=class{constructor(t){this._methodName=t}};var lo=class{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new F(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new F(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ut(this._lat,t._lat)||ut(this._long,t._long)}};var oc=class{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}};var L1=/^__.*__$/,G_=class{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ni(t,this.data,this.fieldMask,e,this.fieldTransforms):new mr(t,this.data,e,this.fieldTransforms)}},_h=class{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ni(t,this.data,this.fieldMask,e,this.fieldTransforms)}};function fT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var vh=class n{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new n(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;let i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var e;let i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return bh(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(fT(this.Cu)&&L1.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}},H_=class{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||hc(t)}Qu(t,e,i,r=!1){return new vh({Cu:t,methodName:e,qu:i,path:he.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function fo(n){let t=n._freezeSettings(),e=hc(n._databaseId);return new H_(n._databaseId,!!t.ignoreUndefinedProperties,e)}function kh(n,t,e,i,r,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,t,e,r);Lv("Data must be an object, but it was:",s,i);let a=gT(i,s),c,d;if(o.merge)c=new fi(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let m of o.mergeFields){let g=X_(t,m,e);if(!s.contains(g))throw new F(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);vT(h,g)||h.push(g)}c=new fi(h),d=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=s.fieldTransforms;return new G_(new He(a),c,d)}var sc=class n extends In{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof n}};function mT(n,t,e){return new vh({Cu:3,qu:t.settings.qu,methodName:n._methodName,xu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var W_=class n extends In{_toFieldTransform(t){return new ro(t.path,new hr)}isEqual(t){return t instanceof n}},K_=class n extends In{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){let e=mT(this,t,!0),i=this.Ku.map(o=>mo(o,e)),r=new wn(i);return new ro(t.path,r)}isEqual(t){return t instanceof n&&hm(this.Ku,t.Ku)}},Q_=class n extends In{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){let e=mT(this,t,!0),i=this.Ku.map(o=>mo(o,e)),r=new En(i);return new ro(t.path,r)}isEqual(t){return t instanceof n&&hm(this.Ku,t.Ku)}},Y_=class n extends In{constructor(t,e){super(t),this.$u=e}_toFieldTransform(t){let e=new fr(t.serializer,ex(t.serializer,this.$u));return new ro(t.path,e)}isEqual(t){return t instanceof n&&this.$u===t.$u}};function Fv(n,t,e,i){let r=n.Qu(1,t,e);Lv("Data must be an object, but it was:",r,i);let o=[],s=He.empty();ho(i,(c,d)=>{let h=jv(t,c,e);d=Rt(d);let m=r.Nu(h);if(d instanceof sc)o.push(h);else{let g=mo(d,m);g!=null&&(o.push(h),s.set(h,g))}});let a=new fi(o);return new _h(s,a,r.fieldTransforms)}function Vv(n,t,e,i,r,o){let s=n.Qu(1,t,e),a=[X_(t,i,e)],c=[r];if(o.length%2!=0)throw new F(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(X_(t,o[g])),c.push(o[g+1]);let d=[],h=He.empty();for(let g=a.length-1;g>=0;--g)if(!vT(d,a[g])){let v=a[g],A=c[g];A=Rt(A);let D=s.Nu(v);if(A instanceof sc)d.push(v);else{let T=mo(A,D);T!=null&&(d.push(v),h.set(v,T))}}let m=new fi(d);return new _h(h,m,s.fieldTransforms)}function pT(n,t,e,i=!1){return mo(e,n.Qu(i?4:3,t))}function mo(n,t){if(_T(n=Rt(n)))return Lv("Unsupported field value:",t,n),gT(n,t);if(n instanceof In)return function(i,r){if(!fT(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=mo(a,r.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=Rt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ex(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=te.fromDate(i);return{timestampValue:Vs(r.serializer,o)}}if(i instanceof te){let o=new te(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vs(r.serializer,o)}}if(i instanceof lo)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ji)return{bytesValue:ux(r.serializer,i._byteString)};if(i instanceof Wt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof oc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return uv(a.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Dh(i)}`)}(n,t)}function gT(n,t){let e={};return VC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ho(n,(i,r)=>{let o=mo(r,t.Mu(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function _T(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof te||n instanceof lo||n instanceof Ji||n instanceof Wt||n instanceof In||n instanceof oc)}function Lv(n,t,e){if(!_T(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){let i=Dh(e);throw i==="an object"?t.Bu(n+" a custom object"):t.Bu(n+" "+i)}}function X_(n,t,e){if((t=Rt(t))instanceof Fi)return t._internalPath;if(typeof t=="string")return jv(n,t);throw bh("Field path arguments must be of type string or ",n,!1,void 0,e)}var j1=new RegExp("[~\\*/\\[\\]]");function jv(n,t,e){if(t.search(j1)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Fi(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function bh(n,t,e,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new F(O.INVALID_ARGUMENT,a+n+c)}function vT(n,t){return n.some(e=>e.isEqual(t))}var co=class{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Z_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(Ph("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},Z_=class extends co{data(){return super.data()}};function Ph(n,t){return typeof t=="string"?jv(n,t):t instanceof Fi?t._internalPath:t._delegate._internalPath}function bT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new F(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ac=class{},uo=class extends ac{};function Tn(n,t,...e){let i=[];t instanceof ac&&i.push(t),i=i.concat(e),function(o){let s=o.filter(c=>c instanceof J_).length,a=o.filter(c=>c instanceof yh).length;if(s>1||s>0&&a>0)throw new F(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var yh=class n extends uo{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new n(t,e,i)}_apply(t){let e=this._parse(t);return RT(t._query,e),new Me(t.firestore,t.converter,Rg(t._query,e))}_parse(t){let e=fo(t.firestore);return function(o,s,a,c,d,h,m){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){CC(m,h);let v=[];for(let A of m)v.push(IC(c,o,A));g={arrayValue:{values:v}}}else g=IC(c,o,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||CC(m,h),g=pT(a,s,m,h==="in"||h==="not-in");return Et.create(d,h,g)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}};function yT(n,t,e){let i=t,r=Ph("where",n);return yh._create(r,i,e)}var J_=class n extends ac{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new n(t,e)}_parse(t){let e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Vt.create(e,this._getOperator())}_apply(t){let e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)RT(s,c),s=Rg(s,c)}(t._query,e),new Me(t.firestore,t.converter,Rg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var tv=class n extends uo{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new n(t,e)}_apply(t){let e=function(r,o,s){if(r.startAt!==null)throw new F(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new F(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new io(o,s)}(t._query,this._field,this._direction);return new Me(t.firestore,t.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Oi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}};function wT(n,t="asc"){let e=t,i=Ph("orderBy",n);return tv._create(i,e)}var wh=class n extends uo{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new n(t,e,i)}_apply(t){return new Me(t.firestore,t.converter,ju(t._query,this._limit,this._limitType))}};function ET(n){return Jx("limit",n),wh._create("limit",n,"F")}function IT(n){return Jx("limitToLast",n),wh._create("limitToLast",n,"L")}var Eh=class n extends uo{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new n(t,e,i)}_apply(t){let e=ST(t,this.type,this._docOrFields,this._inclusive);return new Me(t.firestore,t.converter,function(r,o){return new Oi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(t._query,e))}};function CT(...n){return Eh._create("startAt",n,!0)}function xT(...n){return Eh._create("startAfter",n,!1)}var Ih=class n extends uo{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new n(t,e,i)}_apply(t){let e=ST(t,this.type,this._docOrFields,this._inclusive);return new Me(t.firestore,t.converter,function(r,o){return new Oi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(t._query,e))}};function TT(...n){return Ih._create("endBefore",n,!1)}function AT(...n){return Ih._create("endAt",n,!0)}function ST(n,t,e,i){if(e[0]=Rt(e[0]),e[0]instanceof co)return function(o,s,a,c,d){if(!c)throw new F(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let m of Rs(o))if(m.field.isKeyField())h.push(eo(s,c.key));else{let g=c.data.field(m.field);if(xh(g))throw new F(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let v=m.field.canonicalString();throw new F(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new Xi(h,d)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{let r=fo(n.firestore);return function(s,a,c,d,h,m){let g=s.explicitOrderBy;if(h.length>g.length)throw new F(O.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let v=[];for(let A=0;A<h.length;A++){let D=h[A];if(g[A].field.isKeyField()){if(typeof D!="string")throw new F(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof D}`);if(!cv(s)&&D.indexOf("/")!==-1)throw new F(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${D}' contains a slash.`);let T=s.path.child(xt.fromString(D));if(!W.isDocumentKey(T))throw new F(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);let G=new W(T);v.push(eo(a,G))}else{let T=pT(c,d,D);v.push(T)}}return new Xi(v,m)}(n._query,n.firestore._databaseId,r,t,e,i)}}function IC(n,t,e){if(typeof(e=Rt(e))=="string"){if(e==="")throw new F(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cv(t)&&e.indexOf("/")!==-1)throw new F(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);let i=t.path.child(xt.fromString(e));if(!W.isDocumentKey(i))throw new F(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return eo(n,new W(i))}if(e instanceof Wt)return eo(n,e._key);throw new F(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(e)}.`)}function CC(n,t){if(!Array.isArray(n)||n.length===0)throw new F(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function RT(n,t){let e=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new F(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}var Ws=class{convertValue(t,e="none"){switch(to(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw X()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let i={};return ho(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;let o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>Xt(s.doubleValue));return new oc(o)}convertGeoPoint(t){return new lo(Xt(t.latitude),Xt(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":let i=av(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp($l(t));default:return null}}convertTimestamp(t){let e=yn(t);return new te(e.seconds,e.nanos)}convertDocumentKey(t,e){let i=xt.fromString(t);tt(Ex(i));let r=new dr(i.get(1),i.get(3)),o=new W(i.popFirst(5));return r.isEqual(e)||ue(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}};function Mh(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}var ev=class extends Ws{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ji(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wt(this.firestore,null,e)}};var bn=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},wi=class extends co{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new sr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let i=this._document.data.field(Ph("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}},sr=class extends wi{data(t={}){return super.data(t)}},Vi=class{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new bn(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new sr(this._firestore,this._userDataWriter,i.key,i,new bn(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new F(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new sr(r._firestore,r._userDataWriter,a.doc.key,a.doc,new bn(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new sr(r._firestore,r._userDataWriter,a.doc.key,a.doc,new bn(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,h=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:U1(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}};function U1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function Uv(n,t){return n instanceof wi&&t instanceof wi?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(n._document===null?t._document===null:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Vi&&t instanceof Vi&&n._firestore===t._firestore&&Nv(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function DT(n){n=Tt(n,Wt);let t=Tt(n.firestore,ee);return Yx(Oe(t),n._key).then(e=>$v(t,n,e))}var Cn=class extends Ws{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ji(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wt(this.firestore,null,e)}};function kT(n){n=Tt(n,Wt);let t=Tt(n.firestore,ee),e=Oe(t),i=new Cn(t);return M1(e,n._key).then(r=>new wi(t,i,n._key,r,new bn(r!==null&&r.hasLocalMutations,!0),n.converter))}function PT(n){n=Tt(n,Wt);let t=Tt(n.firestore,ee);return Yx(Oe(t),n._key,{source:"server"}).then(e=>$v(t,n,e))}function MT(n){n=Tt(n,Me);let t=Tt(n.firestore,ee),e=Oe(t),i=new Cn(t);return bT(n._query),Xx(e,n._query).then(r=>new Vi(t,i,n,r))}function OT(n){n=Tt(n,Me);let t=Tt(n.firestore,ee),e=Oe(t),i=new Cn(t);return O1(e,n._query).then(r=>new Vi(t,i,n,r))}function NT(n){n=Tt(n,Me);let t=Tt(n.firestore,ee),e=Oe(t),i=new Cn(t);return Xx(e,n._query,{source:"server"}).then(r=>new Vi(t,i,n,r))}function Bv(n,t,e){n=Tt(n,Wt);let i=Tt(n.firestore,ee),r=Mh(n.converter,t,e);return ta(i,[kh(fo(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,le.none())])}function zv(n,t,e,...i){n=Tt(n,Wt);let r=Tt(n.firestore,ee),o=fo(r),s;return s=typeof(t=Rt(t))=="string"||t instanceof Fi?Vv(o,"updateDoc",n._key,t,e,i):Fv(o,"updateDoc",n._key,t),ta(r,[s.toMutation(n._key,le.exists(!0))])}function FT(n){return ta(Tt(n.firestore,ee),[new pr(n._key,le.none())])}function VT(n,t){let e=Tt(n.firestore,ee),i=mc(n),r=Mh(n.converter,t);return ta(e,[kh(fo(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,le.exists(!1))]).then(()=>i)}function qv(n,...t){var e,i,r;n=Rt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||q_(t[s])||(o=t[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(q_(t[s])){let m=t[s];t[s]=(e=m.next)===null||e===void 0?void 0:e.bind(m),t[s+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),t[s+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}let c,d,h;if(n instanceof Wt)d=Tt(n.firestore,ee),h=Qs(n._key.path),c={next:m=>{t[s]&&t[s]($v(d,n,m))},error:t[s+1],complete:t[s+2]};else{let m=Tt(n,Me);d=Tt(m.firestore,ee),h=m._query;let g=new Cn(d);c={next:v=>{t[s]&&t[s](new Vi(d,g,m,v))},error:t[s+1],complete:t[s+2]},bT(n._query)}return function(g,v,A,D){let T=new Gs(D),G=new rc(v,T,A);return g.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return bv(yield Hs(g),G)})),()=>{T.Za(),g.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return yv(yield Hs(g),G)}))}}(Oe(d),h,a,c)}function LT(n,t){return N1(Oe(n=Tt(n,ee)),q_(t)?t:{next:t})}function ta(n,t){return function(i,r){let o=new Ie;return i.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return m1(yield Dv(i),r,o)})),o.promise}(Oe(n),t)}function $v(n,t,e){let i=e.docs.get(t._key),r=new Cn(n);return new wi(n,r,t._key,i,new bn(e.hasPendingWrites,e.fromCache),t.converter)}var B1={maxAttempts:5};var Ch=class{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=fo(t)}set(t,e,i){this._verifyNotCommitted();let r=rr(t,this._firestore),o=Mh(r.converter,e,i),s=kh(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,le.none())),this}update(t,e,i,...r){this._verifyNotCommitted();let o=rr(t,this._firestore),s;return s=typeof(e=Rt(e))=="string"||e instanceof Fi?Vv(this._dataReader,"WriteBatch.update",o._key,e,i,r):Fv(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,le.exists(!0))),this}delete(t){this._verifyNotCommitted();let e=rr(t,this._firestore);return this._mutations=this._mutations.concat(new pr(e._key,le.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new F(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function rr(n,t){if((n=Rt(n)).firestore!==t)throw new F(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var iv=class extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=fo(e)}get(e){let i=rr(e,this._firestore),r=new ev(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return X();let s=o[0];if(s.isFoundDocument())return new co(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new co(this._firestore,r,i._key,null,i.converter);throw X()})}set(e,i,r){let o=rr(e,this._firestore),s=Mh(o.converter,i,r),a=kh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){let s=rr(e,this._firestore),a;return a=typeof(i=Rt(i))=="string"||i instanceof Fi?Vv(this._dataReader,"Transaction.update",s._key,i,r,o):Fv(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){let i=rr(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){let e=rr(t,this._firestore),i=new Cn(this._firestore);return super.get(t).then(r=>new wi(this._firestore,i,e._key,r._document,new bn(!1,!1),e.converter))}};function jT(n,t,e){n=Tt(n,ee);let i=Object.assign(Object.assign({},B1),e);return function(o){if(o.maxAttempts<1)throw new F(O.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){let c=new Ie;return o.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let d=yield D1(o);new B_(o.asyncQueue,d,a,s,c).au()})),c.promise}(Oe(n),r=>t(new iv(n,r)),i)}function UT(){return new sc("deleteField")}function BT(){return new W_("serverTimestamp")}function zT(...n){return new K_("arrayUnion",n)}function qT(...n){return new Q_("arrayRemove",n)}function $T(n){return new Y_("increment",n)}(function(t,e=!0){(function(r){Ks=r})(wd),Ur(new Ri("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new ee(new sg(i.getProvider("auth-internal")),new dg(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new F(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dr(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Di(EI,"4.7.3",t),Di(EI,"4.7.3","esm2017")})();var z1="@firebase/firestore-compat",q1="0.3.38";function Yv(n,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new F("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function GT(){if(typeof Uint8Array>"u")throw new F("unimplemented","Uint8Arrays are not available in this environment.")}function HT(){if(!LC())throw new F("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Oh=class n{constructor(t){this._delegate=t}static fromBase64String(t){return HT(),new n(Ji.fromBase64String(t))}static fromUint8Array(t){return GT(),new n(Ji.fromUint8Array(t))}toBase64(){return HT(),this._delegate.toBase64()}toUint8Array(){return GT(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function Gv(n){return $1(n,["next","error","complete"])}function $1(n,t){if(typeof n!="object"||n===null)return!1;let e=n;for(let i of t)if(i in e&&typeof e[i]=="function")return!0;return!1}var Hv=class{enableIndexedDbPersistence(t,e){return rT(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return oT(t._delegate)}clearIndexedDbPersistence(t){return aT(t._delegate)}},Nh=class{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof dr||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){let e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Mi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&(t=Object.assign(Object.assign({},e),t),delete t.merge),this._delegate._setSettings(t)}useEmulator(t,e,i={}){tT(this._delegate,t,e,i)}enableNetwork(){return cT(this._delegate)}disableNetwork(){return dT(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Pv("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return lT(this._delegate)}onSnapshotsInSync(t){return LT(this._delegate,t)}get app(){if(!this._appCompat)throw new F("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new na(this,Mv(this._delegate,t))}catch(e){throw ti(e,"collection()","Firestore.collection()")}}doc(t){try{return new tn(this,mc(this._delegate,t))}catch(e){throw ti(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new vo(this,eT(this._delegate,t))}catch(e){throw ti(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return jT(this._delegate,e=>t(new Fh(this,e)))}batch(){return Oe(this._delegate),new Vh(new Ch(this._delegate,t=>ta(this._delegate,t)))}loadBundle(t){return uT(this._delegate,t)}namedQuery(t){return hT(this._delegate,t).then(e=>e?new vo(this,e):null)}},ea=class extends Ws{constructor(t){super(),this.firestore=t}convertBytes(t){return new Oh(new Ji(t))}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return tn.forKey(e,this.firestore,null)}};function G1(n){xC(n)}var Fh=class{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ea(t)}get(t){let e=po(t);return this._delegate.get(e).then(i=>new go(this._firestore,new wi(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){let r=po(t);return i?(Yv("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){let o=po(t);return arguments.length===2?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){let e=po(t);return this._delegate.delete(e),this}},Vh=class{constructor(t){this._delegate=t}set(t,e,i){let r=po(t);return i?(Yv("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){let o=po(t);return arguments.length===2?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){let e=po(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}},ia=class n{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){let i=new sr(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new _o(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){let i=n.INSTANCES,r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new n(t,new ea(t),e),r.set(e,o)),o}};ia.INSTANCES=new WeakMap;var tn=class n{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ea(t)}static forPath(t,e,i){if(t.length%2!==0)throw new F("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new n(e,new Wt(e._delegate,i,new W(t)))}static forKey(t,e,i){return new n(e,new Wt(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new na(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new na(this.firestore,Mv(this._delegate,t))}catch(e){throw ti(e,"collection()","DocumentReference.collection()")}}isEqual(t){return t=Rt(t),t instanceof Wt?Ov(this._delegate,t):!1}set(t,e){e=Yv("DocumentReference.set",e);try{return e?Bv(this._delegate,t,e):Bv(this._delegate,t)}catch(i){throw ti(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return arguments.length===1?zv(this._delegate,t):zv(this._delegate,t,e,...i)}catch(r){throw ti(r,"updateDoc()","DocumentReference.update()")}}delete(){return FT(this._delegate)}onSnapshot(...t){let e=WT(t),i=KT(t,r=>new go(this.firestore,new wi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return qv(this._delegate,e,i)}get(t){let e;return t?.source==="cache"?e=kT(this._delegate):t?.source==="server"?e=PT(this._delegate):e=DT(this._delegate),e.then(i=>new go(this.firestore,new wi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new n(this.firestore,t?this._delegate.withConverter(ia.getInstance(this.firestore,t)):this._delegate.withConverter(null))}};function ti(n,t,e){return n.message=n.message.replace(t,e),n}function WT(n){for(let t of n)if(typeof t=="object"&&!Gv(t))return t;return{}}function KT(n,t){var e,i;let r;return Gv(n[0])?r=n[0]:Gv(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:(e=r.error)===null||e===void 0?void 0:e.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var go=class{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new tn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Uv(this._delegate,t._delegate)}},_o=class extends go{data(t){let e=this._delegate.data(t);return this._delegate._converter||TC(e!==void 0,"Document in a QueryDocumentSnapshot should exist"),e}},vo=class n{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ea(t)}where(t,e,i){try{return new n(this.firestore,Tn(this._delegate,yT(t,e,i)))}catch(r){throw ti(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new n(this.firestore,Tn(this._delegate,wT(t,e)))}catch(i){throw ti(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new n(this.firestore,Tn(this._delegate,ET(t)))}catch(e){throw ti(e,"limit()","Query.limit()")}}limitToLast(t){try{return new n(this.firestore,Tn(this._delegate,IT(t)))}catch(e){throw ti(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new n(this.firestore,Tn(this._delegate,CT(...t)))}catch(e){throw ti(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new n(this.firestore,Tn(this._delegate,xT(...t)))}catch(e){throw ti(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new n(this.firestore,Tn(this._delegate,TT(...t)))}catch(e){throw ti(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new n(this.firestore,Tn(this._delegate,AT(...t)))}catch(e){throw ti(e,"endAt()","Query.endAt()")}}isEqual(t){return Nv(this._delegate,t._delegate)}get(t){let e;return t?.source==="cache"?e=OT(this._delegate):t?.source==="server"?e=NT(this._delegate):e=MT(this._delegate),e.then(i=>new pc(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){let e=WT(t),i=KT(t,r=>new pc(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return qv(this._delegate,e,i)}withConverter(t){return new n(this.firestore,t?this._delegate.withConverter(ia.getInstance(this.firestore,t)):this._delegate.withConverter(null))}},Wv=class{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new _o(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},pc=class{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new vo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new _o(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Wv(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new _o(this._firestore,i))})}isEqual(t){return Uv(this._delegate,t._delegate)}},na=class n extends vo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let t=this._delegate.parent;return t?new tn(this.firestore,t):null}doc(t){try{return t===void 0?new tn(this.firestore,mc(this._delegate)):new tn(this.firestore,mc(this._delegate,t))}catch(e){throw ti(e,"doc()","CollectionReference.doc()")}}add(t){return VT(this._delegate,t).then(e=>new tn(this.firestore,e))}isEqual(t){return Ov(this._delegate,t._delegate)}withConverter(t){return new n(this.firestore,t?this._delegate.withConverter(ia.getInstance(this.firestore,t)):this._delegate.withConverter(null))}};function po(n){return Tt(n,Wt)}var Kv=class n{constructor(...t){this._delegate=new Fi(...t)}static documentId(){return new n(he.keyField().canonicalString())}isEqual(t){return t=Rt(t),t instanceof Fi?this._delegate._internalPath.isEqual(t._internalPath):!1}};var Qv=class n{constructor(t){this._delegate=t}static serverTimestamp(){let t=BT();return t._methodName="FieldValue.serverTimestamp",new n(t)}static delete(){let t=UT();return t._methodName="FieldValue.delete",new n(t)}static arrayUnion(...t){let e=zT(...t);return e._methodName="FieldValue.arrayUnion",new n(e)}static arrayRemove(...t){let e=qT(...t);return e._methodName="FieldValue.arrayRemove",new n(e)}static increment(t){let e=$T(t);return e._methodName="FieldValue.increment",new n(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}};var H1={Firestore:Nh,GeoPoint:lo,Timestamp:te,Blob:Oh,Transaction:Fh,WriteBatch:Vh,DocumentReference:tn,DocumentSnapshot:go,Query:vo,QueryDocumentSnapshot:_o,QuerySnapshot:pc,CollectionReference:na,FieldPath:Kv,FieldValue:Qv,setLogLevel:G1,CACHE_SIZE_UNLIMITED:iT};function W1(n,t){n.INTERNAL.registerComponent(new Ri("firestore-compat",e=>{let i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},H1)))}function K1(n){W1(n,(t,e)=>new Nh(t,e,new Hv)),n.registerVersion(z1,q1)}K1(Te);function Q1(n,t=Jc){return new Be(e=>{let i;return t!=null?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}function QT(n,t){return Q1(n,t)}function Y1(n,t){return QT(n,t).pipe(xe(void 0),Ua(),Y(e=>{let[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function Jv(n,t){return QT(n,t).pipe(Y(e=>({payload:e,type:"query"})))}var Lh=class{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){let i=this.ref.collection(t),{ref:r,query:o}=tA(i,e);return new Uh(r,o,this.afs)}snapshotChanges(){return Y1(this.ref,this.afs.schedulers.outsideAngular).pipe(Pe)}valueChanges(t={}){return this.snapshotChanges().pipe(Y(({payload:e})=>t.idField?bt(N({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Nt(this.ref.get(t)).pipe(Pe)}};function jh(n,t){return Jv(n,t).pipe(xe(void 0),Ua(),Y(e=>{let[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{let d=o.find(m=>m.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(m=>m.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function YT(n,t,e){return jh(n,e).pipe(Fo((i,r)=>X1(i,r.map(o=>o.payload),t),[]),Mr(),Y(i=>i.map(r=>({type:r.type,payload:r}))))}function X1(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=Z1(n,i))}),n}function Xv(n,t,e,...i){let r=n.slice();return r.splice(t,e,...i),r}function Z1(n,t){switch(t.type){case"added":if(!(n[t.newIndex]&&n[t.newIndex].doc.ref.isEqual(t.doc.ref)))return Xv(n,t.newIndex,0,t);break;case"modified":if(n[t.oldIndex]==null||n[t.oldIndex].doc.ref.isEqual(t.doc.ref))if(t.oldIndex!==t.newIndex){let e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}else return Xv(n,t.newIndex,1,t);break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Xv(n,t.oldIndex,1);break}return n}function XT(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var Uh=class{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=jh(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Y(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(xe(void 0),Ua(),kt(([i,r])=>r.length>0||!i),Y(([,i])=>i),Pe)}auditTrail(t){return this.stateChanges(t).pipe(Fo((e,i)=>[...e,...i],[]))}snapshotChanges(t){let e=XT(t);return YT(this.query,e,this.afs.schedulers.outsideAngular).pipe(Pe)}valueChanges(t={}){return Jv(this.query,this.afs.schedulers.outsideAngular).pipe(Y(e=>e.payload.docs.map(i=>t.idField?bt(N({},i.data()),{[t.idField]:i.id}):i.data())),Pe)}get(t){return Nt(this.query.get(t)).pipe(Pe)}add(t){return this.ref.add(t)}doc(t){return new Lh(this.ref.doc(t),this.afs)}},Zv=class{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return!t||t.length===0?jh(this.query,this.afs.schedulers.outsideAngular).pipe(Pe):jh(this.query,this.afs.schedulers.outsideAngular).pipe(Y(e=>e.filter(i=>t.indexOf(i.type)>-1)),kt(e=>e.length>0),Pe)}auditTrail(t){return this.stateChanges(t).pipe(Fo((e,i)=>[...e,...i],[]))}snapshotChanges(t){let e=XT(t);return YT(this.query,e,this.afs.schedulers.outsideAngular).pipe(Pe)}valueChanges(t={}){return Jv(this.query,this.afs.schedulers.outsideAngular).pipe(Y(i=>i.payload.docs.map(r=>t.idField?N({[t.idField]:r.id},r.data()):r.data())),Pe)}get(t){return Nt(this.query.get(t)).pipe(Pe)}},ZT=new B("angularfire2.enableFirestorePersistence"),JT=new B("angularfire2.firestore.persistenceSettings"),J1=new B("angularfire2.firestore.settings"),tN=new B("angularfire2.firestore.use-emulator");function tA(n,t=e=>e){return{query:t(n),ref:n}}var gc=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,c,d,h,m,g,v,A,D,T,G,Q){this.schedulers=c;let j=Gr(e,a,i),Z=h;m&&Hp(j,a,g,A,D,T,v,G),[this.firestore,this.persistenceEnabled$]=gs(`${j.name}.firestore`,"AngularFirestore",j.name,()=>{let at=a.runOutsideAngular(()=>j.firestore());if(o&&at.settings(o),Z&&at.useEmulator(...Z),r&&!jr(s)){let lt=()=>{try{return Nt(at.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(w){return typeof console<"u"&&console.warn(w),K(!1)}};return[at,a.runOutsideAngular(lt)]}else return[at,K(!1)]},[o,Z,r])}collection(e,i){let r;typeof e=="string"?r=this.firestore.collection(e):r=e;let{ref:o,query:s}=tA(r,i),a=this.schedulers.ngZone.run(()=>o);return new Uh(a,s,this)}collectionGroup(e,i){let r=i||(s=>s),o=this.firestore.collectionGroup(e);return new Zv(r(o),this)}doc(e){let i;typeof e=="string"?i=this.firestore.doc(e):i=e;let r=this.schedulers.ngZone.run(()=>i);return new Lh(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(I(Zn),I(Jn,8),I(ZT,8),I(J1,8),I(Xe),I(et),I(ps),I(JT,8),I(tN,8),I(pu,8),I(Up,8),I(Bp,8),I(zp,8),I(qp,8),I($p,8),I(Gp,8),I(gn,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),eA=(()=>{class n{constructor(){Te.registerVersion("angularfire",Yn.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:ZT,useValue:!0},{provide:JT,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=rt({type:n});static \u0275inj=nt({providers:[gc]})}return n})();var eb;try{eb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{eb=!1}var Bt=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?aw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||eb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(I(Xe))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _c;function eN(){if(_c==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_c=!0}))}finally{_c=_c||!1}return _c}function yr(n){return eN()?n:!!n.capture}var bo;function nA(){if(bo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return bo=!1,bo;if("scrollBehavior"in document.documentElement.style)bo=!0;else{let n=Element.prototype.scrollTo;n?bo=!/\{\s*\[native code\]\s*\}/.test(n.toString()):bo=!1}}return bo}var tb;function iN(){if(tb==null){let n=typeof document<"u"?document.head:null;tb=!!(n&&(n.createShadowRoot||n.attachShadow))}return tb}function rA(n){if(iN()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function vc(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function mi(n){return n.composedPath?n.composedPath()[0]:n.target}function bc(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ei(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ra(n){return n!=null&&`${n}`!="false"}function Er(n,t=0){return nN(n)?Number(n):arguments.length===2?t:0}function nN(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function oa(n){return Array.isArray(n)?n:[n]}function pe(n){return n==null?"":typeof n=="string"?n:`${n}px`}function An(n){return n instanceof ht?n.nativeElement:n}var rN=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Bh=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[rN]})}}return n})();var oA=new Set,yo,oN=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):aN}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&sN(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(I(Bt),I(qa,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sN(n,t){if(!oA.has(n))try{yo||(yo=document.createElement("style"),t&&yo.setAttribute("nonce",t),yo.setAttribute("type","text/css"),document.head.appendChild(yo)),yo.sheet&&(yo.sheet.insertRule(`@media ${n} {body{ }}`,0),oA.add(n))}catch(e){console.error(e)}}function aN(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var aA=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new it}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return sA(oa(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=sA(oa(e)).map(s=>this._registerQuery(s).observable),o=Oo(r);return o=td(o.pipe(Re(1)),o.pipe(id(1),No(0))),o.pipe(Y(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new Be(s=>{let a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(xe(i),Y(({matches:s})=>({query:e,matches:s})),Ft(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static{this.\u0275fac=function(i){return new(i||n)(I(oN),I(et))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sA(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var hA=" ";function ub(n,t,e){let i=Gh(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(hA)))}function Qh(n,t,e){let i=Gh(n,t);e=e.trim();let r=i.filter(o=>o!==e);r.length?n.setAttribute(t,r.join(hA)):n.removeAttribute(t)}function Gh(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var fA="cdk-describedby-message",zh="cdk-describedby-host",rb=0,mA=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${rb++}`,this._document=e,this._id=z(jo)+"-"+rb++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;let o=ib(i,r);typeof i!="string"?(lA(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;let o=ib(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof i=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${zh}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(zh);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let r=this._document.createElement("div");lA(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(ib(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let i=Gh(e,"aria-describedby").filter(r=>r.indexOf(fA)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let r=this._messageRegistry.get(i);ub(e,"aria-describedby",r.messageElement.id),e.setAttribute(zh,this._id),r.referenceCount++}_removeMessageReference(e,i){let r=this._messageRegistry.get(i);r.referenceCount--,Qh(e,"aria-describedby",r.messageElement.id),e.removeAttribute(zh)}_isElementDescribedByMessage(e,i){let r=Gh(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(i){return new(i||n)(I(ct),I(Bt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ib(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function lA(n,t){n.id||(n.id=`${fA}-${t}-${rb++}`)}var wN=200,ob=class{constructor(t,e){this._letterKeyStream=new it,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new it,this.selectedItem=this._selectedItem;let i=typeof e?.debounceInterval=="number"?e.debounceInterval:wN;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Ht(e=>this._pressedLetters.push(e)),No(t),kt(()=>this._pressedLetters.length>0),Y(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},sb=class{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=Ue.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new it,this.change=new it,t instanceof nm?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):rm(t)&&(this._effectRef=X0(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new ob(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||ei(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),r=e[i];this._activeItem=r??null,this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex+t*i+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return rm(this._items)?this._items():this._items instanceof nm?this._items.toArray():this._items}_itemsChanged(t){if(this._typeahead?.setItems(t),this._activeItem){let e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e,this._typeahead?.setCurrentSelectedItemIndex(e))}}},Hh=class extends sb{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var yc=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return IN(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=EN(kN(e));if(i&&(cA(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=cA(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!RN(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return DN(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||n)(I(Bt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function EN(n){try{return n.frameElement}catch{return null}}function IN(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function CN(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function xN(n){return AN(n)&&n.type=="hidden"}function TN(n){return SN(n)&&n.hasAttribute("href")}function AN(n){return n.nodeName.toLowerCase()=="input"}function SN(n){return n.nodeName.toLowerCase()=="a"}function pA(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function cA(n){if(!pA(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function RN(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function DN(n){return xN(n)?!1:CN(n)||TN(n)||n.hasAttribute("contenteditable")||pA(n)}function kN(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var ab=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1,s){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Bi(t,{injector:this._injector}):setTimeout(t)}},Yh=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._injector=z(se),this._document=r}create(e,i=!1){return new ab(e,this._checker,this._ngZone,this._document,i,this._injector)}static{this.\u0275fac=function(i){return new(i||n)(I(yc),I(et),I(ct))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hb(n){return n.buttons===0||n.detail===0}function fb(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var PN=new B("cdk-input-modality-detector-options"),MN={ignoreKeys:[18,17,224,91,16]},gA=650,sa=yr({passive:!0,capture:!0}),ON=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new ni(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=mi(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<gA||(this._modality.next(hb(s)?"keyboard":"mouse"),this._mostRecentTarget=mi(s))},this._onTouchstart=s=>{if(fb(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=mi(s)},this._options=N(N({},MN),o),this.modalityDetected=this._modality.pipe(id(1)),this.modalityChanged=this.modalityDetected.pipe(Mr()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,sa),r.addEventListener("mousedown",this._onMousedown,sa),r.addEventListener("touchstart",this._onTouchstart,sa)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sa),document.removeEventListener("mousedown",this._onMousedown,sa),document.removeEventListener("touchstart",this._onTouchstart,sa))}static{this.\u0275fac=function(i){return new(i||n)(I(Bt),I(et),I(ct),I(PN,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NN=new B("liveAnnouncerElement",{providedIn:"root",factory:FN});function FN(){return null}var VN=new B("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),LN=0,_A=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,o,s;return i.length===1&&typeof i[0]=="number"?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${LN++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||n)(I(NN,8),I(et),I(ct),I(VN,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $h=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}($h||{}),jN=new B("cdk-focus-monitor-default-options"),qh=yr({passive:!0,capture:!0}),Ir=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new it,this._rootNodeFocusAndBlurListener=a=>{let c=mi(a);for(let d=c;d;d=d.parentElement)a.type==="focus"?this._onFocus(a,d):this._onBlur(a,d)},this._document=o,this._detectionMode=s?.detectionMode||$h.IMMEDIATE}monitor(e,i=!1){let r=An(e);if(!this._platform.isBrowser||r.nodeType!==1)return K();let o=rA(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new it,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let i=An(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=An(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===$h.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===$h.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?gA:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=mi(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,qh),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,qh)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ft(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qh),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qh),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||n)(I(et),I(Bt),I(ON),I(ct,8),I(jN,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var wo=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(wo||{}),dA="cdk-high-contrast-black-on-white",uA="cdk-high-contrast-white-on-black",nb="cdk-high-contrast-active",mb=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=z(aA).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return wo.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return wo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return wo.BLACK_ON_WHITE}return wo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(nb,dA,uA),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===wo.BLACK_ON_WHITE?e.add(nb,dA):i===wo.WHITE_ON_BLACK&&e.add(nb,uA)}}static{this.\u0275fac=function(i){return new(i||n)(I(Bt),I(ct))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xh=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(I(mb))}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[Bh]})}}return n})();var UN=new B("cdk-dir-doc",{providedIn:"root",factory:BN});function BN(){return z(ct)}var zN=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function qN(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?zN.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ei=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new wt,e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=qN(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(I(UN,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Cr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({})}}return n})();var $N=["text"],GN=[[["mat-icon"]],"*"],HN=["mat-icon","*"];function WN(n,t){if(n&1&&pt(0,"mat-pseudo-checkbox",1),n&2){let e=yt();ft("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function KN(n,t){if(n&1&&pt(0,"mat-pseudo-checkbox",3),n&2){let e=yt();ft("disabled",e.disabled)}}function QN(n,t){if(n&1&&(V(0,"span",4),ot(1),U()),n&2){let e=yt();J(),Vr("(",e.group.label,")")}}function YN(){return!0}var XN=new B("mat-sanity-checks",{providedIn:"root",factory:YN}),ce=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return bc()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(i){return new(i||n)(I(mb),I(XN,8),I(ct))}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[Cr,Cr]})}}return n})();var tf=class{constructor(t,e,i,r,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var TA=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ii=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Ii||{}),_b=class{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Ii.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},vA=yr({passive:!0,capture:!0}),vb=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=mi(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){let o=this._events.get(e);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,vA)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,vA)))}},bA={enterDuration:225,exitDuration:150},ZN=800,yA=yr({passive:!0,capture:!0}),wA=["mousedown","touchstart"],EA=["mouseup","mouseleave","touchend","touchcancel"],bb=class n{static{this._eventManager=new vb}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=An(i))}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=N(N({},bA),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let s=i.radius||JN(t,e,r),a=t-r.left,c=e-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-s}px`,h.style.top=`${c-s}px`,h.style.height=`${s*2}px`,h.style.width=`${s*2}px`,i.color!=null&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);let m=window.getComputedStyle(h),g=m.transitionProperty,v=m.transitionDuration,A=g==="none"||v==="0s"||v==="0s, 0s"||r.width===0&&r.height===0,D=new _b(this,h,i,A);h.style.transform="scale3d(1, 1, 1)",D.state=Ii.FADING_IN,i.persistent||(this._mostRecentTransientRipple=D);let T=null;return!A&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let G=()=>{T&&(T.fallbackTimer=null),clearTimeout(j),this._finishRippleTransition(D)},Q=()=>this._destroyRipple(D),j=setTimeout(Q,d+100);h.addEventListener("transitionend",G),h.addEventListener("transitioncancel",Q),T={onTransitionEnd:G,onTransitionCancel:Q,fallbackTimer:j}}),this._activeRipples.set(D,T),(A||!d)&&this._finishRippleTransition(D),D}fadeOutRipple(t){if(t.state===Ii.FADING_OUT||t.state===Ii.HIDDEN)return;let e=t.element,i=N(N({},bA),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Ii.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=An(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,wA.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{EA.forEach(e=>{this._triggerElement.addEventListener(e,this,yA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Ii.FADING_IN?this._startFadeOutTransition(t):t.state===Ii.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Ii.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Ii.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=hb(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ZN;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!fb(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Ii.VISIBLE||t.config.terminateOnPointerUp&&t.state===Ii.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(wA.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(EA.forEach(e=>t.removeEventListener(e,this,yA)),this._pointerUpEventsRegistered=!1))}};function JN(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var AA=new B("mat-ripple-global-options"),SA=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new bb(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:N(N(N({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,N(N({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,N(N({},this.rippleConfig),e))}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R(et),R(Bt),R(AA,8),R(De,8))}}static{this.\u0275dir=dt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&qt("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),wb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[ce,ce]})}}return n})(),tF=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||n)(R(De,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&qt("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Jt],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return n})(),eF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[ce]})}}return n})(),Eb=new B("MAT_OPTION_PARENT_COMPONENT");var Ib=new B("MatOptgroup");var iF=0,yb=class{constructor(t,e=!1){this.source=t,this.isUserInput=e}},rf=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${iF++}`,this.onSelectionChange=new wt,this._stateChanges=new it}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!ei(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new yb(this,e))}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R(Ee),R(Eb,8),R(Ib,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&de($N,7),i&2){let o;Pt(o=Mt())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&_t("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),i&2&&(Ho("id",r.id),Ut("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),qt("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Dt]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[ze,Jt],ngContentSelectors:HN,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(_i(GN),vt(0,WN,1,2,"mat-pseudo-checkbox",1),ae(1),V(2,"span",2,0),ae(4,1),U(),vt(5,KN,1,1,"mat-pseudo-checkbox",3)(6,QN,2,1,"span",4),pt(7,"div",5)),i&2&&($t(r.multiple?0:-1),J(5),$t(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),J(),$t(r.group&&r.group._inert?6:-1),J(),ft("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[tF,SA],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();function RA(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function DA(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}var Cb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[wb,ce,eF]})}}return n})(),IA={capture:!0},CA=["focus","mousedown","mouseenter","touchstart"],pb="mat-ripple-loader-uninitialized",gb="mat-ripple-loader-class-name",xA="mat-ripple-loader-centered",Jh="mat-ripple-loader-disabled",kA=(()=>{class n{constructor(){this._document=z(ct,{optional:!0}),this._animationMode=z(De,{optional:!0}),this._globalRippleOptions=z(AA,{optional:!0}),this._platform=z(Bt),this._ngZone=z(et),this._hosts=new Map,this._onInteraction=e=>{let i=mi(e);if(i instanceof HTMLElement){let r=i.closest(`[${pb}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(let e of CA)this._document?.addEventListener(e,this._onInteraction,IA)})}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);for(let i of CA)this._document?.removeEventListener(i,this._onInteraction,IA)}configureRipple(e,i){e.setAttribute(pb,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(gb))&&e.setAttribute(gb,i.className||""),i.centered&&e.setAttribute(xA,""),i.disabled&&e.setAttribute(Jh,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){let r=this._hosts.get(e);if(r){r.disabled=i;return}i?e.setAttribute(Jh,""):e.removeAttribute(Jh)}_createRipple(e){if(!this._document)return;let i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(gb)),e.append(r);let o=new SA(new ht(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(xA),o.disabled=e.hasAttribute(Jh),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(pb),this._hosts.set(e,i)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var rF=["*"],of;function oF(){if(of===void 0&&(of=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(of=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return of}function Ec(n){return oF()?.createHTML(n)||n}function PA(n){return Error(`Unable to find icon with the name "${n}"`)}function sF(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function MA(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function OA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Sn=class{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},aF=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Sn(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){let s=this._sanitizer.sanitize(li.HTML,r);if(!s)throw OA(r);let a=Ec(s);return this._addSvgIconConfig(e,i,new Sn("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Sn(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let o=this._sanitizer.sanitize(li.HTML,i);if(!o)throw OA(i);let s=Ec(o);return this._addSvgIconSetConfig(e,new Sn("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(li.RESOURCE_URL,e);if(!i)throw MA(e);let r=this._cachedIconsByUrl.get(i);return r?K(sf(r)):this._loadSvgIconFromConfig(new Sn(e,null)).pipe(Ht(o=>this._cachedIconsByUrl.set(i,o)),Y(o=>sf(o)))}getNamedSvgIcon(e,i=""){let r=NA(i,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Pr(PA(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?K(sf(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Y(i=>sf(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return K(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Fn(a=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(li.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),K(null)})));return ed(o).pipe(Y(()=>{let s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw PA(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ht(i=>e.svgText=i),Y(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?K(null):this._fetchIcon(e).pipe(Ht(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let o=e.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(Ec("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(Ec("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw sF();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(li.RESOURCE_URL,i);if(!s)throw MA(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Y(d=>Ec(d)),Or(()=>this._inProgressUrlFetches.delete(s)),b0());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(NA(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,e);if(o)return lF(o)?new Sn(o.url,null,o.options):new Sn(o,null)}}static{this.\u0275fac=function(i){return new(i||n)(I(yw,8),I(Am),I(ct,8),I(Fr))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sf(n){return n.cloneNode(!0)}function NA(n,t){return n+":"+t}function lF(n){return!!(n.url&&n.options)}var cF=new B("MAT_ICON_DEFAULT_OPTIONS"),dF=new B("mat-icon-location",{providedIn:"root",factory:uF});function uF(){let n=z(ct),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var FA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],hF=FA.map(n=>`[${n}]`).join(", "),fF=/^url\(['"]?#(.*?)['"]?\)$/,VA=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){this._elementRef=e,this._iconRegistry=i,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ue.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(hF),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)FA.forEach(s=>{let a=i[o],c=a.getAttribute(s),d=c?c.match(fF):null;if(d){let h=r.get(a);h||(h=[],r.set(a,h)),h.push({name:s,value:d[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Re(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R(aF),Lo("aria-hidden"),R(dF),R(Fr),R(cF,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Ut("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),ad(r.color?"mat-"+r.color:""),qt("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Dt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[ze,Jt],ngContentSelectors:rF,decls:1,vars:0,template:function(i,r){i&1&&(_i(),ae(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),xb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[ce,ce]})}}return n})();var HA="firebasestorage.googleapis.com",WA="storageBucket",pF=2*60*1e3,gF=10*60*1e3,_F=1e3;var ie=class n extends bd{constructor(t,e,i=0){super(Tb(t),`Firebase Storage: ${e} (${Tb(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Tb(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Zt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Zt||{});function Tb(n){return"storage/"+n}function Ob(){let n="An unknown error occurred, please check the error payload for server response.";return new ie(Zt.UNKNOWN,n)}function vF(n){return new ie(Zt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function bF(n){return new ie(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yF(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ie(Zt.UNAUTHENTICATED,n)}function wF(){return new ie(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EF(n){return new ie(Zt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function KA(){return new ie(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QA(){return new ie(Zt.CANCELED,"User canceled the upload/download.")}function IF(n){return new ie(Zt.INVALID_URL,"Invalid URL '"+n+"'.")}function CF(n){return new ie(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function xF(){return new ie(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WA+"' property when initializing the app?")}function YA(){return new ie(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function TF(){return new ie(Zt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function AF(){return new ie(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function SF(n){return new ie(Zt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Eo(n){return new ie(Zt.INVALID_ARGUMENT,n)}function XA(){return new ie(Zt.APP_DELETED,"The Firebase app was deleted.")}function Nb(n){return new ie(Zt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cc(n,t){return new ie(Zt.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Ic(n){throw new ie(Zt.INTERNAL_ERROR,"Internal error: "+n)}var ii=class n{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=n.makeFromUrl(t,e)}catch{return new n(t,"")}if(i.path==="")return i;throw CF(t)}static makeFromUrl(t,e){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function d(Z){Z.path_=decodeURIComponent(Z.path)}let h="v[A-Za-z0-9_]+",m=e.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${h}/b/${r}/o${g}`,"i"),A={bucket:1,path:3},D=e===HA?"(?:storage.googleapis.com|storage.cloud.google.com)":e,T="([^?#]*)",G=new RegExp(`^https?://${D}/${r}/${T}`,"i"),j=[{regex:a,indices:c,postModify:o},{regex:v,indices:A,postModify:d},{regex:G,indices:{bucket:1,path:2},postModify:d}];for(let Z=0;Z<j.length;Z++){let at=j[Z],lt=at.regex.exec(t);if(lt){let w=lt[at.indices.bucket],_=lt[at.indices.path];_||(_=""),i=new n(w,_),at.postModify(i);break}}if(i==null)throw IF(t);return i}},Sb=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function RF(n,t,e){let i=1,r=null,o=null,s=!1,a=0;function c(){return a===2}let d=!1;function h(...T){d||(d=!0,t.apply(null,T))}function m(T){r=setTimeout(()=>{r=null,n(v,c())},T)}function g(){o&&clearTimeout(o)}function v(T,...G){if(d){g();return}if(T){g(),h.call(null,T,...G);return}if(c()||s){g(),h.call(null,T,...G);return}i<64&&(i*=2);let j;a===1?(a=2,j=0):j=(i+Math.random())*1e3,m(j)}let A=!1;function D(T){A||(A=!0,g(),!d&&(r!==null?(T||(a=2),clearTimeout(r),m(0)):T||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,D(!0)},e),D}function DF(n){n(!1)}function kF(n){return n!==void 0}function PF(n){return typeof n=="function"}function MF(n){return typeof n=="object"&&!Array.isArray(n)}function cf(n){return typeof n=="string"||n instanceof String}function LA(n){return Fb()&&n instanceof Blob}function Fb(){return typeof Blob<"u"}function Rb(n,t,e,i){if(i<t)throw Eo(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Eo(`Invalid value for '${n}'. Expected ${e} or less.`)}function xr(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function ZA(n){let t=encodeURIComponent,e="?";for(let i in n)if(n.hasOwnProperty(i)){let r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var ca=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ca||{});function JA(n,t){let e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}var Db=class{constructor(t,e,i,r,o,s,a,c,d,h,m,g=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,A)=>{this.resolve_=v,this.reject_=A,this.start_()})}start_(){let t=(i,r)=>{if(r){i(!1,new la(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===ca.NO_ERROR,c=o.getStatus();if(!a||JA(c,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===ca.ABORT;i(!1,new la(!1,null,h));return}let d=this.successCodes_.indexOf(c)!==-1;i(!0,new la(d,o))})},e=(i,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());kF(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=Ob();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(r.canceled){let c=this.appDelete_?XA():QA();s(c)}else{let c=KA();s(c)}};this.canceled_?e(!1,new la(!1,null,!0)):this.backoffId_=RF(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&DF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},la=class{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}};function OF(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function NF(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function FF(n,t){t&&(n["X-Firebase-GMPID"]=t)}function VF(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function LF(n,t,e,i,r,o,s=!0){let a=ZA(n.urlParams),c=n.url+a,d=Object.assign({},n.headers);return FF(d,t),OF(d,e),NF(d,o),VF(d,i),new Db(c,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}function jF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function UF(...n){let t=jF();if(t!==void 0){let e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(Fb())return new Blob(n);throw new ie(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function BF(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}function zF(n){if(typeof atob>"u")throw SF("base-64");return atob(n)}var pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},xc=class{constructor(t,e){this.data=t,this.contentType=e||null}};function Vb(n,t){switch(n){case pi.RAW:return new xc(tS(t));case pi.BASE64:case pi.BASE64URL:return new xc(eS(n,t));case pi.DATA_URL:return new xc($F(t),GF(t))}throw Ob()}function tS(n){let t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{let o=i,s=n.charCodeAt(++e);i=65536|(o&1023)<<10|s&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function qF(n){let t;try{t=decodeURIComponent(n)}catch{throw Cc(pi.DATA_URL,"Malformed data URL.")}return tS(t)}function eS(n,t){switch(n){case pi.BASE64:{let r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw Cc(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{let r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw Cc(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=zF(t)}catch(r){throw r.message.includes("polyfill")?r:Cc(n,"Invalid character found")}let i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}var lf=class{constructor(t){this.base64=!1,this.contentType=null;let e=t.match(/^data:([^,]+)?,/);if(e===null)throw Cc(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=e[1]||null;i!=null&&(this.base64=HF(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}};function $F(n){let t=new lf(n);return t.base64?eS(pi.BASE64,t.rest):qF(t.rest)}function GF(n){return new lf(n).contentType}function HF(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}var da=class n{constructor(t,e){let i=0,r="";LA(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(LA(this.data_)){let i=this.data_,r=BF(i,t,e);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,t,e-t);return new n(i,!0)}}static getBlob(...t){if(Fb()){let e=t.map(i=>i instanceof n?i.data_:i);return new n(UF.apply(null,e))}else{let e=t.map(s=>cf(s)?Vb(pi.RAW,s).data:s.data_),i=0;e.forEach(s=>{i+=s.byteLength});let r=new Uint8Array(i),o=0;return e.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new n(r,!0)}}uploadData(){return this.data_}};function Lb(n){let t;try{t=JSON.parse(n)}catch{return null}return MF(t)?t:null}function WF(n){if(n.length===0)return null;let t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function KF(n,t){let e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function iS(n){let t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function QF(n,t){return t}var Ne=class{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||QF}},af=null;function YF(n){return!cf(n)||n.length<2?n:iS(n)}function df(){if(af)return af;let n=[];n.push(new Ne("bucket")),n.push(new Ne("generation")),n.push(new Ne("metageneration")),n.push(new Ne("name","fullPath",!0));function t(o,s){return YF(s)}let e=new Ne("name");e.xform=t,n.push(e);function i(o,s){return s!==void 0?Number(s):s}let r=new Ne("size");return r.xform=i,n.push(r),n.push(new Ne("timeCreated")),n.push(new Ne("updated")),n.push(new Ne("md5Hash",null,!0)),n.push(new Ne("cacheControl",null,!0)),n.push(new Ne("contentDisposition",null,!0)),n.push(new Ne("contentEncoding",null,!0)),n.push(new Ne("contentLanguage",null,!0)),n.push(new Ne("contentType",null,!0)),n.push(new Ne("metadata","customMetadata",!0)),af=n,af}function XF(n,t){function e(){let i=n.bucket,r=n.fullPath,o=new ii(i,r);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function ZF(n,t,e){let i={};i.type="file";let r=e.length;for(let o=0;o<r;o++){let s=e[o];i[s.local]=s.xform(i,t[s.server])}return XF(i,n),i}function nS(n,t,e){let i=Lb(t);return i===null?null:ZF(n,i,e)}function JF(n,t,e,i){let r=Lb(t);if(r===null||!cf(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let h=n.bucket,m=n.fullPath,g="/b/"+s(h)+"/o/"+s(m),v=xr(g,e,i),A=ZA({alt:"media",token:d});return v+A})[0]}function jb(n,t){let e={},i=t.length;for(let r=0;r<i;r++){let o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}var jA="prefixes",UA="items";function tV(n,t,e){let i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[jA])for(let r of e[jA]){let o=r.replace(/\/$/,""),s=n._makeStorageReference(new ii(t,o));i.prefixes.push(s)}if(e[UA])for(let r of e[UA]){let o=n._makeStorageReference(new ii(t,r.name));i.items.push(o)}return i}function eV(n,t,e){let i=Lb(e);return i===null?null:tV(n,t,i)}var Li=class{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function nn(n){if(!n)throw Ob()}function uf(n,t){function e(i,r){let o=nS(n,r,t);return nn(o!==null),o}return e}function iV(n,t){function e(i,r){let o=eV(n,t,r);return nn(o!==null),o}return e}function nV(n,t){function e(i,r){let o=nS(n,r,t);return nn(o!==null),JF(o,r,n.host,n._protocol)}return e}function fa(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=wF():r=yF():e.getStatus()===402?r=bF(n.bucket):e.getStatus()===403?r=EF(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function hf(n){let t=fa(n);function e(i,r){let o=t(i,r);return i.getStatus()===404&&(o=vF(n.path)),o.serverResponse=r.serverResponse,o}return e}function rS(n,t,e){let i=t.fullServerUrl(),r=xr(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new Li(r,o,uf(n,e),s);return a.errorHandler=hf(t),a}function rV(n,t,e,i,r){let o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);let s=t.bucketOnlyServerUrl(),a=xr(s,n.host,n._protocol),c="GET",d=n.maxOperationRetryTime,h=new Li(a,c,iV(n,t.bucket),d);return h.urlParams=o,h.errorHandler=fa(t),h}function oV(n,t,e){let i=t.fullServerUrl(),r=xr(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new Li(r,o,nV(n,e),s);return a.errorHandler=hf(t),a}function sV(n,t,e,i){let r=t.fullServerUrl(),o=xr(r,n.host,n._protocol),s="PATCH",a=jb(e,i),c={"Content-Type":"application/json; charset=utf-8"},d=n.maxOperationRetryTime,h=new Li(o,s,uf(n,i),d);return h.headers=c,h.body=a,h.errorHandler=hf(t),h}function aV(n,t){let e=t.fullServerUrl(),i=xr(e,n.host,n._protocol),r="DELETE",o=n.maxOperationRetryTime;function s(c,d){}let a=new Li(i,r,s,o);return a.successCodes=[200,204],a.errorHandler=hf(t),a}function lV(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function oS(n,t,e){let i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=lV(null,t)),i}function cV(n,t,e,i,r){let o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let j="";for(let Z=0;Z<2;Z++)j=j+Math.random().toString().slice(2);return j}let c=a();s["Content-Type"]="multipart/related; boundary="+c;let d=oS(t,i,r),h=jb(d,e),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+c+"--",v=da.getBlob(m,i,g);if(v===null)throw YA();let A={name:d.fullPath},D=xr(o,n.host,n._protocol),T="POST",G=n.maxUploadRetryTime,Q=new Li(D,T,uf(n,e),G);return Q.urlParams=A,Q.headers=s,Q.body=v.uploadData(),Q.errorHandler=fa(t),Q}var ua=class{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}};function Ub(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{nn(!1)}return nn(!!e&&(t||["active"]).indexOf(e)!==-1),e}function dV(n,t,e,i,r){let o=t.bucketOnlyServerUrl(),s=oS(t,i,r),a={name:s.fullPath},c=xr(o,n.host,n._protocol),d="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},m=jb(s,e),g=n.maxUploadRetryTime;function v(D){Ub(D);let T;try{T=D.getResponseHeader("X-Goog-Upload-URL")}catch{nn(!1)}return nn(cf(T)),T}let A=new Li(c,d,v,g);return A.urlParams=a,A.headers=h,A.body=m,A.errorHandler=fa(t),A}function uV(n,t,e,i){let r={"X-Goog-Upload-Command":"query"};function o(d){let h=Ub(d,["active","final"]),m=null;try{m=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{nn(!1)}m||nn(!1);let g=Number(m);return nn(!isNaN(g)),new ua(g,i.size(),h==="final")}let s="POST",a=n.maxUploadRetryTime,c=new Li(e,s,o,a);return c.headers=r,c.errorHandler=fa(t),c}var BA=256*1024;function hV(n,t,e,i,r,o,s,a){let c=new ua(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw TF();let d=c.total-c.current,h=d;r>0&&(h=Math.min(h,r));let m=c.current,g=m+h,v="";h===0?v="finalize":d===h?v="upload, finalize":v="upload";let A={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},D=i.slice(m,g);if(D===null)throw YA();function T(Z,at){let lt=Ub(Z,["active","final"]),w=c.current+h,_=i.size(),y;return lt==="final"?y=uf(t,o)(Z,at):y=null,new ua(w,_,lt==="final",y)}let G="POST",Q=t.maxUploadRetryTime,j=new Li(e,G,T,Q);return j.headers=A,j.body=D.uploadData(),j.progressCallback=a||null,j.errorHandler=fa(n),j}var sS={STATE_CHANGED:"state_changed"},We={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ab(n){switch(n){case"running":case"pausing":case"canceling":return We.RUNNING;case"paused":return We.PAUSED;case"success":return We.SUCCESS;case"canceled":return We.CANCELED;case"error":return We.ERROR;default:return We.ERROR}}var kb=class{constructor(t,e,i){if(PF(t)||e!=null||i!=null)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{let o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function aa(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}var zA=null,Pb=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ca.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ca.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ca.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Ic("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ic("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ic("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ic("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ic("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},Mb=class extends Pb{initXhr(){this.xhr_.responseType="text"}};function en(){return zA?zA():new Mb}var Tc=class{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=df(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Zt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(JA(r.status,[]))if(o)r=KA();else{this.sleepTime=Math.max(this.sleepTime*2,_F),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Zt.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,e)=>{let i=dV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,en,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let t=this._uploadUrl;this._resolveToken((e,i)=>{let r=uV(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,en,e,i);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let t=BA*this._chunkMultiplier,e=new ua(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=hV(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(s,en,r,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){BA*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{let i=rS(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,en,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{let i=cV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,en,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){let e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let e=this._state==="paused";this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=QA(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let t=Ab(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){let o=new kb(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){let e=this._observers.indexOf(t);e!==-1&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(Ab(this._state)){case We.SUCCESS:aa(this._resolve.bind(null,this.snapshot))();break;case We.CANCELED:case We.ERROR:let e=this._reject;aa(e.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Ab(this._state)){case We.RUNNING:case We.PAUSED:t.next&&aa(t.next.bind(t,this.snapshot))();break;case We.SUCCESS:t.complete&&aa(t.complete.bind(t))();break;case We.CANCELED:case We.ERROR:t.error&&aa(t.error.bind(t,this._error))();break;default:t.error&&aa(t.error.bind(t,this._error))()}}resume(){let t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){let t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){let t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}};var ha=class n{constructor(t,e){this._service=t,e instanceof ii?this._location=e:this._location=ii.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new n(t,e)}get root(){let t=new ii(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iS(this._location.path)}get storage(){return this._service}get parent(){let t=WF(this._location.path);if(t===null)return null;let e=new ii(this._location.bucket,t);return new n(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw Nb(t)}};function fV(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Tc(n,new da(t),e)}function mV(n){let t={prefixes:[],items:[]};return aS(n,t).then(()=>t)}function aS(n,t,e){return P(this,null,function*(){let r=yield lS(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),r.nextPageToken!=null&&(yield aS(n,t,r.nextPageToken))})}function lS(n,t){t!=null&&typeof t.maxResults=="number"&&Rb("options.maxResults",1,1e3,t.maxResults);let e=t||{},i=rV(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,en)}function pV(n){n._throwIfRoot("getMetadata");let t=rS(n.storage,n._location,df());return n.storage.makeRequestWithTokens(t,en)}function gV(n,t){n._throwIfRoot("updateMetadata");let e=sV(n.storage,n._location,t,df());return n.storage.makeRequestWithTokens(e,en)}function _V(n){n._throwIfRoot("getDownloadURL");let t=oV(n.storage,n._location,df());return n.storage.makeRequestWithTokens(t,en).then(e=>{if(e===null)throw AF();return e})}function vV(n){n._throwIfRoot("deleteObject");let t=aV(n.storage,n._location);return n.storage.makeRequestWithTokens(t,en)}function cS(n,t){let e=KF(n._location.path,t),i=new ii(n._location.bucket,e);return new ha(n.storage,i)}function bV(n){return/^[A-Za-z]+:\/\//.test(n)}function yV(n,t){return new ha(n,t)}function dS(n,t){if(n instanceof Ac){let e=n;if(e._bucket==null)throw xF();let i=new ha(e,e._bucket);return t!=null?dS(i,t):i}else return t!==void 0?cS(n,t):n}function wV(n,t){if(t&&bV(t)){if(n instanceof Ac)return yV(n,t);throw Eo("To use ref(service, url), the first argument must be a Storage instance.")}else return dS(n,t)}function qA(n,t){let e=t?.[WA];return e==null?null:ii.makeFromBucketSpec(e,n)}function EV(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:_d(r,n.app.options.projectId))}var Ac=class{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=HA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pF,this._maxUploadRetryTime=gF,this._requests=new Set,r!=null?this._bucket=ii.makeFromBucketSpec(r,this._host):this._bucket=qA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,t):this._bucket=qA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Rb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Rb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return P(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let e=yield t.getToken();if(e!==null)return e.accessToken}return null})}_getAppCheckToken(){return P(this,null,function*(){let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ha(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new Sb(XA());{let s=LF(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){return P(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()})}},$A="@firebase/storage",GA="0.13.2";var IV="storage";function uS(n,t,e){return n=Rt(n),fV(n,t,e)}function hS(n){return n=Rt(n),pV(n)}function fS(n,t){return n=Rt(n),gV(n,t)}function mS(n,t){return n=Rt(n),lS(n,t)}function pS(n){return n=Rt(n),mV(n)}function gS(n){return n=Rt(n),_V(n)}function _S(n){return n=Rt(n),vV(n)}function Bb(n,t){return n=Rt(n),wV(n,t)}function vS(n,t){return cS(n,t)}function bS(n,t,e,i={}){EV(n,t,e,i)}function CV(n,{instanceIdentifier:t}){let e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Ac(e,i,r,t,wd)}function xV(){Ur(new Ri(IV,CV,"PUBLIC").setMultipleInstances(!0)),Di($A,GA,""),Di($A,GA,"esm2017")}xV();var ma=class{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var ff=class{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ma(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new ma(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(typeof e=="function"?o=s=>e(new ma(s,this,this._ref)):o={next:e.next?s=>e.next(new ma(s,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}},mf=class{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Io(t,this._service))}get items(){return this._delegate.items.map(t=>new Io(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Io=class n{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){let e=vS(this._delegate,t);return new n(e,this.storage)}get root(){return new n(this._delegate.root,this.storage)}get parent(){let t=this._delegate.parent;return t==null?null:new n(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new ff(uS(this._delegate,t,e),this)}putString(t,e=pi.RAW,i){this._throwIfRoot("putString");let r=Vb(e,t),o=Object.assign({},i);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),new ff(new Tc(this._delegate,new da(r.data,!0),o),this)}listAll(){return pS(this._delegate).then(t=>new mf(t,this.storage))}list(t){return mS(this._delegate,t||void 0).then(e=>new mf(e,this.storage))}getMetadata(){return hS(this._delegate)}updateMetadata(t){return fS(this._delegate,t)}getDownloadURL(){return gS(this._delegate)}delete(){return this._throwIfRoot("delete"),_S(this._delegate)}_throwIfRoot(t){if(this._delegate._location.path==="")throw Nb(t)}};var pf=class{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(yS(t))throw Eo("ref() expected a child path but got a URL, use refFromURL instead.");return new Io(Bb(this._delegate,t),this)}refFromURL(t){if(!yS(t))throw Eo("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ii.makeFromUrl(t,this._delegate.host)}catch{throw Eo("refFromUrl() expected a valid full URL but got an invalid one.")}return new Io(Bb(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){bS(this._delegate,t,e,i)}};function yS(n){return/^[A-Za-z]+:\/\//.test(n)}var TV="@firebase/storage-compat",AV="0.3.12";var SV="storage-compat";function RV(n,{instanceIdentifier:t}){let e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new pf(e,i)}function DV(n){let t={TaskState:We,TaskEvent:sS,StringFormat:pi,Storage:pf,Reference:Io};n.INTERNAL.registerComponent(new Ri(SV,RV,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion(TV,AV)}DV(Te);function PV(n){return new Be(t=>{let e=s=>t.next(s),i=s=>t.error(s),r=()=>t.complete();e(n.snapshot);let o=n.on("state_changed",e);return n.then(s=>{e(s),r()},s=>{e(n.snapshot),i(s)}),function(){o()}}).pipe(No(0))}function wS(n){let t=PV(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(Y(e=>e.bytesTransferred/e.totalBytes*100))}}function gf(n){return{getDownloadURL:()=>K(void 0).pipe(kp,Lt(()=>n.getDownloadURL()),Pe),getMetadata:()=>K(void 0).pipe(kp,Lt(()=>n.getMetadata()),Pe),delete:()=>Nt(n.delete()),child:t=>gf(n.child(t)),updateMetadata:t=>Nt(n.updateMetadata(t)),put:(t,e)=>{let i=n.put(t,e);return wS(i)},putString:(t,e,i)=>{let r=n.putString(t,e,i);return wS(r)},list:t=>Nt(n.list(t)),listAll:()=>Nt(n.listAll())}}var MV=new B("angularfire2.storageBucket"),OV=new B("angularfire2.storage.maxUploadRetryTime"),NV=new B("angularfire2.storage.maxOperationRetryTime"),FV=new B("angularfire2.storage.use-emulator"),zb=(()=>{class n{storage;constructor(e,i,r,o,s,a,c,d,h,m){let g=Gr(e,s,i);this.storage=gs(`${g.name}.storage.${r}`,"AngularFireStorage",g.name,()=>{let v=s.runOutsideAngular(()=>g.storage(r||void 0)),A=h;return A&&v.useEmulator(...A),c&&v.setMaxUploadRetryTime(c),d&&v.setMaxOperationRetryTime(d),v},[c,d])}ref(e){return gf(this.storage.ref(e))}refFromURL(e){return gf(this.storage.refFromURL(e))}upload(e,i,r){let o=this.storage.ref(e);return gf(o).put(i,r)}static \u0275fac=function(i){return new(i||n)(I(Zn),I(Jn,8),I(MV,8),I(Xe),I(et),I(ps),I(OV,8),I(NV,8),I(FV,8),I(gn,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var VV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=rt({type:n});static \u0275inj=nt({})}return n})(),ES=(()=>{class n{constructor(){Te.registerVersion("angularfire",Yn.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=rt({type:n});static \u0275inj=nt({providers:[zb],imports:[VV]})}return n})();function jV(n,t){if(n&1){let e=qe();V(0,"div",16),pt(1,"input",17),V(2,"select",18)(3,"option",19),ot(4,"Pendiente"),U(),V(5,"option",20),ot(6,"Lleg\xF3"),U()(),pt(7,"input",21),V(8,"label"),ot(9,"Fecha de Ingreso:"),U(),pt(10,"input",22),V(11,"button",14),_t("click",function(){let r=re(e).index,o=yt();return oe(o.eliminarRepuesto(r))}),ot(12,"Eliminar Repuesto"),U()()}if(n&2){let e=t.index;ft("formGroupName",e)}}var _f=(()=>{class n{constructor(e,i,r,o,s){this.fb=e,this.firestore=i,this.storage=r,this.route=o,this.router=s,this.autoForm=this.fb.group({placa:["",ke.required],marca:["",ke.required],cliente:["",ke.required],repuestos:this.fb.array([])})}ngOnInit(){this.route.paramMap.pipe(Lt(e=>{let i=e.get("id");return this.autoId=i||void 0,i?this.firestore.collection("autos").doc(i).valueChanges():[]})).subscribe(e=>{e&&this.cargarDatosAuto(e)})}get repuestos(){return this.autoForm.get("repuestos")}agregarRepuesto(){let e=this.fb.group({nombreRepuesto:["",ke.required],estado:["",ke.required],imagen:[null],fechaIngreso:[""]});this.repuestos.push(e)}eliminarRepuesto(e){this.repuestos.removeAt(e)}cargarDatosAuto(e){this.autoForm.patchValue({placa:e.placa,marca:e.marca,cliente:e.cliente}),this.repuestos.clear(),e.repuestos.forEach(i=>{let r=this.fb.group({nombreRepuesto:[i.nombreRepuesto,ke.required],estado:[i.estado,ke.required],imagen:[i.imagen],fechaIngreso:[i.fechaIngreso||""]});this.repuestos.push(r)})}guardarAuto(){return P(this,null,function*(){if(this.autoForm.invalid){alert("Formulario no v\xE1lido, por favor revise los datos ingresados");return}let e=this.autoForm.value,i=e.repuestos.map(o=>P(this,null,function*(){if(o.imagen instanceof File){let s=`repuestos/${Date.now()}_${o.imagen.name}`,a=this.storage.ref(s);yield this.storage.upload(s,o.imagen);let c=yield a.getDownloadURL();return bt(N({},o),{imagen:c})}else return o})),r=yield Promise.all(i);this.autoId?this.firestore.collection("autos").doc(this.autoId).update(bt(N({},e),{repuestos:r})).then(()=>{alert("Auto actualizado correctamente"),this.autoForm.reset(),this.repuestos.clear(),this.router.navigate(["/home"])}).catch(o=>{console.error("Error al actualizar: ",o)}):this.firestore.collection("autos").add(bt(N({},e),{repuestos:r})).then(()=>{alert("Auto con repuestos agregado correctamente"),this.autoForm.reset(),this.repuestos.clear(),this.router.navigate(["/home"])}).catch(o=>{console.error("Error al guardar: ",o)})})}static{this.\u0275fac=function(i){return new(i||n)(R(ms),R(gc),R(zb),R($n),R(ui))}}static{this.\u0275cmp=St({type:n,selectors:[["app-agregar"]],decls:26,vars:2,consts:[[3,"ngSubmit","formGroup"],["formControlName","placa","type","text","placeholder","N\xFAmero de Placa","required",""],["formControlName","marca","type","text","placeholder","Marca del veh\xEDculo","required",""],["formControlName","cliente","required",""],["value","","disabled","","selected",""],["value","Lafise"],["value","INS"],["value","Qualitas"],["value","Oceanicas"],["value","Purdy Seguros"],["value","ADISSA"],["value","Mapfre"],["formArrayName","repuestos"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit"],[3,"formGroupName"],["formControlName","nombreRepuesto","type","text","placeholder","Nombre del Repuesto","required",""],["formControlName","estado","required",""],["value","Pendiente"],["value","Lleg\xF3"],["formControlName","imagen","type","file","accept","image/*"],["formControlName","fechaIngreso","type","date","required",""]],template:function(i,r){i&1&&(V(0,"form",0),_t("ngSubmit",function(){return r.guardarAuto()}),pt(1,"input",1)(2,"input",2),V(3,"select",3)(4,"option",4),ot(5,"Seleccione un cliente"),U(),V(6,"option",5),ot(7,"Lafise"),U(),V(8,"option",6),ot(9,"INS"),U(),V(10,"option",7),ot(11,"Qualitas"),U(),V(12,"option",8),ot(13,"Oceanicas"),U(),V(14,"option",9),ot(15,"Purdy Seguros"),U(),V(16,"option",10),ot(17,"ADISSA"),U(),V(18,"option",11),ot(19,"Mapfre"),U()(),V(20,"div",12),vt(21,jV,13,1,"div",13),U(),V(22,"button",14),_t("click",function(){return r.agregarRepuesto()}),ot(23,"Agregar Repuesto"),U(),V(24,"button",15),ot(25,"Guardar Auto y Repuestos"),U()()),i&2&&(ft("formGroup",r.autoForm),J(21),ft("ngForOf",r.repuestos.controls))},dependencies:[pd,au,KE,YE,Kn,du,fs,ru,Sp,Qn,Al,lu,cu],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#e9ecef;margin:0;padding:0;color:#000}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;text-align:center;padding:20px 0}.empresa[_ngcontent-%COMP%]{font-size:48px;color:#39ff14;font-weight:700;margin:10px 0}.logo[_ngcontent-%COMP%]{margin:10px 0}img.logo-img[_ngcontent-%COMP%]{max-width:120px;height:auto;border-radius:50%;border:3px solid #39ff14}form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000001a;max-width:400px;margin:20px auto}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:10px;margin:10px 0;width:100%;border:2px solid #ced4da;border-radius:5px;font-size:16px;transition:border .3s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#39ff14;outline:none}button[_ngcontent-%COMP%]{background-color:#39ff14;color:#000;border:none;cursor:pointer;font-weight:700;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#32cc12}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background-color:#fff;border-radius:8px;overflow:hidden}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:12px;text-align:left}th[_ngcontent-%COMP%]{background-color:#39ff14;color:#fff}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f9fa}img[_ngcontent-%COMP%]{max-width:100px;border-radius:8px;border:2px solid #39ff14}.resultado[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;border-radius:8px;padding:15px;box-shadow:0 2px 4px #0000001a}footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding:10px 0;background-color:#000;color:#fff}"]})}}return n})();function BV(n,t){if(n&1&&(V(0,"li"),ot(1),U()),n&2){let e=t.$implicit;J(),ld(" ",e.nombreRepuesto," - ",e.estado," ")}}function zV(n,t){if(n&1&&(V(0,"ul"),vt(1,BV,2,2,"li",13),U()),n&2){let e=yt().$implicit;J(),ft("ngForOf",e.repuestos)}}function qV(n,t){n&1&&(V(0,"span"),ot(1,"Sin repuestos"),U())}function $V(n,t){if(n&1){let e=qe();V(0,"tr")(1,"td"),ot(2),U(),V(3,"td"),ot(4),U(),V(5,"td"),ot(6),U(),V(7,"td"),vt(8,zV,2,1,"ul",16)(9,qV,2,0,"span",16),U(),V(10,"td")(11,"mat-icon",17),_t("click",function(){let r=re(e).$implicit,o=yt();return oe(o.editar(r))}),ot(12,"edit"),U(),V(13,"mat-icon",18),_t("click",function(){let r=re(e).$implicit,o=yt();return oe(o.eliminar(r))}),ot(14,"delete"),U()()()}if(n&2){let e=t.$implicit;J(2),$e(e.placa),J(2),$e(e.marca),J(2),$e(e.cliente),J(2),ft("ngIf",e.repuestos),J(),ft("ngIf",!e.repuestos)}}var IS=(()=>{class n{constructor(e,i,r){this.db=e,this.fb=i,this.router=r,this.autos=[],this.filteredAutos=[],this.searchText=new cs(""),this.currentPage=1,this.itemsPerPage=4}ngOnInit(){this.db.collection("autos").valueChanges({idField:"id"}).subscribe(e=>{this.autos=e,this.filteredAutos=this.autos}),this.searchText.valueChanges.pipe(xe(""),Y(e=>e.toLowerCase())).subscribe(e=>{this.filteredAutos=this.autos.filter(i=>i.placa.toLowerCase().includes(e)||i.marca.toLowerCase().includes(e)),this.currentPage=1})}get paginatedAutos(){let e=(this.currentPage-1)*this.itemsPerPage,i=e+this.itemsPerPage;return this.filteredAutos.slice(e,i)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}prevPage(){this.currentPage>1&&this.currentPage--}get totalPages(){return Math.ceil(this.filteredAutos.length/this.itemsPerPage)}verDetalles(e){console.log("Ver detalles del auto: ",e)}editar(e){this.router.navigate(["/editar",e.id])}eliminar(e){confirm("\xBFEst\xE1s seguro de que deseas eliminar este auto?")&&this.db.collection("autos").doc(e.id).delete().then(()=>{alert("Auto eliminado correctamente"),this.autos=this.autos.filter(i=>i.id!==e.id),this.filteredAutos=this.filteredAutos.filter(i=>i.id!==e.id)}).catch(i=>{console.error("Error al eliminar el auto: ",i)})}logout(){this.router.navigate(["/login"])}static{this.\u0275fac=function(i){return new(i||n)(R(gc),R(ms),R(ui))}}static{this.\u0275cmp=St({type:n,selectors:[["app-home"]],decls:48,vars:6,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"logo"],["src","d1ae70e2-d17d-430c-8d6b-500d7272982c.jpeg","alt","Logo de ADN Taller de Carrocer\xEDa y Pintura",1,"logo-img"],[1,"empresa"],[1,"logout-button",3,"click"],[2,"text-align","center","margin-top","20px"],[1,"table_list"],[1,"header-actions"],[1,"search-box"],["placeholder","Buscar por placa...","type","text",3,"formControl"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],[3,"click","disabled"],[4,"ngIf"],[1,"button-edit",3,"click"],[1,"button-delete",3,"click"]],template:function(i,r){i&1&&(V(0,"html",0)(1,"head"),pt(2,"meta",1)(3,"meta",2),V(4,"title"),ot(5,"Control de Repuestos de Carros - ADN Taller de Carrocer\xEDa y Pintura"),U()(),V(6,"body")(7,"header")(8,"div",3),pt(9,"img",4),U(),V(10,"div",5),ot(11,"ADN Taller de Carrocer\xEDa y Pintura"),U()(),V(12,"button",6),_t("click",function(){return r.logout()}),ot(13,"Cerrar sesi\xF3n"),U(),V(14,"h1",7),ot(15,"Control de Repuestos de Carros"),U(),pt(16,"app-agregar"),V(17,"div",8),pt(18,"div",9),V(19,"div",8)(20,"div",9)(21,"div",10),pt(22,"input",11),U()(),V(23,"div",12)(24,"table")(25,"thead")(26,"tr")(27,"th"),ot(28,"N\xFAmero de Placa"),U(),V(29,"th"),ot(30,"Marca Veh\xEDculo"),U(),V(31,"th"),ot(32,"Cliente"),U(),V(33,"th"),ot(34,"Repuestos"),U(),V(35,"th"),ot(36,"Acciones"),U()()(),V(37,"tbody"),vt(38,$V,15,5,"tr",13),U()()(),V(39,"div",14)(40,"button",15),_t("click",function(){return r.prevPage()}),ot(41,"Anterior"),U(),V(42,"span"),ot(43),U(),V(44,"button",15),_t("click",function(){return r.nextPage()}),ot(45,"Siguiente"),U()()()(),V(46,"footer"),ot(47," \xA9 2024 ADN Taller de Carrocer\xEDa y Pintura "),U()()()),i&2&&(J(22),ft("formControl",r.searchText),J(16),ft("ngForOf",r.paginatedAutos),J(2),ft("disabled",r.currentPage===1),J(3),ld("P\xE1gina ",r.currentPage," de ",r.totalPages,""),J(),ft("disabled",r.currentPage===r.totalPages))},dependencies:[pd,gd,Kn,fs,Ap,VA,_f],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#e9ecef;margin:0;padding:0;color:#000}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;text-align:center;padding:20px 0}.empresa[_ngcontent-%COMP%]{font-size:48px;color:#39ff14;font-weight:700;margin:10px 0}.logo[_ngcontent-%COMP%]{margin:10px 0}img.logo-img[_ngcontent-%COMP%]{max-width:120px;height:auto;border-radius:50%;border:3px solid #39ff14}form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000001a;max-width:400px;margin:20px auto}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:10px;margin:10px 0;width:100%;border:2px solid #ced4da;border-radius:5px;font-size:16px;transition:border .3s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#39ff14;outline:none}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background-color:#fff;border-radius:8px;overflow:hidden}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:12px;text-align:left}th[_ngcontent-%COMP%]{background-color:#39ff14;color:#fff}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f9fa}img[_ngcontent-%COMP%]{max-width:100px;border-radius:8px;border:2px solid #39ff14}.resultado[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;border-radius:8px;padding:15px;box-shadow:0 2px 4px #0000001a}footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding:10px 0;background-color:#000;color:#fff}.button-edit[_ngcontent-%COMP%]{background-color:#ff0;color:#000}.button-delete[_ngcontent-%COMP%]{background-color:red;color:#000}.button-view[_ngcontent-%COMP%]{background-color:#00c600;color:#000}.button-edit[_ngcontent-%COMP%], .button-delete[_ngcontent-%COMP%], .button-view[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:45px;height:36px;overflow:hidden}.button-edit[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{background-color:#ff0}.button-delete[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{background-color:red}.button-view[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{background-color:#00c100}.button-edit[_ngcontent-%COMP%]:hover{background-color:#b0b000}.button-delete[_ngcontent-%COMP%]:hover{background-color:#b80000}.button-view[_ngcontent-%COMP%]:hover{background-color:#006700a7}.mat-icon[_ngcontent-%COMP%]{font-size:20px}.table_list[_ngcontent-%COMP%]{margin:20px}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:10px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;margin-right:10px}.button_add[_ngcontent-%COMP%]{white-space:nowrap;padding:10px 20px;width:auto;min-width:100px;background-color:#00f}.custom-dialog-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:1000}.mat-dialog-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;max-width:500px;width:100%;max-height:90vh;overflow-y:auto}"]})}}return n})();var GV=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:bI},{path:"home",component:IS},{path:"editar/:id",component:_f}],CS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[hp.forRoot(GV),hp]})}}return n})();var xS=(()=>{class n{constructor(){this.title="proyecto_practica"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=St({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){i&1&&pt(0,"router-outlet")},dependencies:[sp]})}}return n})();var TS={production:!1,firebaseConfig:{apiKey:"AIzaSyDzbDyJ-2T1mgJkYWVBCxnN04_8P8K6qnY",authDomain:"practicaadn.firebaseapp.com",projectId:"practicaadn",storageBucket:"practicaadn.appspot.com",messagingSenderId:"797107250764",appId:"1:797107250764:web:87a4e94feebc2fbea2b6e9"}};var HV=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var WV=["mat-icon-button",""],KV=["*"];var QV=new B("MAT_BUTTON_CONFIG");var YV=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],XV=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=z(Ir),this._rippleLoader=z(kA),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=z(QV,{optional:!0}),a=e.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:h}of YV)a.hasAttribute(d)&&c.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){zo()}}static{this.\u0275dir=dt({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Dt],disabled:[2,"disabled","disabled",Dt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Dt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Dt]},features:[ze]})}}return n})();var AS=(()=>{class n extends XV{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R(Bt),R(et),R(De,8))}}static{this.\u0275cmp=St({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Ut("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),ad(r.color?"mat-"+r.color:""),qt("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Yt,Jt],attrs:WV,ngContentSelectors:KV,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(_i(),pt(0,"span",0),ae(1),pt(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',HV],encapsulation:2,changeDetection:0})}}return n})();var Sc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[ce,wb,ce]})}}return n})();var vf=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new it,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var ZV=20,Rc=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new it,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=ZV){return this._platform.isBrowser?new Be(i=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(Zf(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):K()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(kt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=An(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return g0(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(I(et),I(Bt),I(ct,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var JV=20,ga=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new it,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(e=JV){return e>0?this._change.pipe(Zf(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(I(Bt),I(et),I(ct,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var pa=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({})}}return n})(),qb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[Cr,pa,Cr,pa]})}}return n})();var Dc=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Tr=class extends Dc{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},Co=class extends Dc{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},$b=class extends Dc{constructor(t){super(),this.element=t instanceof ht?t.nativeElement:t}},_a=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Tr)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Co)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof $b)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var bf=class extends _a{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||se.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var kc=(()=>{class n extends _a{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new wt,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||n)(R(rd),R(ln),R(ct))}}static{this.\u0275dir=dt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Yt]})}}return n})();var xo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({})}}return n})();var RS=nA(),Gb=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=pe(-this._previousScrollPosition.left),t.style.top=pe(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),RS&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),RS&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var Hb=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(kt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},yf=class{enable(){}disable(){}attach(){}};function Wb(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,o=n.right<e.left,s=n.left>e.right;return i||r||o||s})}function DS(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,o=n.left<e.left,s=n.right>e.right;return i||r||o||s})}var Kb=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Wb(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},tL=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new yf,this.close=s=>new Hb(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Gb(this._viewportRuler,this._document),this.reposition=s=>new Kb(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(I(Rc),I(ga),I(et),I(ct))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),va=class{constructor(t){if(this.scrollStrategy=new yf,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var Qb=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var FS=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(I(ct))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eL=(()=>{class n extends FS{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(I(ct),I(et,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iL=(()=>{class n extends FS{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=mi(o)},this._clickListener=o=>{let s=mi(o),a=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let h=c[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(kS(h.overlayElement,s)||kS(h.overlayElement,a))break;let m=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o)}}}add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(I(ct),I(Bt),I(et,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kS(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var ba=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||bc()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),bc()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(I(ct),I(Bt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rn=class{constructor(t,e,i,r,o,s,a,c,d,h=!1,m){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._injector=m,this._backdropElement=null,this._backdropClick=new it,this._attachments=new it,this._detachments=new it,this._locationChanges=Ue.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new it,this._outsidePointerEvents=new it,this._renders=new it,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Si(()=>sd(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Bi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=N(N({},this._config),t),this._updateElementSize()}setDirection(t){this._config=bt(N({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=pe(this._config.width),t.height=pe(this._config.height),t.minWidth=pe(this._config.minWidth),t.minHeight=pe(this._config.minHeight),t.maxWidth=pe(this._config.maxWidth),t.maxHeight=pe(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){let r=oa(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Ft(gi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},PS="cdk-overlay-connected-position-bounding-box",nL=/([A-Za-z%]+)$/,Yb=class{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new it,this._resizeSubscription=Ue.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(PS),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),d=this._getOverlayPoint(c,e,a),h=this._getOverlayFit(d,e,i,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(h,d,i)){o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(let d of o){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>c&&(c=h,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&To(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(PS),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=i.originX=="start"?s:a}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){let o=OS(e),{x:s,y:a}=t,c=this._getOffset(r,"x"),d=this._getOffset(r,"y");c&&(s+=c),d&&(a+=d);let h=0-s,m=s+o.width-i.width,g=0-a,v=a+o.height-i.height,A=this._subtractOverflows(o.width,h,m),D=this._subtractOverflows(o.height,g,v),T=A*D;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:D===o.height,fitsInViewportHorizontally:A==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,s=MS(this._overlayRef.getConfig().minHeight),a=MS(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||s!=null&&s<=r,d=t.fitsInViewportHorizontally||a!=null&&a<=o;return c&&d}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=OS(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-i.top-t.y,0),d=Math.max(o.left-i.left-t.x,0),h=0,m=0;return r.width<=o.width?h=d||-s:h=t.x<this._viewportMargin?o.left-i.left-t.x:0,r.height<=o.height?m=c||-a:m=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:h,y:m},{x:t.x+h,y:t.y+m}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!rL(this._lastScrollVisibility,i)){let r=new Qb(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(e.overlayY==="top")s=t.y,o=i.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let v=Math.min(i.bottom-t.y+i.top,t.y),A=this._lastBoundingBoxSize.height;o=v*2,s=t.y-v,o>A&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-A/2)}let c=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,d=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,h,m,g;if(d)g=i.width-t.x+this._viewportMargin*2,h=t.x-this._viewportMargin;else if(c)m=t.x,h=i.right-t.x;else{let v=Math.min(i.right-t.x+i.left,t.x),A=this._lastBoundingBoxSize.width;h=v*2,m=t.x-v,h>A&&!this._isInitialRender&&!this._growAfterOpen&&(m=t.x-A/2)}return{top:s,left:m,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=pe(i.height),r.top=pe(i.top),r.bottom=pe(i.bottom),r.width=pe(i.width),r.left=pe(i.left),r.right=pe(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=pe(o)),s&&(r.maxWidth=pe(s))}this._lastBoundingBoxSize=i,To(this._boundingBox.style,r)}_resetBoundingBoxStyles(){To(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){To(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();To(i,this._getExactOverlayY(e,t,h)),To(i,this._getExactOverlayX(e,t,h))}else i.position="static";let a="",c=this._getOffset(e,"x"),d=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=pe(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=pe(s.maxWidth):o&&(i.maxWidth="")),To(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=pe(o.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=pe(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:DS(t,i),isOriginOutsideView:Wb(t,i),isOverlayClipped:DS(e,i),isOverlayOutsideView:Wb(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&oa(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof ht)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function To(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function MS(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(nL);return!e||e==="px"?parseFloat(t):null}return n||null}function OS(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function rL(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var NS="cdk-global-overlay-wrapper",Xb=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(NS),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,m=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",v="",A="",D="";c?D="flex-start":h==="center"?(D="center",g?A=m:v=m):g?h==="left"||h==="end"?(D="flex-end",v=m):(h==="right"||h==="start")&&(D="flex-start",A=m):h==="left"||h==="start"?(D="flex-start",v=m):(h==="right"||h==="end")&&(D="flex-end",A=m),t.position=this._cssPosition,t.marginLeft=c?"0":v,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":A,e.justifyContent=D,e.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(NS),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},oL=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Xb}flexibleConnectedTo(e){return new Yb(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(I(ga),I(ct),I(Bt),I(ba))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sL=0,ye=(()=>{class n{constructor(e,i,r,o,s,a,c,d,h,m,g,v){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=d,this._directionality=h,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=v}create(e){let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new va(e);return s.direction=s.direction||this._directionality.value,new Rn(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Un))}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=`cdk-overlay-${sL++}`,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ga)),new bf(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(I(tL),I(ba),I(rd),I(oL),I(eL),I(se),I(et),I(ct),I(Ei),I(un),I(iL),I(De,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aL=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],VS=new B("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=z(ye);return()=>n.scrollStrategies.reposition()}}),Pc=(()=>{class n{constructor(e){this.elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(R(ht))}}static{this.\u0275dir=dt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return n})(),Zb=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,i,r,o,s){this._overlay=e,this._dir=s,this._backdropSubscription=Ue.EMPTY,this._attachSubscription=Ue.EMPTY,this._detachSubscription=Ue.EMPTY,this._positionSubscription=Ue.EMPTY,this._disposeOnNavigation=!1,this._ngZone=z(et),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new wt,this.positionChange=new wt,this.attach=new wt,this.detach=new wt,this.overlayKeydown=new wt,this.overlayOutsideClick=new wt,this._templatePortal=new Co(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=aL);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!ei(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),o=mi(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new va({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Pc?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Pc?this.origin.elementRef.nativeElement:this.origin instanceof ht?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(y0(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(R(ye),R(qo),R(ln),R(VS),R(Ei,8))}}static{this.\u0275dir=dt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Dt],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Dt],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Dt],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Dt],push:[2,"cdkConnectedOverlayPush","push",Dt],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Dt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[ze,Ye]})}}return n})();function lL(n){return()=>n.scrollStrategies.reposition()}var cL={provide:VS,deps:[ye],useFactory:lL},Ar=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[ye,cL],imports:[Cr,xo,qb,qb]})}}return n})();function dL(n,t){}var So=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var ey=(()=>{class n extends _a{constructor(e,i,r,o,s,a,c,d){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=d,this._platform=z(Bt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=z(Ee),this._injector=z(se),this._isDestroyed=!1,this.attachDomPortal=h=>{this._portalOutlet.hasAttached();let m=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),m},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||Bi(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=vc(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,i=vc();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=vc()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R(Yh),R(ct,8),R(So),R(yc),R(et),R(Rn),R(Ir))}}static{this.\u0275cmp=St({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&de(kc,7),i&2){let o;Pt(o=Mt())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Ut("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[Yt,Jt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&vt(0,dL,0,0,"ng-template",0)},dependencies:[kc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})(),Mc=class{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new it,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!ei(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},uL=new B("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=z(ye);return()=>n.scrollStrategies.block()}}),hL=new B("DialogData"),fL=new B("DefaultDialogConfig");var mL=0,iy=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new it,this._afterOpenedAtThisLevel=new it,this._ariaHiddenElements=new Map,this.afterAllClosed=an(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xe(void 0))),this._scrollStrategy=a}open(e,i){let r=this._defaultOptions||new So;i=N(N({},r),i),i.id=i.id||`cdk-dialog-${mL++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new Mc(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(e,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){ty(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){ty(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),ty(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new va({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:So,useValue:r},{provide:Mc,useValue:i},{provide:Rn,useValue:e}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=ey;let c=new Tr(a,r.viewContainerRef,se.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,o){if(e instanceof qo){let s=this._createInjector(o,i,r,void 0),a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=N(N({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Co(e,null,a,s))}else{let s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Tr(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:hL,useValue:e.data},{provide:Mc,useValue:i}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(Ei,null,{optional:!0}))&&a.push({provide:Ei,useValue:{value:e.direction,change:K()}}),se.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(I(ye),I(se),I(fL,8),I(n,12),I(ba),I(uL))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ty(n,t){let e=n.length;for(;e--;)t(n[e])}var LS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[iy],imports:[Ar,xo,Xh,xo]})}}return n})();function pL(n,t){}var Oc=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},ny="mdc-dialog--open",jS="mdc-dialog--opening",US="mdc-dialog--closing",gL=150,_L=75,vL=(()=>{class n extends ey{constructor(e,i,r,o,s,a,c,d,h){super(e,i,r,o,s,a,c,h),this._animationMode=d,this._animationStateChanged=new wt,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?zS(this._config.enterAnimationDuration)??gL:0,this._exitAnimationDuration=this._animationsEnabled?zS(this._config.exitAnimationDuration)??_L:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(BS,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(jS,ny)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ny),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ny),this._animationsEnabled?(this._hostElement.style.setProperty(BS,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(US)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(jS,US)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R(Yh),R(ct,8),R(Oc),R(yc),R(et),R(Rn),R(De,8),R(Ir))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(Ho("id",r._config.id),Ut("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),qt("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[Yt,Jt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(V(0,"div",0)(1,"div",1),vt(2,pL,0,0,"ng-template",2),U()())},dependencies:[kc],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return n})(),BS="--mat-dialog-transition-duration";function zS(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?Er(n.substring(0,n.length-2)):n.endsWith("s")?Er(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var wf=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(wf||{}),ry=class{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new it,this._beforeClosed=new it,this._state=wf.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(kt(r=>r.state==="opened"),Re(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(kt(r=>r.state==="closed"),Re(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),gi(this.backdropClick(),this.keydownEvents().pipe(kt(r=>r.keyCode===27&&!this.disableClose&&!ei(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),bL(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(kt(e=>e.state==="closing"),Re(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=wf.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=wf.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function bL(n,t,e){return n._closeInteractionType=t,n.close(e)}var yL=new B("MatMdcDialogData"),wL=new B("mat-mdc-dialog-default-options"),EL=new B("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=z(ye);return()=>n.scrollStrategies.block()}});var IL=0,CL=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,c,d){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new it,this._afterOpenedAtThisLevel=new it,this.dialogConfigClass=Oc,this.afterAllClosed=an(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xe(void 0))),this._dialog=i.get(iy),this._dialogRefConstructor=ry,this._dialogContainerType=vL,this._dialogDataToken=yL}open(e,i){let r;i=N(N({},this._defaultOptions||new Oc),i),i.id=i.id||`mat-mdc-dialog-${IL++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,bt(N({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:So,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static{this.\u0275fac=function(i){return new(i||n)(I(ye),I(se),I(un,8),I(wL,8),I(EL),I(n,12),I(ba),I(De,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[CL],imports:[LS,Ar,xo,ce,ce]})}}return n})();var xL="@",TL=(()=>{class n{constructor(e,i,r,o,s){this.doc=e,this.delegate=i,this.zone=r,this.animationType=o,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=z(O0,{optional:!0}),this.loadingSchedulerFn=z(AL,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-32Z2O56W.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(r=>{throw new jt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,i){let r=this.delegate.createRenderer(e,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new oy(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,i);o.use(a),this.scheduler?.notify(10)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){zo()}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),oy=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(xL)}},AL=new B("");function $S(n="animations"){return N0("NgAsyncAnimations"),nd([{provide:od,useFactory:(t,e,i)=>new TL(t,e,i,n),deps:[ct,xd,et]},{provide:De,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var sy=class{constructor(){this.change=new wt,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return t.id==null&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t],r=Math.ceil(i.totalItems/i.itemsPerPage);e<=r&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},K$=Number.MAX_SAFE_INTEGER;var GS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[sy],imports:[[zi]]}),n})();var ay=class{constructor(t){this._box=t,this._destroyed=new it,this._resizeSubject=new it,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Be(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(kt(e=>e.some(i=>i.target===t)),Vo({bufferSize:1,refCount:!0}),Ft(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},HS=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=z(et),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new ay(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var SL=["notch"],RL=["matFormFieldNotchedOutline",""],DL=["*"],kL=["textField"],PL=["iconPrefixContainer"],ML=["textPrefixContainer"],OL=["iconSuffixContainer"],NL=["textSuffixContainer"],FL=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],VL=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function LL(n,t){n&1&&pt(0,"span",21)}function jL(n,t){if(n&1&&(V(0,"label",20),ae(1,1),vt(2,LL,1,0,"span",21),U()),n&2){let e=yt(2);ft("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Ut("for",e._control.disableAutomaticLabeling?null:e._control.id),J(2),$t(!e.hideRequiredMarker&&e._control.required?2:-1)}}function UL(n,t){if(n&1&&vt(0,jL,3,5,"label",20),n&2){let e=yt();$t(e._hasFloatingLabel()?0:-1)}}function BL(n,t){n&1&&pt(0,"div",7)}function zL(n,t){}function qL(n,t){if(n&1&&vt(0,zL,0,0,"ng-template",13),n&2){yt(2);let e=Bn(1);ft("ngTemplateOutlet",e)}}function $L(n,t){if(n&1&&(V(0,"div",9),vt(1,qL,1,1,null,13),U()),n&2){let e=yt();ft("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),J(),$t(e._forceDisplayInfixLabel()?-1:1)}}function GL(n,t){n&1&&(V(0,"div",10,2),ae(2,2),U())}function HL(n,t){n&1&&(V(0,"div",11,3),ae(2,3),U())}function WL(n,t){}function KL(n,t){if(n&1&&vt(0,WL,0,0,"ng-template",13),n&2){yt();let e=Bn(1);ft("ngTemplateOutlet",e)}}function QL(n,t){n&1&&(V(0,"div",14,4),ae(2,4),U())}function YL(n,t){n&1&&(V(0,"div",15,5),ae(2,5),U())}function XL(n,t){n&1&&pt(0,"div",16)}function ZL(n,t){if(n&1&&(V(0,"div",18),ae(1,6),U()),n&2){let e=yt();ft("@transitionMessages",e._subscriptAnimationState)}}function JL(n,t){if(n&1&&(V(0,"mat-hint",22),ot(1),U()),n&2){let e=yt(2);ft("id",e._hintLabelId),J(),$e(e.hintLabel)}}function t2(n,t){if(n&1&&(V(0,"div",19),vt(1,JL,2,2,"mat-hint",22),ae(2,7),pt(3,"div",23),ae(4,8),U()),n&2){let e=yt();ft("@transitionMessages",e._subscriptAnimationState),J(),$t(e.hintLabel?1:-1)}}var WS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=dt({type:n,selectors:[["mat-label"]],standalone:!0})}}return n})();var e2=new B("MatError");var i2=0,KS=(()=>{class n{constructor(){this.align="start",this.id=`mat-mdc-hint-${i2++}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=dt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Ho("id",r.id),Ut("align",null),qt("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return n})(),n2=new B("MatPrefix");var r2=new B("MatSuffix");var iR=new B("FloatingLabelParent"),QS=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=z(HS),this._ngZone=z(et),this._parent=z(iR),this._resizeSubscription=new Ue}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return o2(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(R(ht))}}static{this.\u0275dir=dt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&qt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return n})();function o2(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var YS="mdc-line-ripple--active",Ef="mdc-line-ripple--deactivating",XS=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{let o=this._elementRef.nativeElement.classList,s=o.contains(Ef);r.propertyName==="opacity"&&s&&o.remove(YS,Ef)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Ef),e.add(YS)}deactivate(){this._elementRef.nativeElement.classList.add(Ef)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R(et))}}static{this.\u0275dir=dt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return n})(),ZS=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R(et))}}static{this.\u0275cmp=St({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&de(SL,5),i&2){let o;Pt(o=Mt())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&qt("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Jt],attrs:RL,ngContentSelectors:DL,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(_i(),pt(0,"div",1),V(1,"div",2,0),ae(3),U(),pt(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})(),s2={transitionMessages:Wa("transitionMessages",[Ed("enter",Br({opacity:1,transform:"translateY(0%)"})),Ko("void => enter",[Br({opacity:0,transform:"translateY(-5px)"}),Ka("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ly=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=dt({type:n})}}return n})();var cy=new B("MatFormField"),a2=new B("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JS=0,tR="fill",l2="auto",eR="fixed",c2="translateY(-50%)",nR=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ra(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||l2}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){let i=this._appearance,r=e||this._defaults?.appearance||tR;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||eR}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||eR}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,c,d){this._elementRef=e,this._changeDetectorRef=i,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._labelChild=F0(WS),this._hideRequiredMarker=!1,this.color="primary",this._appearance=tR,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${JS++}`,this._hintLabelId=`mat-mdc-hint-${JS++}`,this._subscriptAnimationState="",this._destroyed=new it,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=z(se),this.getLabelId=dn(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=dn(()=>!!this._labelChild()),a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Ft(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),gi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),sd(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ft(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,h=s?.getBoundingClientRect().width??0,m=this._dir.value==="rtl"?"-1":"1",g=`${a+c}px`,A=`calc(${m} * (${g} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${c2} translateX(${A})
    )`;let D=a+c+d+h;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${D}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(R(ht),R(Ee),R(et),R(Ei),R(Bt),R(a2,8),R(De,8),R(ct))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(z0(o,r._labelChild,WS,5),Ai(o,ly,5),Ai(o,n2,5),Ai(o,r2,5),Ai(o,e2,5),Ai(o,KS,5)),i&2){q0();let s;Pt(s=Mt())&&(r._formFieldControl=s.first),Pt(s=Mt())&&(r._prefixChildren=s),Pt(s=Mt())&&(r._suffixChildren=s),Pt(s=Mt())&&(r._errorChildren=s),Pt(s=Mt())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(i&1&&(de(kL,5),de(PL,5),de(ML,5),de(OL,5),de(NL,5),de(QS,5),de(ZS,5),de(XS,5)),i&2){let o;Pt(o=Mt())&&(r._textField=o.first),Pt(o=Mt())&&(r._iconPrefixContainer=o.first),Pt(o=Mt())&&(r._textPrefixContainer=o.first),Pt(o=Mt())&&(r._iconSuffixContainer=o.first),Pt(o=Mt())&&(r._textSuffixContainer=o.first),Pt(o=Mt())&&(r._floatingLabel=o.first),Pt(o=Mt())&&(r._notchedOutline=o.first),Pt(o=Mt())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){i&2&&qt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[we([{provide:cy,useExisting:n},{provide:iR,useExisting:n}]),Jt],ngContentSelectors:VL,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=qe();_i(FL),vt(0,UL,1,1,"ng-template",null,0,$0),V(2,"div",6,1),_t("click",function(a){return re(o),oe(r._control.onContainerClick(a))}),vt(4,BL,1,0,"div",7),V(5,"div",8),vt(6,$L,2,2,"div",9)(7,GL,3,0,"div",10)(8,HL,3,0,"div",11),V(9,"div",12),vt(10,KL,1,1,null,13),ae(11),U(),vt(12,QL,3,0,"div",14)(13,YL,3,0,"div",15),U(),vt(14,XL,1,0,"div",16),U(),V(15,"div",17),vt(16,ZL,2,1,"div",18)(17,t2,5,2,"div",19),U()}if(i&2){let o;J(2),qt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),J(2),$t(!r._hasOutline()&&!r._control.disabled?4:-1),J(2),$t(r._hasOutline()?6:-1),J(),$t(r._hasIconPrefix?7:-1),J(),$t(r._hasTextPrefix?8:-1),J(2),$t(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),J(2),$t(r._hasTextSuffix?12:-1),J(),$t(r._hasIconSuffix?13:-1),J(),$t(r._hasOutline()?-1:14),J(),qt("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),J(),$t((o=r._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[QS,ZS,ow,XS,KS],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[s2.transitionMessages]},changeDetection:0})}}return n})(),rR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({imports:[ce,zi,Bh,ce]})}}return n})();var d2=["trigger"],u2=["panel"],h2=[[["mat-select-trigger"]],"*"],f2=["mat-select-trigger","*"];function m2(n,t){if(n&1&&(V(0,"span",4),ot(1),U()),n&2){let e=yt();J(),$e(e.placeholder)}}function p2(n,t){n&1&&ae(0)}function g2(n,t){if(n&1&&(V(0,"span",11),ot(1),U()),n&2){let e=yt(2);J(),$e(e.triggerValue)}}function _2(n,t){if(n&1&&(V(0,"span",5),vt(1,p2,1,0)(2,g2,2,1,"span",11),U()),n&2){let e=yt();J(),$t(e.customTrigger?1:2)}}function v2(n,t){if(n&1){let e=qe();V(0,"div",12,1),_t("@transformPanel.done",function(r){re(e);let o=yt();return oe(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){re(e);let o=yt();return oe(o._handleKeydown(r))}),ae(2,1),U()}if(n&2){let e=yt();L0("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),ft("ngClass",e.panelClass)("@transformPanel","showing"),Ut("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var b2={transformPanelWrap:Wa("transformPanelWrap",[Ko("* => void",mw("@transformPanel",[fw()],{optional:!0}))]),transformPanel:Wa("transformPanel",[Ed("void",Br({opacity:0,transform:"scale(1, 0.8)"})),Ko("void => showing",Ka("120ms cubic-bezier(0, 0, 0.2, 1)",Br({opacity:1,transform:"scale(1, 1)"}))),Ko("* => void",Ka("100ms linear",Br({opacity:0})))])};var oR=0,sR=new B("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=z(ye);return()=>n.scrollStrategies.reposition()}});function y2(n){return()=>n.scrollStrategies.reposition()}var w2=new B("MAT_SELECT_CONFIG"),E2={provide:sR,deps:[ye],useFactory:y2},I2=new B("MatSelectTrigger"),dy=class{constructor(t,e){this.source=t,this.value=e}},aR=(()=>{class n{_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let r=this.panel.nativeElement,o=RA(e,this.options,this.optionGroups),s=i._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=DA(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new dy(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ke.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,o,s,a,c,d,h,m,g,v,A,D){this._viewportRuler=e,this._changeDetectorRef=i,this._elementRef=s,this._dir=a,this._parentFormField=h,this.ngControl=m,this._liveAnnouncer=A,this._defaultOptions=D,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(T,G)=>T===G,this._uid=`mat-select-${oR++}`,this._triggerAriaLabelledBy=null,this._destroy=new it,this.stateChanges=new it,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${oR++}`,this._panelDoneAnimatingStream=new it,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new it,this.optionSelectionChanges=an(()=>{let T=this.options;return T?T.changes.pipe(xe(T),Lt(()=>gi(...T.map(G=>G.onSelectionChange)))):this._initialized.pipe(Lt(()=>this.optionSelectionChanges))}),this.openedChange=new wt,this._openedStream=this.openedChange.pipe(kt(T=>T),Y(()=>{})),this._closedStream=this.openedChange.pipe(kt(T=>!T),Y(()=>{})),this.selectionChange=new wt,this.valueChange=new wt,this._trackedModal=null,this._skipPredicate=T=>this.panelOpen?!1:T.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),D?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=D.typeaheadDebounceInterval),this._errorStateTracker=new tf(o,m,d,c,this.stateChanges),this._scrollStrategyFactory=v,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new vf(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Mr(),Ft(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ft(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ft(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(xe(null),Ft(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&Qh(this._trackedModal,"aria-owns",i),ub(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Qh(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,o=i===13||i===32,s=this._keyManager;if(!s.isTyping()&&o&&!ei(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(e);let c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,o=r===40||r===38,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&i.activeItem&&!ei(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{let a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Re(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return r.value!=null&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Pc?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Hh(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=gi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ft(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),gi(...this.options.map(i=>i._stateChanges)).pipe(Ft(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(i){return new(i||n)(R(ga),R(Ee),R(et),R(TA),R(ht),R(Ei,8),R(xp,8),R(Qn,8),R(cy,8),R(pn,10),Lo("tabindex"),R(sR),R(_A),R(w2,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(i&1&&(Ai(o,I2,5),Ai(o,rf,5),Ai(o,Ib,5)),i&2){let s;Pt(s=Mt())&&(r.customTrigger=s.first),Pt(s=Mt())&&(r.options=s),Pt(s=Mt())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(i&1&&(de(d2,5),de(u2,5),de(Zb,5)),i&2){let o;Pt(o=Mt())&&(r.trigger=o.first),Pt(o=Mt())&&(r.panel=o.first),Pt(o=Mt())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){i&1&&_t("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(Ut("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),qt("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Dt],disableRipple:[2,"disableRipple","disableRipple",Dt],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:cn(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Dt],placeholder:"placeholder",required:[2,"required","required",Dt],multiple:[2,"multiple","multiple",Dt],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Dt],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",cn],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[we([{provide:ly,useExisting:n},{provide:Eb,useExisting:n}]),ze,Ye,Jt],ngContentSelectors:f2,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let o=qe();_i(h2),V(0,"div",2,0),_t("click",function(){return re(o),oe(r.open())}),V(3,"div",3),vt(4,m2,2,1,"span",4)(5,_2,3,1,"span",5),U(),V(6,"div",6)(7,"div",7),Nr(),V(8,"svg",8),pt(9,"path",9),U()()()(),vt(10,v2,3,9,"ng-template",10),_t("backdropClick",function(){return re(o),oe(r.close())})("attach",function(){return re(o),oe(r._onAttached())})("detach",function(){return re(o),oe(r.close())})}if(i&2){let o=Bn(1);J(3),Ut("id",r._valueId),J(),$t(r.empty?4:5),J(6),ft("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Pc,Zb,md],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[b2.transformPanel]},changeDetection:0})}}return n})();var lR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[E2],imports:[zi,Ar,Cb,ce,pa,rR,Cb,ce]})}}return n})();var C2=["tooltip"],uR=20;var hR=new B("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=z(ye);return()=>n.scrollStrategies.reposition({scrollThrottle:uR})}});function x2(n){return()=>n.scrollStrategies.reposition({scrollThrottle:uR})}var T2={provide:hR,deps:[ye],useFactory:x2};function A2(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var S2=new B("mat-tooltip-default-options",{providedIn:"root",factory:A2});var cR="tooltip-panel",dR=yr({passive:!0}),R2=8,D2=8,k2=24,P2=200,fR=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ra(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=ra(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Er(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Er(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,a,c,d,h,m,g,v){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=d,this._dir=m,this._defaultOptions=g,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=M2,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new it,this._injector=z(se),this._scrollStrategy=h,this._document=v,g&&(this._showDelay=g.showDelay,this._hideDelay=g.hideDelay,g.position&&(this.position=g.position),g.positionAtOrigin&&(this.positionAtOrigin=g.positionAtOrigin),g.touchGestures&&(this.touchGestures=g.touchGestures),g.tooltipClass&&(this.tooltipClass=g.tooltipClass)),m.change.pipe(Ft(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=R2}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ft(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,dR)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Tr(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ft(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof ht)return this._overlayRef;this._detach()}let i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Ft(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${cR}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ft(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ft(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ft(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!ei(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(N(N({},r.main),o.main)),this._addOffset(N(N({},r.fallback),o.fallback))])}_addOffset(e){let i=D2,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-i:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=r?-i:i:e.originX==="end"&&(e.offsetX=r?i:-i),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Bi(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:r,originY:o}=e,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=i==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let c=`${this._cssClassPrefix}-${cR}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,dR)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,r=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(i){return new(i||n)(R(ye),R(ht),R(Rc),R(ln),R(et),R(Bt),R(mA),R(Ir),R(hR),R(Ei),R(S2,8),R(ct))}}static{this.\u0275dir=dt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&qt("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return n})(),M2=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new it,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=r==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>k2&&e.width>=P2}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(i){return new(i||n)(R(Ee),R(ht),R(De,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&de(C2,7),i&2){let o;Pt(o=Mt())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&_t("mouseleave",function(s){return r._handleMouseLeave(s)})},standalone:!0,features:[Jt],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=qe();V(0,"div",1,0),_t("animationend",function(a){return re(o),oe(r._handleAnimationEnd(a))}),V(2,"div",2),ot(3),U()()}i&2&&(qt("mdc-tooltip--multiline",r._isMultiline),ft("ngClass",r.tooltipClass),J(3),$e(r.message))},dependencies:[md],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return n})();var mR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[T2],imports:[Xh,zi,Ar,ce,ce,pa]})}}return n})();function O2(n,t){if(n&1&&(V(0,"mat-option",17),ot(1),U()),n&2){let e=t.$implicit;ft("value",e),J(),Vr(" ",e," ")}}function N2(n,t){if(n&1){let e=qe();V(0,"mat-form-field",14)(1,"mat-select",16,0),_t("selectionChange",function(r){re(e);let o=yt(2);return oe(o._changePageSize(r.value))}),U0(3,O2,2,2,"mat-option",17,j0),U(),V(5,"div",18),_t("click",function(){re(e);let r=Bn(2);return oe(r.open())}),U()()}if(n&2){let e=yt(2);ft("appearance",e._formFieldAppearance)("color",e.color),J(),ft("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),J(2),B0(e._displayedPageSizeOptions)}}function F2(n,t){if(n&1&&(V(0,"div",15),ot(1),U()),n&2){let e=yt(2);J(),$e(e.pageSize)}}function V2(n,t){if(n&1&&(V(0,"div",3)(1,"div",13),ot(2),U(),vt(3,N2,6,7,"mat-form-field",14)(4,F2,2,1,"div",15),U()),n&2){let e=yt();J(),Ut("id",e._pageSizeLabelId),J(),Vr(" ",e._intl.itemsPerPageLabel," "),J(),$t(e._displayedPageSizeOptions.length>1?3:-1),J(),$t(e._displayedPageSizeOptions.length<=1?4:-1)}}function L2(n,t){if(n&1){let e=qe();V(0,"button",19),_t("click",function(){re(e);let r=yt();return oe(r.firstPage())}),Nr(),V(1,"svg",8),pt(2,"path",20),U()()}if(n&2){let e=yt();ft("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),Ut("aria-label",e._intl.firstPageLabel)}}function j2(n,t){if(n&1){let e=qe();V(0,"button",21),_t("click",function(){re(e);let r=yt();return oe(r.lastPage())}),Nr(),V(1,"svg",8),pt(2,"path",22),U()()}if(n&2){let e=yt();ft("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),Ut("aria-label",e._intl.lastPageLabel)}}var If=(()=>{class n{constructor(){this.changes=new it,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(r==0||i==0)return`0 of ${r}`;r=Math.max(r,0);let o=e*i,s=o<r?Math.min(o+i,r):o+i;return`${o+1} \u2013 ${s} of ${r}`}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U2(n){return n||new If}var B2={provide:If,deps:[[new jn,new Ba,If]],useFactory:U2},z2=50;var q2=new B("MAT_PAGINATOR_DEFAULT_OPTIONS"),$2=0,G2=(()=>{class n{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>cn(i,0)),this._updateDisplayedPageSizeOptions()}constructor(e,i,r){if(this._intl=e,this._changeDetectorRef=i,this._pageSizeLabelId=`mat-paginator-page-size-label-${$2++}`,this._isInitialized=!1,this._initializedStream=new f0(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new wt,this.initialized=this._initializedStream,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){let{pageSize:o,pageSizeOptions:s,hidePageSize:a,showFirstLastButtons:c}=r;o!=null&&(this._pageSize=o),s!=null&&(this._pageSizeOptions=s),a!=null&&(this.hidePageSize=a),c!=null&&(this.showFirstLastButtons=c)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let i=this.pageIndex*this.pageSize,r=this.pageIndex;this.pageIndex=Math.floor(i/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:z2),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(i){return new(i||n)(R(If),R(Ee),R(q2,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",cn],length:[2,"length","length",cn],pageSize:[2,"pageSize","pageSize",cn],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Dt],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Dt],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Dt]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[ze,Jt],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,r){i&1&&(V(0,"div",1)(1,"div",2),vt(2,V2,5,4,"div",3),V(3,"div",4)(4,"div",5),ot(5),U(),vt(6,L2,3,5,"button",6),V(7,"button",7),_t("click",function(){return r.previousPage()}),Nr(),V(8,"svg",8),pt(9,"path",9),U()(),I0(),V(10,"button",10),_t("click",function(){return r.nextPage()}),Nr(),V(11,"svg",8),pt(12,"path",11),U()(),vt(13,j2,3,5,"button",12),U()()()),i&2&&(J(2),$t(r.hidePageSize?-1:2),J(3),Vr(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),J(),$t(r.showFirstLastButtons?6:-1),J(),ft("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),Ut("aria-label",r._intl.previousPageLabel),J(3),ft("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),Ut("aria-label",r._intl.nextPageLabel),J(3),$t(r.showFirstLastButtons?13:-1))},dependencies:[nR,aR,rf,AS,fR],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}}return n})(),pR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=nt({providers:[B2],imports:[Sc,lR,mR,G2]})}}return n})();var gR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n,bootstrap:[xS]})}static{this.\u0275inj=nt({providers:[$S()],imports:[Sw,CS,JE,gI.initializeApp(TS.firebaseConfig),Sc,xb,eA,ES,Sc,xb,qS,ZE,GS,pR]})}}return n})();Aw().bootstrapModule(gR,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
